(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function c(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(u){if(u.ep)return;u.ep=!0;const h=c(u);fetch(u.href,h)}})();var ho={exports:{}},An={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf;function eg(){if(gf)return An;gf=1;var f=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function c(o,u,h){var g=null;if(h!==void 0&&(g=""+h),u.key!==void 0&&(g=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:f,type:o,key:g,ref:u!==void 0?u:null,props:h}}return An.Fragment=i,An.jsx=c,An.jsxs=c,An}var yf;function tg(){return yf||(yf=1,ho.exports=eg()),ho.exports}var r=tg(),po={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf;function ag(){if(mf)return le;mf=1;var f=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),T=Symbol.iterator;function Y(S){return S===null||typeof S!="object"?null:(S=T&&S[T]||S["@@iterator"],typeof S=="function"?S:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,Z={};function q(S,N,W){this.props=S,this.context=N,this.refs=Z,this.updater=W||X}q.prototype.isReactComponent={},q.prototype.setState=function(S,N){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,N,"setState")},q.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function b(){}b.prototype=q.prototype;function O(S,N,W){this.props=S,this.context=N,this.refs=Z,this.updater=W||X}var U=O.prototype=new b;U.constructor=O,ee(U,q.prototype),U.isPureReactComponent=!0;var te=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},ke=Object.prototype.hasOwnProperty;function Ge(S,N,W,k,K,ue){return W=ue.ref,{$$typeof:f,type:S,key:N,ref:W!==void 0?W:null,props:ue}}function Ye(S,N){return Ge(S.type,N,void 0,void 0,void 0,S.props)}function Pe(S){return typeof S=="object"&&S!==null&&S.$$typeof===f}function $t(S){var N={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(W){return N[W]})}var Tt=/\/+/g;function Q(S,N){return typeof S=="object"&&S!==null&&S.key!=null?$t(""+S.key):N.toString(36)}function Ce(){}function Qe(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Ce,Ce):(S.status="pending",S.then(function(N){S.status==="pending"&&(S.status="fulfilled",S.value=N)},function(N){S.status==="pending"&&(S.status="rejected",S.reason=N)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function Be(S,N,W,k,K){var ue=typeof S;(ue==="undefined"||ue==="boolean")&&(S=null);var ae=!1;if(S===null)ae=!0;else switch(ue){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(S.$$typeof){case f:case i:ae=!0;break;case C:return ae=S._init,Be(ae(S._payload),N,W,k,K)}}if(ae)return K=K(S),ae=k===""?"."+Q(S,0):k,te(K)?(W="",ae!=null&&(W=ae.replace(Tt,"$&/")+"/"),Be(K,N,W,"",function(It){return It})):K!=null&&(Pe(K)&&(K=Ye(K,W+(K.key==null||S&&S.key===K.key?"":(""+K.key).replace(Tt,"$&/")+"/")+ae)),N.push(K)),1;ae=0;var at=k===""?".":k+":";if(te(S))for(var je=0;je<S.length;je++)k=S[je],ue=at+Q(k,je),ae+=Be(k,N,W,ue,K);else if(je=Y(S),typeof je=="function")for(S=je.call(S),je=0;!(k=S.next()).done;)k=k.value,ue=at+Q(k,je++),ae+=Be(k,N,W,ue,K);else if(ue==="object"){if(typeof S.then=="function")return Be(Qe(S),N,W,k,K);throw N=String(S),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return ae}function z(S,N,W){if(S==null)return S;var k=[],K=0;return Be(S,k,"","",function(ue){return N.call(W,ue,K++)}),k}function G(S){if(S._status===-1){var N=S._result;N=N(),N.then(function(W){(S._status===0||S._status===-1)&&(S._status=1,S._result=W)},function(W){(S._status===0||S._status===-1)&&(S._status=2,S._result=W)}),S._status===-1&&(S._status=0,S._result=N)}if(S._status===1)return S._result.default;throw S._result}var I=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function xe(){}return le.Children={map:z,forEach:function(S,N,W){z(S,function(){N.apply(this,arguments)},W)},count:function(S){var N=0;return z(S,function(){N++}),N},toArray:function(S){return z(S,function(N){return N})||[]},only:function(S){if(!Pe(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},le.Component=q,le.Fragment=c,le.Profiler=u,le.PureComponent=O,le.StrictMode=o,le.Suspense=x,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,le.__COMPILER_RUNTIME={__proto__:null,c:function(S){return $.H.useMemoCache(S)}},le.cache=function(S){return function(){return S.apply(null,arguments)}},le.cloneElement=function(S,N,W){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var k=ee({},S.props),K=S.key,ue=void 0;if(N!=null)for(ae in N.ref!==void 0&&(ue=void 0),N.key!==void 0&&(K=""+N.key),N)!ke.call(N,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&N.ref===void 0||(k[ae]=N[ae]);var ae=arguments.length-2;if(ae===1)k.children=W;else if(1<ae){for(var at=Array(ae),je=0;je<ae;je++)at[je]=arguments[je+2];k.children=at}return Ge(S.type,K,void 0,void 0,ue,k)},le.createContext=function(S){return S={$$typeof:g,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:h,_context:S},S},le.createElement=function(S,N,W){var k,K={},ue=null;if(N!=null)for(k in N.key!==void 0&&(ue=""+N.key),N)ke.call(N,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(K[k]=N[k]);var ae=arguments.length-2;if(ae===1)K.children=W;else if(1<ae){for(var at=Array(ae),je=0;je<ae;je++)at[je]=arguments[je+2];K.children=at}if(S&&S.defaultProps)for(k in ae=S.defaultProps,ae)K[k]===void 0&&(K[k]=ae[k]);return Ge(S,ue,void 0,void 0,null,K)},le.createRef=function(){return{current:null}},le.forwardRef=function(S){return{$$typeof:y,render:S}},le.isValidElement=Pe,le.lazy=function(S){return{$$typeof:C,_payload:{_status:-1,_result:S},_init:G}},le.memo=function(S,N){return{$$typeof:m,type:S,compare:N===void 0?null:N}},le.startTransition=function(S){var N=$.T,W={};$.T=W;try{var k=S(),K=$.S;K!==null&&K(W,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(xe,I)}catch(ue){I(ue)}finally{$.T=N}},le.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},le.use=function(S){return $.H.use(S)},le.useActionState=function(S,N,W){return $.H.useActionState(S,N,W)},le.useCallback=function(S,N){return $.H.useCallback(S,N)},le.useContext=function(S){return $.H.useContext(S)},le.useDebugValue=function(){},le.useDeferredValue=function(S,N){return $.H.useDeferredValue(S,N)},le.useEffect=function(S,N,W){var k=$.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return k.useEffect(S,N)},le.useId=function(){return $.H.useId()},le.useImperativeHandle=function(S,N,W){return $.H.useImperativeHandle(S,N,W)},le.useInsertionEffect=function(S,N){return $.H.useInsertionEffect(S,N)},le.useLayoutEffect=function(S,N){return $.H.useLayoutEffect(S,N)},le.useMemo=function(S,N){return $.H.useMemo(S,N)},le.useOptimistic=function(S,N){return $.H.useOptimistic(S,N)},le.useReducer=function(S,N,W){return $.H.useReducer(S,N,W)},le.useRef=function(S){return $.H.useRef(S)},le.useState=function(S){return $.H.useState(S)},le.useSyncExternalStore=function(S,N,W){return $.H.useSyncExternalStore(S,N,W)},le.useTransition=function(){return $.H.useTransition()},le.version="19.1.1",le}var xf;function So(){return xf||(xf=1,po.exports=ag()),po.exports}var Se=So(),go={exports:{}},Rn={},yo={exports:{}},mo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vf;function lg(){return vf||(vf=1,(function(f){function i(z,G){var I=z.length;z.push(G);e:for(;0<I;){var xe=I-1>>>1,S=z[xe];if(0<u(S,G))z[xe]=G,z[I]=S,I=xe;else break e}}function c(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var G=z[0],I=z.pop();if(I!==G){z[0]=I;e:for(var xe=0,S=z.length,N=S>>>1;xe<N;){var W=2*(xe+1)-1,k=z[W],K=W+1,ue=z[K];if(0>u(k,I))K<S&&0>u(ue,k)?(z[xe]=ue,z[K]=I,xe=K):(z[xe]=k,z[W]=I,xe=W);else if(K<S&&0>u(ue,I))z[xe]=ue,z[K]=I,xe=K;else break e}}return G}function u(z,G){var I=z.sortIndex-G.sortIndex;return I!==0?I:z.id-G.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;f.unstable_now=function(){return h.now()}}else{var g=Date,y=g.now();f.unstable_now=function(){return g.now()-y}}var x=[],m=[],C=1,T=null,Y=3,X=!1,ee=!1,Z=!1,q=!1,b=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function te(z){for(var G=c(m);G!==null;){if(G.callback===null)o(m);else if(G.startTime<=z)o(m),G.sortIndex=G.expirationTime,i(x,G);else break;G=c(m)}}function $(z){if(Z=!1,te(z),!ee)if(c(x)!==null)ee=!0,ke||(ke=!0,Q());else{var G=c(m);G!==null&&Be($,G.startTime-z)}}var ke=!1,Ge=-1,Ye=5,Pe=-1;function $t(){return q?!0:!(f.unstable_now()-Pe<Ye)}function Tt(){if(q=!1,ke){var z=f.unstable_now();Pe=z;var G=!0;try{e:{ee=!1,Z&&(Z=!1,O(Ge),Ge=-1),X=!0;var I=Y;try{t:{for(te(z),T=c(x);T!==null&&!(T.expirationTime>z&&$t());){var xe=T.callback;if(typeof xe=="function"){T.callback=null,Y=T.priorityLevel;var S=xe(T.expirationTime<=z);if(z=f.unstable_now(),typeof S=="function"){T.callback=S,te(z),G=!0;break t}T===c(x)&&o(x),te(z)}else o(x);T=c(x)}if(T!==null)G=!0;else{var N=c(m);N!==null&&Be($,N.startTime-z),G=!1}}break e}finally{T=null,Y=I,X=!1}G=void 0}}finally{G?Q():ke=!1}}}var Q;if(typeof U=="function")Q=function(){U(Tt)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Qe=Ce.port2;Ce.port1.onmessage=Tt,Q=function(){Qe.postMessage(null)}}else Q=function(){b(Tt,0)};function Be(z,G){Ge=b(function(){z(f.unstable_now())},G)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(z){z.callback=null},f.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ye=0<z?Math.floor(1e3/z):5},f.unstable_getCurrentPriorityLevel=function(){return Y},f.unstable_next=function(z){switch(Y){case 1:case 2:case 3:var G=3;break;default:G=Y}var I=Y;Y=G;try{return z()}finally{Y=I}},f.unstable_requestPaint=function(){q=!0},f.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var I=Y;Y=z;try{return G()}finally{Y=I}},f.unstable_scheduleCallback=function(z,G,I){var xe=f.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?xe+I:xe):I=xe,z){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=I+S,z={id:C++,callback:G,priorityLevel:z,startTime:I,expirationTime:S,sortIndex:-1},I>xe?(z.sortIndex=I,i(m,z),c(x)===null&&z===c(m)&&(Z?(O(Ge),Ge=-1):Z=!0,Be($,I-xe))):(z.sortIndex=S,i(x,z),ee||X||(ee=!0,ke||(ke=!0,Q()))),z},f.unstable_shouldYield=$t,f.unstable_wrapCallback=function(z){var G=Y;return function(){var I=Y;Y=G;try{return z.apply(this,arguments)}finally{Y=I}}}})(mo)),mo}var bf;function ng(){return bf||(bf=1,yo.exports=lg()),yo.exports}var xo={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sf;function ig(){if(Sf)return Ke;Sf=1;var f=So();function i(x){var m="https://react.dev/errors/"+x;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)m+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+x+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var o={d:{f:c,r:function(){throw Error(i(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(x,m,C){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:x,containerInfo:m,implementation:C}}var g=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(x,m){if(x==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Ke.createPortal=function(x,m){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(i(299));return h(x,m,null,C)},Ke.flushSync=function(x){var m=g.T,C=o.p;try{if(g.T=null,o.p=2,x)return x()}finally{g.T=m,o.p=C,o.d.f()}},Ke.preconnect=function(x,m){typeof x=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(x,m))},Ke.prefetchDNS=function(x){typeof x=="string"&&o.d.D(x)},Ke.preinit=function(x,m){if(typeof x=="string"&&m&&typeof m.as=="string"){var C=m.as,T=y(C,m.crossOrigin),Y=typeof m.integrity=="string"?m.integrity:void 0,X=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;C==="style"?o.d.S(x,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:Y,fetchPriority:X}):C==="script"&&o.d.X(x,{crossOrigin:T,integrity:Y,fetchPriority:X,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ke.preinitModule=function(x,m){if(typeof x=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var C=y(m.as,m.crossOrigin);o.d.M(x,{crossOrigin:C,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(x)},Ke.preload=function(x,m){if(typeof x=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var C=m.as,T=y(C,m.crossOrigin);o.d.L(x,C,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ke.preloadModule=function(x,m){if(typeof x=="string")if(m){var C=y(m.as,m.crossOrigin);o.d.m(x,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:C,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(x)},Ke.requestFormReset=function(x){o.d.r(x)},Ke.unstable_batchedUpdates=function(x,m){return x(m)},Ke.useFormState=function(x,m,C){return g.H.useFormState(x,m,C)},Ke.useFormStatus=function(){return g.H.useHostTransitionStatus()},Ke.version="19.1.1",Ke}var jf;function sg(){if(jf)return xo.exports;jf=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(i){console.error(i)}}return f(),xo.exports=ig(),xo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf;function rg(){if(Tf)return Rn;Tf=1;var f=ng(),i=So(),c=sg();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(o(188))}function x(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var s=n.alternate;if(s===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===a)return y(n),e;if(s===l)return y(n),t;s=s.sibling}throw Error(o(188))}if(a.return!==l.return)a=n,l=s;else{for(var d=!1,p=n.child;p;){if(p===a){d=!0,a=n,l=s;break}if(p===l){d=!0,l=n,a=s;break}p=p.sibling}if(!d){for(p=s.child;p;){if(p===a){d=!0,a=s,l=n;break}if(p===l){d=!0,l=s,a=n;break}p=p.sibling}if(!d)throw Error(o(189))}}if(a.alternate!==l)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,T=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),U=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy"),Pe=Symbol.for("react.activity"),$t=Symbol.for("react.memo_cache_sentinel"),Tt=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=Tt&&e[Tt]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Symbol.for("react.client.reference");function Qe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ee:return"Fragment";case q:return"Profiler";case Z:return"StrictMode";case $:return"Suspense";case ke:return"SuspenseList";case Pe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case U:return(e.displayName||"Context")+".Provider";case O:return(e._context.displayName||"Context")+".Consumer";case te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ge:return t=e.displayName||null,t!==null?t:Qe(e.type)||"Memo";case Ye:t=e._payload,e=e._init;try{return Qe(e(t))}catch{}}return null}var Be=Array.isArray,z=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},xe=[],S=-1;function N(e){return{current:e}}function W(e){0>S||(e.current=xe[S],xe[S]=null,S--)}function k(e,t){S++,xe[S]=e.current,e.current=t}var K=N(null),ue=N(null),ae=N(null),at=N(null);function je(e,t){switch(k(ae,t),k(ue,e),k(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wd(t),e=Ld(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(K),k(K,e)}function It(){W(K),W(ue),W(ae)}function $i(e){e.memoizedState!==null&&k(at,e);var t=K.current,a=Ld(t,e.type);t!==a&&(k(ue,e),k(K,a))}function On(e){ue.current===e&&(W(K),W(ue)),at.current===e&&(W(at),Tn._currentValue=I)}var Ii=Object.prototype.hasOwnProperty,Fi=f.unstable_scheduleCallback,es=f.unstable_cancelCallback,Mf=f.unstable_shouldYield,Of=f.unstable_requestPaint,At=f.unstable_now,Bf=f.unstable_getCurrentPriorityLevel,jo=f.unstable_ImmediatePriority,To=f.unstable_UserBlockingPriority,Bn=f.unstable_NormalPriority,Hf=f.unstable_LowPriority,_o=f.unstable_IdlePriority,Nf=f.log,Uf=f.unstable_setDisableYieldValue,El=null,lt=null;function Ft(e){if(typeof Nf=="function"&&Uf(e),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(El,e)}catch{}}var nt=Math.clz32?Math.clz32:Gf,qf=Math.log,kf=Math.LN2;function Gf(e){return e>>>=0,e===0?32:31-(qf(e)/kf|0)|0}var Hn=256,Nn=4194304;function Ca(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Un(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,s=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var p=l&134217727;return p!==0?(l=p&~s,l!==0?n=Ca(l):(d&=p,d!==0?n=Ca(d):a||(a=p&~e,a!==0&&(n=Ca(a))))):(p=l&~s,p!==0?n=Ca(p):d!==0?n=Ca(d):a||(a=l&~e,a!==0&&(n=Ca(a)))),n===0?0:t!==0&&t!==n&&(t&s)===0&&(s=n&-n,a=t&-t,s>=a||s===32&&(a&4194048)!==0)?t:n}function zl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Yf(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var e=Hn;return Hn<<=1,(Hn&4194048)===0&&(Hn=256),e}function wo(){var e=Nn;return Nn<<=1,(Nn&62914560)===0&&(Nn=4194304),e}function ts(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ml(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wf(e,t,a,l,n,s){var d=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var p=e.entanglements,v=e.expirationTimes,D=e.hiddenUpdates;for(a=d&~a;0<a;){var M=31-nt(a),H=1<<M;p[M]=0,v[M]=-1;var A=D[M];if(A!==null)for(D[M]=null,M=0;M<A.length;M++){var R=A[M];R!==null&&(R.lane&=-536870913)}a&=~H}l!==0&&Do(e,l,0),s!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=s&~(d&~t))}function Do(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-nt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Ao(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-nt(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function as(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ls(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ro(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:cf(e.type))}function Lf(e,t){var a=G.p;try{return G.p=e,t()}finally{G.p=a}}var ea=Math.random().toString(36).slice(2),Ve="__reactFiber$"+ea,$e="__reactProps$"+ea,Xa="__reactContainer$"+ea,ns="__reactEvents$"+ea,Xf="__reactListeners$"+ea,Qf="__reactHandles$"+ea,Eo="__reactResources$"+ea,Ol="__reactMarker$"+ea;function is(e){delete e[Ve],delete e[$e],delete e[ns],delete e[Xf],delete e[Qf]}function Qa(e){var t=e[Ve];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Xa]||a[Ve]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Zd(e);e!==null;){if(a=e[Ve])return a;e=Zd(e)}return t}e=a,a=e.parentNode}return null}function Va(e){if(e=e[Ve]||e[Xa]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Bl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Za(e){var t=e[Eo];return t||(t=e[Eo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Ol]=!0}var zo=new Set,Mo={};function wa(e,t){Ka(e,t),Ka(e+"Capture",t)}function Ka(e,t){for(Mo[e]=t,e=0;e<t.length;e++)zo.add(t[e])}var Vf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Bo={};function Zf(e){return Ii.call(Bo,e)?!0:Ii.call(Oo,e)?!1:Vf.test(e)?Bo[e]=!0:(Oo[e]=!0,!1)}function qn(e,t,a){if(Zf(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function kn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ht(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}var ss,Ho;function Ja(e){if(ss===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ss=t&&t[1]||"",Ho=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ss+e+Ho}var rs=!1;function os(e,t){if(!e||rs)return"";rs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(R){var A=R}Reflect.construct(e,[],H)}else{try{H.call()}catch(R){A=R}e.call(H.prototype)}}else{try{throw Error()}catch(R){A=R}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(R){if(R&&A&&typeof R.stack=="string")return[R.stack,A.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),d=s[0],p=s[1];if(d&&p){var v=d.split(`
`),D=p.split(`
`);for(n=l=0;l<v.length&&!v[l].includes("DetermineComponentFrameRoot");)l++;for(;n<D.length&&!D[n].includes("DetermineComponentFrameRoot");)n++;if(l===v.length||n===D.length)for(l=v.length-1,n=D.length-1;1<=l&&0<=n&&v[l]!==D[n];)n--;for(;1<=l&&0<=n;l--,n--)if(v[l]!==D[n]){if(l!==1||n!==1)do if(l--,n--,0>n||v[l]!==D[n]){var M=`
`+v[l].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=l&&0<=n);break}}}finally{rs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ja(a):""}function Kf(e){switch(e.tag){case 26:case 27:case 5:return Ja(e.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 15:return os(e.type,!1);case 11:return os(e.type.render,!1);case 1:return os(e.type,!0);case 31:return Ja("Activity");default:return""}}function No(e){try{var t="";do t+=Kf(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jf(e){var t=Uo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(d){l=""+d,s.call(this,d)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(d){l=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gn(e){e._valueTracker||(e._valueTracker=Jf(e))}function qo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Uo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Yn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Pf=/[\n"\\]/g;function pt(e){return e.replace(Pf,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function cs(e,t,a,l,n,s,d,p){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?us(e,d,ht(t)):a!=null?us(e,d,ht(a)):l!=null&&e.removeAttribute("value"),n==null&&s!=null&&(e.defaultChecked=!!s),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+ht(p):e.removeAttribute("name")}function ko(e,t,a,l,n,s,d,p){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||a!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;a=a!=null?""+ht(a):"",t=t!=null?""+ht(t):a,p||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=p?e.checked:!!l,e.defaultChecked=!!l,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d)}function us(e,t,a){t==="number"&&Yn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Pa(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ht(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Go(e,t,a){if(t!=null&&(t=""+ht(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ht(a):""}function Yo(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(o(92));if(Be(l)){if(1<l.length)throw Error(o(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=ht(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function $a(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var $f=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||$f.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Lo(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&Wo(e,n,l)}else for(var s in t)t.hasOwnProperty(s)&&Wo(e,s,t[s])}function ds(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var If=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ff=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wn(e){return Ff.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var fs=null;function hs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ia=null,Fa=null;function Xo(e){var t=Va(e);if(t&&(e=t.stateNode)){var a=e[$e]||null;e:switch(e=t.stateNode,t.type){case"input":if(cs(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[$e]||null;if(!n)throw Error(o(90));cs(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&qo(l)}break e;case"textarea":Go(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Pa(e,!!a.multiple,t,!1)}}}var ps=!1;function Qo(e,t,a){if(ps)return e(t,a);ps=!0;try{var l=e(t);return l}finally{if(ps=!1,(Ia!==null||Fa!==null)&&(Di(),Ia&&(t=Ia,e=Fa,Fa=Ia=null,Xo(t),e)))for(t=0;t<e.length;t++)Xo(e[t])}}function Hl(e,t){var a=e.stateNode;if(a===null)return null;var l=a[$e]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var Nt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(Nt)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){gs=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{gs=!1}var ta=null,ys=null,Ln=null;function Vo(){if(Ln)return Ln;var e,t=ys,a=t.length,l,n="value"in ta?ta.value:ta.textContent,s=n.length;for(e=0;e<a&&t[e]===n[e];e++);var d=a-e;for(l=1;l<=d&&t[a-l]===n[s-l];l++);return Ln=n.slice(e,1<l?1-l:void 0)}function Xn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qn(){return!0}function Zo(){return!1}function Ie(e){function t(a,l,n,s,d){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=s,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(a=e[p],this[p]=a?a(s):s[p]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qn:Zo,this.isPropagationStopped=Zo,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),t}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vn=Ie(Da),Ul=C({},Da,{view:0,detail:0}),eh=Ie(Ul),ms,xs,ql,Zn=C({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ql&&(ql&&e.type==="mousemove"?(ms=e.screenX-ql.screenX,xs=e.screenY-ql.screenY):xs=ms=0,ql=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:xs}}),Ko=Ie(Zn),th=C({},Zn,{dataTransfer:0}),ah=Ie(th),lh=C({},Ul,{relatedTarget:0}),vs=Ie(lh),nh=C({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),ih=Ie(nh),sh=C({},Da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rh=Ie(sh),oh=C({},Da,{data:0}),Jo=Ie(oh),ch={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dh[e])?!!t[e]:!1}function bs(){return fh}var hh=C({},Ul,{key:function(e){if(e.key){var t=ch[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(e){return e.type==="keypress"?Xn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ph=Ie(hh),gh=C({},Zn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Po=Ie(gh),yh=C({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),mh=Ie(yh),xh=C({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),vh=Ie(xh),bh=C({},Zn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sh=Ie(bh),jh=C({},Da,{newState:0,oldState:0}),Th=Ie(jh),_h=[9,13,27,32],Ss=Nt&&"CompositionEvent"in window,kl=null;Nt&&"documentMode"in document&&(kl=document.documentMode);var Ch=Nt&&"TextEvent"in window&&!kl,$o=Nt&&(!Ss||kl&&8<kl&&11>=kl),Io=" ",Fo=!1;function ec(e,t){switch(e){case"keyup":return _h.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var el=!1;function wh(e,t){switch(e){case"compositionend":return tc(t);case"keypress":return t.which!==32?null:(Fo=!0,Io);case"textInput":return e=t.data,e===Io&&Fo?null:e;default:return null}}function Dh(e,t){if(el)return e==="compositionend"||!Ss&&ec(e,t)?(e=Vo(),Ln=ys=ta=null,el=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $o&&t.locale!=="ko"?null:t.data;default:return null}}var Ah={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ah[e.type]:t==="textarea"}function lc(e,t,a,l){Ia?Fa?Fa.push(l):Fa=[l]:Ia=l,t=Oi(t,"onChange"),0<t.length&&(a=new Vn("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Gl=null,Yl=null;function Rh(e){Ud(e,0)}function Kn(e){var t=Bl(e);if(qo(t))return e}function nc(e,t){if(e==="change")return t}var ic=!1;if(Nt){var js;if(Nt){var Ts="oninput"in document;if(!Ts){var sc=document.createElement("div");sc.setAttribute("oninput","return;"),Ts=typeof sc.oninput=="function"}js=Ts}else js=!1;ic=js&&(!document.documentMode||9<document.documentMode)}function rc(){Gl&&(Gl.detachEvent("onpropertychange",oc),Yl=Gl=null)}function oc(e){if(e.propertyName==="value"&&Kn(Yl)){var t=[];lc(t,Yl,e,hs(e)),Qo(Rh,t)}}function Eh(e,t,a){e==="focusin"?(rc(),Gl=t,Yl=a,Gl.attachEvent("onpropertychange",oc)):e==="focusout"&&rc()}function zh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kn(Yl)}function Mh(e,t){if(e==="click")return Kn(t)}function Oh(e,t){if(e==="input"||e==="change")return Kn(t)}function Bh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var it=typeof Object.is=="function"?Object.is:Bh;function Wl(e,t){if(it(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!Ii.call(t,n)||!it(e[n],t[n]))return!1}return!0}function cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uc(e,t){var a=cc(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cc(a)}}function dc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Yn(e.document)}return t}function _s(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Hh=Nt&&"documentMode"in document&&11>=document.documentMode,tl=null,Cs=null,Ll=null,ws=!1;function hc(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ws||tl==null||tl!==Yn(l)||(l=tl,"selectionStart"in l&&_s(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ll&&Wl(Ll,l)||(Ll=l,l=Oi(Cs,"onSelect"),0<l.length&&(t=new Vn("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=tl)))}function Aa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var al={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},Ds={},pc={};Nt&&(pc=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Ra(e){if(Ds[e])return Ds[e];if(!al[e])return e;var t=al[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in pc)return Ds[e]=t[a];return e}var gc=Ra("animationend"),yc=Ra("animationiteration"),mc=Ra("animationstart"),Nh=Ra("transitionrun"),Uh=Ra("transitionstart"),qh=Ra("transitioncancel"),xc=Ra("transitionend"),vc=new Map,As="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");As.push("scrollEnd");function _t(e,t){vc.set(e,t),wa(t,[e])}var bc=new WeakMap;function gt(e,t){if(typeof e=="object"&&e!==null){var a=bc.get(e);return a!==void 0?a:(t={value:e,source:t,stack:No(t)},bc.set(e,t),t)}return{value:e,source:t,stack:No(t)}}var yt=[],ll=0,Rs=0;function Jn(){for(var e=ll,t=Rs=ll=0;t<e;){var a=yt[t];yt[t++]=null;var l=yt[t];yt[t++]=null;var n=yt[t];yt[t++]=null;var s=yt[t];if(yt[t++]=null,l!==null&&n!==null){var d=l.pending;d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n}s!==0&&Sc(a,n,s)}}function Pn(e,t,a,l){yt[ll++]=e,yt[ll++]=t,yt[ll++]=a,yt[ll++]=l,Rs|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Es(e,t,a,l){return Pn(e,t,a,l),$n(e)}function nl(e,t){return Pn(e,null,null,t),$n(e)}function Sc(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,s=e.return;s!==null;)s.childLanes|=a,l=s.alternate,l!==null&&(l.childLanes|=a),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(n=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,n&&t!==null&&(n=31-nt(a),e=s.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),s):null}function $n(e){if(50<gn)throw gn=0,Nr=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var il={};function kh(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,a,l){return new kh(e,t,a,l)}function zs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ut(e,t){var a=e.alternate;return a===null?(a=st(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function jc(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function In(e,t,a,l,n,s){var d=0;if(l=e,typeof e=="function")zs(e)&&(d=1);else if(typeof e=="string")d=Yp(e,a,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Pe:return e=st(31,a,t,n),e.elementType=Pe,e.lanes=s,e;case ee:return Ea(a.children,n,s,t);case Z:d=8,n|=24;break;case q:return e=st(12,a,t,n|2),e.elementType=q,e.lanes=s,e;case $:return e=st(13,a,t,n),e.elementType=$,e.lanes=s,e;case ke:return e=st(19,a,t,n),e.elementType=ke,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b:case U:d=10;break e;case O:d=9;break e;case te:d=11;break e;case Ge:d=14;break e;case Ye:d=16,l=null;break e}d=29,a=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=st(d,a,t,n),t.elementType=e,t.type=l,t.lanes=s,t}function Ea(e,t,a,l){return e=st(7,e,l,t),e.lanes=a,e}function Ms(e,t,a){return e=st(6,e,null,t),e.lanes=a,e}function Os(e,t,a){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var sl=[],rl=0,Fn=null,ei=0,mt=[],xt=0,za=null,qt=1,kt="";function Ma(e,t){sl[rl++]=ei,sl[rl++]=Fn,Fn=e,ei=t}function Tc(e,t,a){mt[xt++]=qt,mt[xt++]=kt,mt[xt++]=za,za=e;var l=qt;e=kt;var n=32-nt(l)-1;l&=~(1<<n),a+=1;var s=32-nt(t)+n;if(30<s){var d=n-n%5;s=(l&(1<<d)-1).toString(32),l>>=d,n-=d,qt=1<<32-nt(t)+n|a<<n|l,kt=s+e}else qt=1<<s|a<<n|l,kt=e}function Bs(e){e.return!==null&&(Ma(e,1),Tc(e,1,0))}function Hs(e){for(;e===Fn;)Fn=sl[--rl],sl[rl]=null,ei=sl[--rl],sl[rl]=null;for(;e===za;)za=mt[--xt],mt[xt]=null,kt=mt[--xt],mt[xt]=null,qt=mt[--xt],mt[xt]=null}var Je=null,we=null,fe=!1,Oa=null,Rt=!1,Ns=Error(o(519));function Ba(e){var t=Error(o(418,""));throw Vl(gt(t,e)),Ns}function _c(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[Ve]=e,t[$e]=l,a){case"dialog":re("cancel",t),re("close",t);break;case"iframe":case"object":case"embed":re("load",t);break;case"video":case"audio":for(a=0;a<mn.length;a++)re(mn[a],t);break;case"source":re("error",t);break;case"img":case"image":case"link":re("error",t),re("load",t);break;case"details":re("toggle",t);break;case"input":re("invalid",t),ko(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Gn(t);break;case"select":re("invalid",t);break;case"textarea":re("invalid",t),Yo(t,l.value,l.defaultValue,l.children),Gn(t)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Yd(t.textContent,a)?(l.popover!=null&&(re("beforetoggle",t),re("toggle",t)),l.onScroll!=null&&re("scroll",t),l.onScrollEnd!=null&&re("scrollend",t),l.onClick!=null&&(t.onclick=Bi),t=!0):t=!1,t||Ba(e)}function Cc(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 13:Rt=!1;return;case 27:case 3:Rt=!0;return;default:Je=Je.return}}function Xl(e){if(e!==Je)return!1;if(!fe)return Cc(e),fe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ir(e.type,e.memoizedProps)),a=!a),a&&we&&Ba(e),Cc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){we=wt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}we=null}}else t===27?(t=we,ma(e.type)?(e=ao,ao=null,we=e):we=t):we=Je?wt(e.stateNode.nextSibling):null;return!0}function Ql(){we=Je=null,fe=!1}function wc(){var e=Oa;return e!==null&&(tt===null?tt=e:tt.push.apply(tt,e),Oa=null),e}function Vl(e){Oa===null?Oa=[e]:Oa.push(e)}var Us=N(null),Ha=null,Gt=null;function aa(e,t,a){k(Us,t._currentValue),t._currentValue=a}function Yt(e){e._currentValue=Us.current,W(Us)}function qs(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function ks(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var s=n.dependencies;if(s!==null){var d=n.child;s=s.firstContext;e:for(;s!==null;){var p=s;s=n;for(var v=0;v<t.length;v++)if(p.context===t[v]){s.lanes|=a,p=s.alternate,p!==null&&(p.lanes|=a),qs(s.return,a,e),l||(d=null);break e}s=p.next}}else if(n.tag===18){if(d=n.return,d===null)throw Error(o(341));d.lanes|=a,s=d.alternate,s!==null&&(s.lanes|=a),qs(d,a,e),d=null}else d=n.child;if(d!==null)d.return=n;else for(d=n;d!==null;){if(d===e){d=null;break}if(n=d.sibling,n!==null){n.return=d.return,d=n;break}d=d.return}n=d}}function Zl(e,t,a,l){e=null;for(var n=t,s=!1;n!==null;){if(!s){if((n.flags&524288)!==0)s=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var d=n.alternate;if(d===null)throw Error(o(387));if(d=d.memoizedProps,d!==null){var p=n.type;it(n.pendingProps.value,d.value)||(e!==null?e.push(p):e=[p])}}else if(n===at.current){if(d=n.alternate,d===null)throw Error(o(387));d.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Tn):e=[Tn])}n=n.return}e!==null&&ks(t,e,a,l),t.flags|=262144}function ti(e){for(e=e.firstContext;e!==null;){if(!it(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Na(e){Ha=e,Gt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return Dc(Ha,e)}function ai(e,t){return Ha===null&&Na(e),Dc(e,t)}function Dc(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Gt===null){if(e===null)throw Error(o(308));Gt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Gt=Gt.next=t;return a}var Gh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Yh=f.unstable_scheduleCallback,Wh=f.unstable_NormalPriority,Me={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gs(){return{controller:new Gh,data:new Map,refCount:0}}function Kl(e){e.refCount--,e.refCount===0&&Yh(Wh,function(){e.controller.abort()})}var Jl=null,Ys=0,ol=0,cl=null;function Lh(e,t){if(Jl===null){var a=Jl=[];Ys=0,ol=Lr(),cl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ys++,t.then(Ac,Ac),t}function Ac(){if(--Ys===0&&Jl!==null){cl!==null&&(cl.status="fulfilled");var e=Jl;Jl=null,ol=0,cl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Xh(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var Rc=z.S;z.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Lh(e,t),Rc!==null&&Rc(e,t)};var Ua=N(null);function Ws(){var e=Ua.current;return e!==null?e:be.pooledCache}function li(e,t){t===null?k(Ua,Ua.current):k(Ua,t.pool)}function Ec(){var e=Ws();return e===null?null:{parent:Me._currentValue,pool:e}}var Pl=Error(o(460)),zc=Error(o(474)),ni=Error(o(542)),Ls={then:function(){}};function Mc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ii(){}function Oc(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ii,ii),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hc(e),e;default:if(typeof t.status=="string")t.then(ii,ii);else{if(e=be,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hc(e),e}throw $l=t,Pl}}var $l=null;function Bc(){if($l===null)throw Error(o(459));var e=$l;return $l=null,e}function Hc(e){if(e===Pl||e===ni)throw Error(o(483))}var la=!1;function Xs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function na(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ia(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(he&2)!==0){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=$n(e),Sc(e,null,a),t}return Pn(e,l,t,a),$n(e)}function Il(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Ao(e,a)}}function Vs(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,s=null;if(a=a.firstBaseUpdate,a!==null){do{var d={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};s===null?n=s=d:s=s.next=d,a=a.next}while(a!==null);s===null?n=s=t:s=s.next=t}else n=s=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Zs=!1;function Fl(){if(Zs){var e=cl;if(e!==null)throw e}}function en(e,t,a,l){Zs=!1;var n=e.updateQueue;la=!1;var s=n.firstBaseUpdate,d=n.lastBaseUpdate,p=n.shared.pending;if(p!==null){n.shared.pending=null;var v=p,D=v.next;v.next=null,d===null?s=D:d.next=D,d=v;var M=e.alternate;M!==null&&(M=M.updateQueue,p=M.lastBaseUpdate,p!==d&&(p===null?M.firstBaseUpdate=D:p.next=D,M.lastBaseUpdate=v))}if(s!==null){var H=n.baseState;d=0,M=D=v=null,p=s;do{var A=p.lane&-536870913,R=A!==p.lane;if(R?(ce&A)===A:(l&A)===A){A!==0&&A===ol&&(Zs=!0),M!==null&&(M=M.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var F=e,J=p;A=t;var me=a;switch(J.tag){case 1:if(F=J.payload,typeof F=="function"){H=F.call(me,H,A);break e}H=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=J.payload,A=typeof F=="function"?F.call(me,H,A):F,A==null)break e;H=C({},H,A);break e;case 2:la=!0}}A=p.callback,A!==null&&(e.flags|=64,R&&(e.flags|=8192),R=n.callbacks,R===null?n.callbacks=[A]:R.push(A))}else R={lane:A,tag:p.tag,payload:p.payload,callback:p.callback,next:null},M===null?(D=M=R,v=H):M=M.next=R,d|=A;if(p=p.next,p===null){if(p=n.shared.pending,p===null)break;R=p,p=R.next,R.next=null,n.lastBaseUpdate=R,n.shared.pending=null}}while(!0);M===null&&(v=H),n.baseState=v,n.firstBaseUpdate=D,n.lastBaseUpdate=M,s===null&&(n.shared.lanes=0),ha|=d,e.lanes=d,e.memoizedState=H}}function Nc(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Uc(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Nc(a[e],t)}var ul=N(null),si=N(0);function qc(e,t){e=Kt,k(si,e),k(ul,t),Kt=e|t.baseLanes}function Ks(){k(si,Kt),k(ul,ul.current)}function Js(){Kt=si.current,W(ul),W(si)}var sa=0,ne=null,ge=null,Ee=null,ri=!1,dl=!1,qa=!1,oi=0,tn=0,fl=null,Qh=0;function Ae(){throw Error(o(321))}function Ps(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!it(e[a],t[a]))return!1;return!0}function $s(e,t,a,l,n,s){return sa=s,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Su:ju,qa=!1,s=a(l,n),qa=!1,dl&&(s=Gc(t,a,l,n)),kc(e),s}function kc(e){z.H=pi;var t=ge!==null&&ge.next!==null;if(sa=0,Ee=ge=ne=null,ri=!1,tn=0,fl=null,t)throw Error(o(300));e===null||Ne||(e=e.dependencies,e!==null&&ti(e)&&(Ne=!0))}function Gc(e,t,a,l){ne=e;var n=0;do{if(dl&&(fl=null),tn=0,dl=!1,25<=n)throw Error(o(301));if(n+=1,Ee=ge=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}z.H=Ih,s=t(a,l)}while(dl);return s}function Vh(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?an(t):t,e=e.useState()[0],(ge!==null?ge.memoizedState:null)!==e&&(ne.flags|=1024),t}function Is(){var e=oi!==0;return oi=0,e}function Fs(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function er(e){if(ri){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ri=!1}sa=0,Ee=ge=ne=null,dl=!1,tn=oi=0,fl=null}function Fe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?ne.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function ze(){if(ge===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=Ee===null?ne.memoizedState:Ee.next;if(t!==null)Ee=t,ge=e;else{if(e===null)throw ne.alternate===null?Error(o(467)):Error(o(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Ee===null?ne.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function tr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function an(e){var t=tn;return tn+=1,fl===null&&(fl=[]),e=Oc(fl,e,t),t=ne,(Ee===null?t.memoizedState:Ee.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Su:ju),e}function ci(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return an(e);if(e.$$typeof===U)return Ze(e)}throw Error(o(438,String(e)))}function ar(e){var t=null,a=ne.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=tr(),ne.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=$t;return t.index++,a}function Wt(e,t){return typeof t=="function"?t(e):t}function ui(e){var t=ze();return lr(t,ge,e)}function lr(e,t,a){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=a;var n=e.baseQueue,s=l.pending;if(s!==null){if(n!==null){var d=n.next;n.next=s.next,s.next=d}t.baseQueue=n=s,l.pending=null}if(s=e.baseState,n===null)e.memoizedState=s;else{t=n.next;var p=d=null,v=null,D=t,M=!1;do{var H=D.lane&-536870913;if(H!==D.lane?(ce&H)===H:(sa&H)===H){var A=D.revertLane;if(A===0)v!==null&&(v=v.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),H===ol&&(M=!0);else if((sa&A)===A){D=D.next,A===ol&&(M=!0);continue}else H={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},v===null?(p=v=H,d=s):v=v.next=H,ne.lanes|=A,ha|=A;H=D.action,qa&&a(s,H),s=D.hasEagerState?D.eagerState:a(s,H)}else A={lane:H,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},v===null?(p=v=A,d=s):v=v.next=A,ne.lanes|=H,ha|=H;D=D.next}while(D!==null&&D!==t);if(v===null?d=s:v.next=p,!it(s,e.memoizedState)&&(Ne=!0,M&&(a=cl,a!==null)))throw a;e.memoizedState=s,e.baseState=d,e.baseQueue=v,l.lastRenderedState=s}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function nr(e){var t=ze(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,s=t.memoizedState;if(n!==null){a.pending=null;var d=n=n.next;do s=e(s,d.action),d=d.next;while(d!==n);it(s,t.memoizedState)||(Ne=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),a.lastRenderedState=s}return[s,l]}function Yc(e,t,a){var l=ne,n=ze(),s=fe;if(s){if(a===void 0)throw Error(o(407));a=a()}else a=t();var d=!it((ge||n).memoizedState,a);d&&(n.memoizedState=a,Ne=!0),n=n.queue;var p=Xc.bind(null,l,n,e);if(ln(2048,8,p,[e]),n.getSnapshot!==t||d||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,hl(9,di(),Lc.bind(null,l,n,a,t),null),be===null)throw Error(o(349));s||(sa&124)!==0||Wc(l,t,a)}return a}function Wc(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ne.updateQueue,t===null?(t=tr(),ne.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Lc(e,t,a,l){t.value=a,t.getSnapshot=l,Qc(t)&&Vc(e)}function Xc(e,t,a){return a(function(){Qc(t)&&Vc(e)})}function Qc(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!it(e,a)}catch{return!0}}function Vc(e){var t=nl(e,2);t!==null&&dt(t,e,2)}function ir(e){var t=Fe();if(typeof e=="function"){var a=e;if(e=a(),qa){Ft(!0);try{a()}finally{Ft(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:e},t}function Zc(e,t,a,l){return e.baseState=a,lr(e,ge,typeof l=="function"?l:Wt)}function Zh(e,t,a,l,n){if(hi(e))throw Error(o(485));if(e=t.action,e!==null){var s={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){s.listeners.push(d)}};z.T!==null?a(!0):s.isTransition=!1,l(s),a=t.pending,a===null?(s.next=t.pending=s,Kc(t,s)):(s.next=a.next,t.pending=a.next=s)}}function Kc(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var s=z.T,d={};z.T=d;try{var p=a(n,l),v=z.S;v!==null&&v(d,p),Jc(e,t,p)}catch(D){sr(e,t,D)}finally{z.T=s}}else try{s=a(n,l),Jc(e,t,s)}catch(D){sr(e,t,D)}}function Jc(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pc(e,t,l)},function(l){return sr(e,t,l)}):Pc(e,t,a)}function Pc(e,t,a){t.status="fulfilled",t.value=a,$c(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Kc(e,a)))}function sr(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,$c(t),t=t.next;while(t!==l)}e.action=null}function $c(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ic(e,t){return t}function Fc(e,t){if(fe){var a=be.formState;if(a!==null){e:{var l=ne;if(fe){if(we){t:{for(var n=we,s=Rt;n.nodeType!==8;){if(!s){n=null;break t}if(n=wt(n.nextSibling),n===null){n=null;break t}}s=n.data,n=s==="F!"||s==="F"?n:null}if(n){we=wt(n.nextSibling),l=n.data==="F!";break e}}Ba(l)}l=!1}l&&(t=a[0])}}return a=Fe(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:t},a.queue=l,a=xu.bind(null,ne,l),l.dispatch=a,l=ir(!1),s=dr.bind(null,ne,!1,l.queue),l=Fe(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=Zh.bind(null,ne,n,s,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function eu(e){var t=ze();return tu(t,ge,e)}function tu(e,t,a){if(t=lr(e,t,Ic)[0],e=ui(Wt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=an(t)}catch(d){throw d===Pl?ni:d}else l=t;t=ze();var n=t.queue,s=n.dispatch;return a!==t.memoizedState&&(ne.flags|=2048,hl(9,di(),Kh.bind(null,n,a),null)),[l,s,e]}function Kh(e,t){e.action=t}function au(e){var t=ze(),a=ge;if(a!==null)return tu(t,a,e);ze(),t=t.memoizedState,a=ze();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function hl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=ne.updateQueue,t===null&&(t=tr(),ne.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function di(){return{destroy:void 0,resource:void 0}}function lu(){return ze().memoizedState}function fi(e,t,a,l){var n=Fe();l=l===void 0?null:l,ne.flags|=e,n.memoizedState=hl(1|t,di(),a,l)}function ln(e,t,a,l){var n=ze();l=l===void 0?null:l;var s=n.memoizedState.inst;ge!==null&&l!==null&&Ps(l,ge.memoizedState.deps)?n.memoizedState=hl(t,s,a,l):(ne.flags|=e,n.memoizedState=hl(1|t,s,a,l))}function nu(e,t){fi(8390656,8,e,t)}function iu(e,t){ln(2048,8,e,t)}function su(e,t){return ln(4,2,e,t)}function ru(e,t){return ln(4,4,e,t)}function ou(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cu(e,t,a){a=a!=null?a.concat([e]):null,ln(4,4,ou.bind(null,t,e),a)}function rr(){}function uu(e,t){var a=ze();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Ps(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function du(e,t){var a=ze();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Ps(t,l[1]))return l[0];if(l=e(),qa){Ft(!0);try{e()}finally{Ft(!1)}}return a.memoizedState=[l,t],l}function or(e,t,a){return a===void 0||(sa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=pd(),ne.lanes|=e,ha|=e,a)}function fu(e,t,a,l){return it(a,t)?a:ul.current!==null?(e=or(e,a,l),it(e,t)||(Ne=!0),e):(sa&42)===0?(Ne=!0,e.memoizedState=a):(e=pd(),ne.lanes|=e,ha|=e,t)}function hu(e,t,a,l,n){var s=G.p;G.p=s!==0&&8>s?s:8;var d=z.T,p={};z.T=p,dr(e,!1,t,a);try{var v=n(),D=z.S;if(D!==null&&D(p,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var M=Xh(v,l);nn(e,t,M,ut(e))}else nn(e,t,l,ut(e))}catch(H){nn(e,t,{then:function(){},status:"rejected",reason:H},ut())}finally{G.p=s,z.T=d}}function Jh(){}function cr(e,t,a,l){if(e.tag!==5)throw Error(o(476));var n=pu(e).queue;hu(e,n,t,I,a===null?Jh:function(){return gu(e),a(l)})}function pu(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:I},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function gu(e){var t=pu(e).next.queue;nn(e,t,{},ut())}function ur(){return Ze(Tn)}function yu(){return ze().memoizedState}function mu(){return ze().memoizedState}function Ph(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ut();e=na(a);var l=ia(t,e,a);l!==null&&(dt(l,t,a),Il(l,t,a)),t={cache:Gs()},e.payload=t;return}t=t.return}}function $h(e,t,a){var l=ut();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},hi(e)?vu(t,a):(a=Es(e,t,a,l),a!==null&&(dt(a,e,l),bu(a,t,l)))}function xu(e,t,a){var l=ut();nn(e,t,a,l)}function nn(e,t,a,l){var n={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(hi(e))vu(t,n);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var d=t.lastRenderedState,p=s(d,a);if(n.hasEagerState=!0,n.eagerState=p,it(p,d))return Pn(e,t,n,0),be===null&&Jn(),!1}catch{}finally{}if(a=Es(e,t,n,l),a!==null)return dt(a,e,l),bu(a,t,l),!0}return!1}function dr(e,t,a,l){if(l={lane:2,revertLane:Lr(),action:l,hasEagerState:!1,eagerState:null,next:null},hi(e)){if(t)throw Error(o(479))}else t=Es(e,a,l,2),t!==null&&dt(t,e,2)}function hi(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function vu(e,t){dl=ri=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function bu(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Ao(e,a)}}var pi={readContext:Ze,use:ci,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae},Su={readContext:Ze,use:ci,useCallback:function(e,t){return Fe().memoizedState=[e,t===void 0?null:t],e},useContext:Ze,useEffect:nu,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,fi(4194308,4,ou.bind(null,t,e),a)},useLayoutEffect:function(e,t){return fi(4194308,4,e,t)},useInsertionEffect:function(e,t){fi(4,2,e,t)},useMemo:function(e,t){var a=Fe();t=t===void 0?null:t;var l=e();if(qa){Ft(!0);try{e()}finally{Ft(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Fe();if(a!==void 0){var n=a(t);if(qa){Ft(!0);try{a(t)}finally{Ft(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=$h.bind(null,ne,e),[l.memoizedState,e]},useRef:function(e){var t=Fe();return e={current:e},t.memoizedState=e},useState:function(e){e=ir(e);var t=e.queue,a=xu.bind(null,ne,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:rr,useDeferredValue:function(e,t){var a=Fe();return or(a,e,t)},useTransition:function(){var e=ir(!1);return e=hu.bind(null,ne,e.queue,!0,!1),Fe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=ne,n=Fe();if(fe){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),be===null)throw Error(o(349));(ce&124)!==0||Wc(l,t,a)}n.memoizedState=a;var s={value:a,getSnapshot:t};return n.queue=s,nu(Xc.bind(null,l,s,e),[e]),l.flags|=2048,hl(9,di(),Lc.bind(null,l,s,a,t),null),a},useId:function(){var e=Fe(),t=be.identifierPrefix;if(fe){var a=kt,l=qt;a=(l&~(1<<32-nt(l)-1)).toString(32)+a,t=""+t+"R"+a,a=oi++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=Qh++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:ur,useFormState:Fc,useActionState:Fc,useOptimistic:function(e){var t=Fe();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=dr.bind(null,ne,!0,a),a.dispatch=t,[e,t]},useMemoCache:ar,useCacheRefresh:function(){return Fe().memoizedState=Ph.bind(null,ne)}},ju={readContext:Ze,use:ci,useCallback:uu,useContext:Ze,useEffect:iu,useImperativeHandle:cu,useInsertionEffect:su,useLayoutEffect:ru,useMemo:du,useReducer:ui,useRef:lu,useState:function(){return ui(Wt)},useDebugValue:rr,useDeferredValue:function(e,t){var a=ze();return fu(a,ge.memoizedState,e,t)},useTransition:function(){var e=ui(Wt)[0],t=ze().memoizedState;return[typeof e=="boolean"?e:an(e),t]},useSyncExternalStore:Yc,useId:yu,useHostTransitionStatus:ur,useFormState:eu,useActionState:eu,useOptimistic:function(e,t){var a=ze();return Zc(a,ge,e,t)},useMemoCache:ar,useCacheRefresh:mu},Ih={readContext:Ze,use:ci,useCallback:uu,useContext:Ze,useEffect:iu,useImperativeHandle:cu,useInsertionEffect:su,useLayoutEffect:ru,useMemo:du,useReducer:nr,useRef:lu,useState:function(){return nr(Wt)},useDebugValue:rr,useDeferredValue:function(e,t){var a=ze();return ge===null?or(a,e,t):fu(a,ge.memoizedState,e,t)},useTransition:function(){var e=nr(Wt)[0],t=ze().memoizedState;return[typeof e=="boolean"?e:an(e),t]},useSyncExternalStore:Yc,useId:yu,useHostTransitionStatus:ur,useFormState:au,useActionState:au,useOptimistic:function(e,t){var a=ze();return ge!==null?Zc(a,ge,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ar,useCacheRefresh:mu},pl=null,sn=0;function gi(e){var t=sn;return sn+=1,pl===null&&(pl=[]),Oc(pl,e,t)}function rn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function yi(e,t){throw t.$$typeof===T?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Tu(e){var t=e._init;return t(e._payload)}function _u(e){function t(_,j){if(e){var w=_.deletions;w===null?(_.deletions=[j],_.flags|=16):w.push(j)}}function a(_,j){if(!e)return null;for(;j!==null;)t(_,j),j=j.sibling;return null}function l(_){for(var j=new Map;_!==null;)_.key!==null?j.set(_.key,_):j.set(_.index,_),_=_.sibling;return j}function n(_,j){return _=Ut(_,j),_.index=0,_.sibling=null,_}function s(_,j,w){return _.index=w,e?(w=_.alternate,w!==null?(w=w.index,w<j?(_.flags|=67108866,j):w):(_.flags|=67108866,j)):(_.flags|=1048576,j)}function d(_){return e&&_.alternate===null&&(_.flags|=67108866),_}function p(_,j,w,B){return j===null||j.tag!==6?(j=Ms(w,_.mode,B),j.return=_,j):(j=n(j,w),j.return=_,j)}function v(_,j,w,B){var L=w.type;return L===ee?M(_,j,w.props.children,B,w.key):j!==null&&(j.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ye&&Tu(L)===j.type)?(j=n(j,w.props),rn(j,w),j.return=_,j):(j=In(w.type,w.key,w.props,null,_.mode,B),rn(j,w),j.return=_,j)}function D(_,j,w,B){return j===null||j.tag!==4||j.stateNode.containerInfo!==w.containerInfo||j.stateNode.implementation!==w.implementation?(j=Os(w,_.mode,B),j.return=_,j):(j=n(j,w.children||[]),j.return=_,j)}function M(_,j,w,B,L){return j===null||j.tag!==7?(j=Ea(w,_.mode,B,L),j.return=_,j):(j=n(j,w),j.return=_,j)}function H(_,j,w){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Ms(""+j,_.mode,w),j.return=_,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:return w=In(j.type,j.key,j.props,null,_.mode,w),rn(w,j),w.return=_,w;case X:return j=Os(j,_.mode,w),j.return=_,j;case Ye:var B=j._init;return j=B(j._payload),H(_,j,w)}if(Be(j)||Q(j))return j=Ea(j,_.mode,w,null),j.return=_,j;if(typeof j.then=="function")return H(_,gi(j),w);if(j.$$typeof===U)return H(_,ai(_,j),w);yi(_,j)}return null}function A(_,j,w,B){var L=j!==null?j.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return L!==null?null:p(_,j,""+w,B);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Y:return w.key===L?v(_,j,w,B):null;case X:return w.key===L?D(_,j,w,B):null;case Ye:return L=w._init,w=L(w._payload),A(_,j,w,B)}if(Be(w)||Q(w))return L!==null?null:M(_,j,w,B,null);if(typeof w.then=="function")return A(_,j,gi(w),B);if(w.$$typeof===U)return A(_,j,ai(_,w),B);yi(_,w)}return null}function R(_,j,w,B,L){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return _=_.get(w)||null,p(j,_,""+B,L);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Y:return _=_.get(B.key===null?w:B.key)||null,v(j,_,B,L);case X:return _=_.get(B.key===null?w:B.key)||null,D(j,_,B,L);case Ye:var ie=B._init;return B=ie(B._payload),R(_,j,w,B,L)}if(Be(B)||Q(B))return _=_.get(w)||null,M(j,_,B,L,null);if(typeof B.then=="function")return R(_,j,w,gi(B),L);if(B.$$typeof===U)return R(_,j,w,ai(j,B),L);yi(j,B)}return null}function F(_,j,w,B){for(var L=null,ie=null,V=j,P=j=0,qe=null;V!==null&&P<w.length;P++){V.index>P?(qe=V,V=null):qe=V.sibling;var de=A(_,V,w[P],B);if(de===null){V===null&&(V=qe);break}e&&V&&de.alternate===null&&t(_,V),j=s(de,j,P),ie===null?L=de:ie.sibling=de,ie=de,V=qe}if(P===w.length)return a(_,V),fe&&Ma(_,P),L;if(V===null){for(;P<w.length;P++)V=H(_,w[P],B),V!==null&&(j=s(V,j,P),ie===null?L=V:ie.sibling=V,ie=V);return fe&&Ma(_,P),L}for(V=l(V);P<w.length;P++)qe=R(V,_,P,w[P],B),qe!==null&&(e&&qe.alternate!==null&&V.delete(qe.key===null?P:qe.key),j=s(qe,j,P),ie===null?L=qe:ie.sibling=qe,ie=qe);return e&&V.forEach(function(ja){return t(_,ja)}),fe&&Ma(_,P),L}function J(_,j,w,B){if(w==null)throw Error(o(151));for(var L=null,ie=null,V=j,P=j=0,qe=null,de=w.next();V!==null&&!de.done;P++,de=w.next()){V.index>P?(qe=V,V=null):qe=V.sibling;var ja=A(_,V,de.value,B);if(ja===null){V===null&&(V=qe);break}e&&V&&ja.alternate===null&&t(_,V),j=s(ja,j,P),ie===null?L=ja:ie.sibling=ja,ie=ja,V=qe}if(de.done)return a(_,V),fe&&Ma(_,P),L;if(V===null){for(;!de.done;P++,de=w.next())de=H(_,de.value,B),de!==null&&(j=s(de,j,P),ie===null?L=de:ie.sibling=de,ie=de);return fe&&Ma(_,P),L}for(V=l(V);!de.done;P++,de=w.next())de=R(V,_,P,de.value,B),de!==null&&(e&&de.alternate!==null&&V.delete(de.key===null?P:de.key),j=s(de,j,P),ie===null?L=de:ie.sibling=de,ie=de);return e&&V.forEach(function(Fp){return t(_,Fp)}),fe&&Ma(_,P),L}function me(_,j,w,B){if(typeof w=="object"&&w!==null&&w.type===ee&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Y:e:{for(var L=w.key;j!==null;){if(j.key===L){if(L=w.type,L===ee){if(j.tag===7){a(_,j.sibling),B=n(j,w.props.children),B.return=_,_=B;break e}}else if(j.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ye&&Tu(L)===j.type){a(_,j.sibling),B=n(j,w.props),rn(B,w),B.return=_,_=B;break e}a(_,j);break}else t(_,j);j=j.sibling}w.type===ee?(B=Ea(w.props.children,_.mode,B,w.key),B.return=_,_=B):(B=In(w.type,w.key,w.props,null,_.mode,B),rn(B,w),B.return=_,_=B)}return d(_);case X:e:{for(L=w.key;j!==null;){if(j.key===L)if(j.tag===4&&j.stateNode.containerInfo===w.containerInfo&&j.stateNode.implementation===w.implementation){a(_,j.sibling),B=n(j,w.children||[]),B.return=_,_=B;break e}else{a(_,j);break}else t(_,j);j=j.sibling}B=Os(w,_.mode,B),B.return=_,_=B}return d(_);case Ye:return L=w._init,w=L(w._payload),me(_,j,w,B)}if(Be(w))return F(_,j,w,B);if(Q(w)){if(L=Q(w),typeof L!="function")throw Error(o(150));return w=L.call(w),J(_,j,w,B)}if(typeof w.then=="function")return me(_,j,gi(w),B);if(w.$$typeof===U)return me(_,j,ai(_,w),B);yi(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,j!==null&&j.tag===6?(a(_,j.sibling),B=n(j,w),B.return=_,_=B):(a(_,j),B=Ms(w,_.mode,B),B.return=_,_=B),d(_)):a(_,j)}return function(_,j,w,B){try{sn=0;var L=me(_,j,w,B);return pl=null,L}catch(V){if(V===Pl||V===ni)throw V;var ie=st(29,V,null,_.mode);return ie.lanes=B,ie.return=_,ie}finally{}}}var gl=_u(!0),Cu=_u(!1),vt=N(null),Et=null;function ra(e){var t=e.alternate;k(Oe,Oe.current&1),k(vt,e),Et===null&&(t===null||ul.current!==null||t.memoizedState!==null)&&(Et=e)}function wu(e){if(e.tag===22){if(k(Oe,Oe.current),k(vt,e),Et===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Et=e)}}else oa()}function oa(){k(Oe,Oe.current),k(vt,vt.current)}function Lt(e){W(vt),Et===e&&(Et=null),W(Oe)}var Oe=N(0);function mi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||to(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fr(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:C({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var hr={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=ut(),n=na(l);n.payload=t,a!=null&&(n.callback=a),t=ia(e,n,l),t!==null&&(dt(t,e,l),Il(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=ut(),n=na(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=ia(e,n,l),t!==null&&(dt(t,e,l),Il(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ut(),l=na(a);l.tag=2,t!=null&&(l.callback=t),t=ia(e,l,a),t!==null&&(dt(t,e,a),Il(t,e,a))}};function Du(e,t,a,l,n,s,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,d):t.prototype&&t.prototype.isPureReactComponent?!Wl(a,l)||!Wl(n,s):!0}function Au(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&hr.enqueueReplaceState(t,t.state,null)}function ka(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=C({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}var xi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ru(e){xi(e)}function Eu(e){console.error(e)}function zu(e){xi(e)}function vi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Mu(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function pr(e,t,a){return a=na(a),a.tag=3,a.payload={element:null},a.callback=function(){vi(e,t)},a}function Ou(e){return e=na(e),e.tag=3,e}function Bu(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var s=l.value;e.payload=function(){return n(s)},e.callback=function(){Mu(t,a,l)}}var d=a.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Mu(t,a,l),typeof n!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var p=l.stack;this.componentDidCatch(l.value,{componentStack:p!==null?p:""})})}function Fh(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Zl(t,a,n,!0),a=vt.current,a!==null){switch(a.tag){case 13:return Et===null?qr():a.alternate===null&&De===0&&(De=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===Ls?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Gr(e,l,n)),!1;case 22:return a.flags|=65536,l===Ls?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Gr(e,l,n)),!1}throw Error(o(435,a.tag))}return Gr(e,l,n),qr(),!1}if(fe)return t=vt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==Ns&&(e=Error(o(422),{cause:l}),Vl(gt(e,a)))):(l!==Ns&&(t=Error(o(423),{cause:l}),Vl(gt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=gt(l,a),n=pr(e.stateNode,l,n),Vs(e,n),De!==4&&(De=2)),!1;var s=Error(o(520),{cause:l});if(s=gt(s,a),pn===null?pn=[s]:pn.push(s),De!==4&&(De=2),t===null)return!0;l=gt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=pr(a.stateNode,l,e),Vs(a,e),!1;case 1:if(t=a.type,s=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(pa===null||!pa.has(s))))return a.flags|=65536,n&=-n,a.lanes|=n,n=Ou(n),Bu(n,e,a,l),Vs(a,n),!1}a=a.return}while(a!==null);return!1}var Hu=Error(o(461)),Ne=!1;function We(e,t,a,l){t.child=e===null?Cu(t,null,a,l):gl(t,e.child,a,l)}function Nu(e,t,a,l,n){a=a.render;var s=t.ref;if("ref"in l){var d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}else d=l;return Na(t),l=$s(e,t,a,d,s,n),p=Is(),e!==null&&!Ne?(Fs(e,t,n),Xt(e,t,n)):(fe&&p&&Bs(t),t.flags|=1,We(e,t,l,n),t.child)}function Uu(e,t,a,l,n){if(e===null){var s=a.type;return typeof s=="function"&&!zs(s)&&s.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=s,qu(e,t,s,l,n)):(e=In(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!jr(e,n)){var d=s.memoizedProps;if(a=a.compare,a=a!==null?a:Wl,a(d,l)&&e.ref===t.ref)return Xt(e,t,n)}return t.flags|=1,e=Ut(s,l),e.ref=t.ref,e.return=t,t.child=e}function qu(e,t,a,l,n){if(e!==null){var s=e.memoizedProps;if(Wl(s,l)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=l=s,jr(e,n))(e.flags&131072)!==0&&(Ne=!0);else return t.lanes=e.lanes,Xt(e,t,n)}return gr(e,t,a,l,n)}function ku(e,t,a){var l=t.pendingProps,n=l.children,s=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=s!==null?s.baseLanes|a:a,e!==null){for(n=t.child=e.child,s=0;n!==null;)s=s|n.lanes|n.childLanes,n=n.sibling;t.childLanes=s&~l}else t.childLanes=0,t.child=null;return Gu(e,t,l,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&li(t,s!==null?s.cachePool:null),s!==null?qc(t,s):Ks(),wu(t);else return t.lanes=t.childLanes=536870912,Gu(e,t,s!==null?s.baseLanes|a:a,a)}else s!==null?(li(t,s.cachePool),qc(t,s),oa(),t.memoizedState=null):(e!==null&&li(t,null),Ks(),oa());return We(e,t,n,a),t.child}function Gu(e,t,a,l){var n=Ws();return n=n===null?null:{parent:Me._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},e!==null&&li(t,null),Ks(),wu(t),e!==null&&Zl(e,t,l,!0),null}function bi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function gr(e,t,a,l,n){return Na(t),a=$s(e,t,a,l,void 0,n),l=Is(),e!==null&&!Ne?(Fs(e,t,n),Xt(e,t,n)):(fe&&l&&Bs(t),t.flags|=1,We(e,t,a,n),t.child)}function Yu(e,t,a,l,n,s){return Na(t),t.updateQueue=null,a=Gc(t,l,a,n),kc(e),l=Is(),e!==null&&!Ne?(Fs(e,t,s),Xt(e,t,s)):(fe&&l&&Bs(t),t.flags|=1,We(e,t,a,s),t.child)}function Wu(e,t,a,l,n){if(Na(t),t.stateNode===null){var s=il,d=a.contextType;typeof d=="object"&&d!==null&&(s=Ze(d)),s=new a(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=hr,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},Xs(t),d=a.contextType,s.context=typeof d=="object"&&d!==null?Ze(d):il,s.state=t.memoizedState,d=a.getDerivedStateFromProps,typeof d=="function"&&(fr(t,a,d,l),s.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(d=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),d!==s.state&&hr.enqueueReplaceState(s,s.state,null),en(t,l,s,n),Fl(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var p=t.memoizedProps,v=ka(a,p);s.props=v;var D=s.context,M=a.contextType;d=il,typeof M=="object"&&M!==null&&(d=Ze(M));var H=a.getDerivedStateFromProps;M=typeof H=="function"||typeof s.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,M||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(p||D!==d)&&Au(t,s,l,d),la=!1;var A=t.memoizedState;s.state=A,en(t,l,s,n),Fl(),D=t.memoizedState,p||A!==D||la?(typeof H=="function"&&(fr(t,a,H,l),D=t.memoizedState),(v=la||Du(t,a,v,l,A,D,d))?(M||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=D),s.props=l,s.state=D,s.context=d,l=v):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,Qs(e,t),d=t.memoizedProps,M=ka(a,d),s.props=M,H=t.pendingProps,A=s.context,D=a.contextType,v=il,typeof D=="object"&&D!==null&&(v=Ze(D)),p=a.getDerivedStateFromProps,(D=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(d!==H||A!==v)&&Au(t,s,l,v),la=!1,A=t.memoizedState,s.state=A,en(t,l,s,n),Fl();var R=t.memoizedState;d!==H||A!==R||la||e!==null&&e.dependencies!==null&&ti(e.dependencies)?(typeof p=="function"&&(fr(t,a,p,l),R=t.memoizedState),(M=la||Du(t,a,M,l,A,R,v)||e!==null&&e.dependencies!==null&&ti(e.dependencies))?(D||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,R,v),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,R,v)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||d===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=R),s.props=l,s.state=R,s.context=v,l=M):(typeof s.componentDidUpdate!="function"||d===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,bi(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=gl(t,e.child,null,n),t.child=gl(t,null,a,n)):We(e,t,a,n),t.memoizedState=s.state,e=t.child):e=Xt(e,t,n),e}function Lu(e,t,a,l){return Ql(),t.flags|=256,We(e,t,a,l),t.child}var yr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mr(e){return{baseLanes:e,cachePool:Ec()}}function xr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=bt),e}function Xu(e,t,a){var l=t.pendingProps,n=!1,s=(t.flags&128)!==0,d;if((d=s)||(d=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),d&&(n=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(fe){if(n?ra(t):oa(),fe){var p=we,v;if(v=p){e:{for(v=p,p=Rt;v.nodeType!==8;){if(!p){p=null;break e}if(v=wt(v.nextSibling),v===null){p=null;break e}}p=v}p!==null?(t.memoizedState={dehydrated:p,treeContext:za!==null?{id:qt,overflow:kt}:null,retryLane:536870912,hydrationErrors:null},v=st(18,null,null,0),v.stateNode=p,v.return=t,t.child=v,Je=t,we=null,v=!0):v=!1}v||Ba(t)}if(p=t.memoizedState,p!==null&&(p=p.dehydrated,p!==null))return to(p)?t.lanes=32:t.lanes=536870912,null;Lt(t)}return p=l.children,l=l.fallback,n?(oa(),n=t.mode,p=Si({mode:"hidden",children:p},n),l=Ea(l,n,a,null),p.return=t,l.return=t,p.sibling=l,t.child=p,n=t.child,n.memoizedState=mr(a),n.childLanes=xr(e,d,a),t.memoizedState=yr,l):(ra(t),vr(t,p))}if(v=e.memoizedState,v!==null&&(p=v.dehydrated,p!==null)){if(s)t.flags&256?(ra(t),t.flags&=-257,t=br(e,t,a)):t.memoizedState!==null?(oa(),t.child=e.child,t.flags|=128,t=null):(oa(),n=l.fallback,p=t.mode,l=Si({mode:"visible",children:l.children},p),n=Ea(n,p,a,null),n.flags|=2,l.return=t,n.return=t,l.sibling=n,t.child=l,gl(t,e.child,null,a),l=t.child,l.memoizedState=mr(a),l.childLanes=xr(e,d,a),t.memoizedState=yr,t=n);else if(ra(t),to(p)){if(d=p.nextSibling&&p.nextSibling.dataset,d)var D=d.dgst;d=D,l=Error(o(419)),l.stack="",l.digest=d,Vl({value:l,source:null,stack:null}),t=br(e,t,a)}else if(Ne||Zl(e,t,a,!1),d=(a&e.childLanes)!==0,Ne||d){if(d=be,d!==null&&(l=a&-a,l=(l&42)!==0?1:as(l),l=(l&(d.suspendedLanes|a))!==0?0:l,l!==0&&l!==v.retryLane))throw v.retryLane=l,nl(e,l),dt(d,e,l),Hu;p.data==="$?"||qr(),t=br(e,t,a)}else p.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=v.treeContext,we=wt(p.nextSibling),Je=t,fe=!0,Oa=null,Rt=!1,e!==null&&(mt[xt++]=qt,mt[xt++]=kt,mt[xt++]=za,qt=e.id,kt=e.overflow,za=t),t=vr(t,l.children),t.flags|=4096);return t}return n?(oa(),n=l.fallback,p=t.mode,v=e.child,D=v.sibling,l=Ut(v,{mode:"hidden",children:l.children}),l.subtreeFlags=v.subtreeFlags&65011712,D!==null?n=Ut(D,n):(n=Ea(n,p,a,null),n.flags|=2),n.return=t,l.return=t,l.sibling=n,t.child=l,l=n,n=t.child,p=e.child.memoizedState,p===null?p=mr(a):(v=p.cachePool,v!==null?(D=Me._currentValue,v=v.parent!==D?{parent:D,pool:D}:v):v=Ec(),p={baseLanes:p.baseLanes|a,cachePool:v}),n.memoizedState=p,n.childLanes=xr(e,d,a),t.memoizedState=yr,l):(ra(t),a=e.child,e=a.sibling,a=Ut(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=a,t.memoizedState=null,a)}function vr(e,t){return t=Si({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Si(e,t){return e=st(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function br(e,t,a){return gl(t,e.child,null,a),e=vr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qu(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),qs(e.return,t,a)}function Sr(e,t,a,l,n){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=l,s.tail=a,s.tailMode=n)}function Vu(e,t,a){var l=t.pendingProps,n=l.revealOrder,s=l.tail;if(We(e,t,l.children,a),l=Oe.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qu(e,a,t);else if(e.tag===19)Qu(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(k(Oe,l),n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&mi(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Sr(t,!1,n,a,s);break;case"backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&mi(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Sr(t,!0,a,null,s);break;case"together":Sr(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xt(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ha|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Zl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=Ut(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ut(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function jr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ti(e)))}function ep(e,t,a){switch(t.tag){case 3:je(t,t.stateNode.containerInfo),aa(t,Me,e.memoizedState.cache),Ql();break;case 27:case 5:$i(t);break;case 4:je(t,t.stateNode.containerInfo);break;case 10:aa(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(ra(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Xu(e,t,a):(ra(t),e=Xt(e,t,a),e!==null?e.sibling:null);ra(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Zl(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return Vu(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),k(Oe,Oe.current),l)break;return null;case 22:case 23:return t.lanes=0,ku(e,t,a);case 24:aa(t,Me,e.memoizedState.cache)}return Xt(e,t,a)}function Zu(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ne=!0;else{if(!jr(e,a)&&(t.flags&128)===0)return Ne=!1,ep(e,t,a);Ne=(e.flags&131072)!==0}else Ne=!1,fe&&(t.flags&1048576)!==0&&Tc(t,ei,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,n=l._init;if(l=n(l._payload),t.type=l,typeof l=="function")zs(l)?(e=ka(l,e),t.tag=1,t=Wu(null,t,l,e,a)):(t.tag=0,t=gr(null,t,l,e,a));else{if(l!=null){if(n=l.$$typeof,n===te){t.tag=11,t=Nu(null,t,l,e,a);break e}else if(n===Ge){t.tag=14,t=Uu(null,t,l,e,a);break e}}throw t=Qe(l)||l,Error(o(306,t,""))}}return t;case 0:return gr(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=ka(l,t.pendingProps),Wu(e,t,l,n,a);case 3:e:{if(je(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var s=t.memoizedState;n=s.element,Qs(e,t),en(t,l,null,a);var d=t.memoizedState;if(l=d.cache,aa(t,Me,l),l!==s.cache&&ks(t,[Me],a,!0),Fl(),l=d.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Lu(e,t,l,a);break e}else if(l!==n){n=gt(Error(o(424)),t),Vl(n),t=Lu(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(we=wt(e.firstChild),Je=t,fe=!0,Oa=null,Rt=!0,a=Cu(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ql(),l===n){t=Xt(e,t,a);break e}We(e,t,l,a)}t=t.child}return t;case 26:return bi(e,t),e===null?(a=$d(t.type,null,t.pendingProps,null))?t.memoizedState=a:fe||(a=t.type,e=t.pendingProps,l=Hi(ae.current).createElement(a),l[Ve]=t,l[$e]=e,Xe(l,a,e),He(l),t.stateNode=l):t.memoizedState=$d(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $i(t),e===null&&fe&&(l=t.stateNode=Kd(t.type,t.pendingProps,ae.current),Je=t,Rt=!0,n=we,ma(t.type)?(ao=n,we=wt(l.firstChild)):we=n),We(e,t,t.pendingProps.children,a),bi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&fe&&((n=l=we)&&(l=Ap(l,t.type,t.pendingProps,Rt),l!==null?(t.stateNode=l,Je=t,we=wt(l.firstChild),Rt=!1,n=!0):n=!1),n||Ba(t)),$i(t),n=t.type,s=t.pendingProps,d=e!==null?e.memoizedProps:null,l=s.children,Ir(n,s)?l=null:d!==null&&Ir(n,d)&&(t.flags|=32),t.memoizedState!==null&&(n=$s(e,t,Vh,null,null,a),Tn._currentValue=n),bi(e,t),We(e,t,l,a),t.child;case 6:return e===null&&fe&&((e=a=we)&&(a=Rp(a,t.pendingProps,Rt),a!==null?(t.stateNode=a,Je=t,we=null,e=!0):e=!1),e||Ba(t)),null;case 13:return Xu(e,t,a);case 4:return je(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=gl(t,null,l,a):We(e,t,l,a),t.child;case 11:return Nu(e,t,t.type,t.pendingProps,a);case 7:return We(e,t,t.pendingProps,a),t.child;case 8:return We(e,t,t.pendingProps.children,a),t.child;case 12:return We(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,aa(t,t.type,l.value),We(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,Na(t),n=Ze(n),l=l(n),t.flags|=1,We(e,t,l,a),t.child;case 14:return Uu(e,t,t.type,t.pendingProps,a);case 15:return qu(e,t,t.type,t.pendingProps,a);case 19:return Vu(e,t,a);case 31:return l=t.pendingProps,a=t.mode,l={mode:l.mode,children:l.children},e===null?(a=Si(l,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=Ut(e.child,l),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return ku(e,t,a);case 24:return Na(t),l=Ze(Me),e===null?(n=Ws(),n===null&&(n=be,s=Gs(),n.pooledCache=s,s.refCount++,s!==null&&(n.pooledCacheLanes|=a),n=s),t.memoizedState={parent:l,cache:n},Xs(t),aa(t,Me,n)):((e.lanes&a)!==0&&(Qs(e,t),en(t,null,null,a),Fl()),n=e.memoizedState,s=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),aa(t,Me,l)):(l=s.cache,aa(t,Me,l),l!==n.cache&&ks(t,[Me],a,!0))),We(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Qt(e){e.flags|=4}function Ku(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!af(t)){if(t=vt.current,t!==null&&((ce&4194048)===ce?Et!==null:(ce&62914560)!==ce&&(ce&536870912)===0||t!==Et))throw $l=Ls,zc;e.flags|=8192}}function ji(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?wo():536870912,e.lanes|=t,vl|=t)}function on(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function tp(e,t,a){var l=t.pendingProps;switch(Hs(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return _e(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Yt(Me),It(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Xl(t)?Qt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,wc())),_e(t),null;case 26:return a=t.memoizedState,e===null?(Qt(t),a!==null?(_e(t),Ku(t,a)):(_e(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Qt(t),_e(t),Ku(t,a)):(_e(t),t.flags&=-16777217):(e.memoizedProps!==l&&Qt(t),_e(t),t.flags&=-16777217),null;case 27:On(t),a=ae.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Qt(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return _e(t),null}e=K.current,Xl(t)?_c(t):(e=Kd(n,l,a),t.stateNode=e,Qt(t))}return _e(t),null;case 5:if(On(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Qt(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return _e(t),null}if(e=K.current,Xl(t))_c(t);else{switch(n=Hi(ae.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?n.createElement("select",{is:l.is}):n.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?n.createElement(a,{is:l.is}):n.createElement(a)}}e[Ve]=t,e[$e]=l;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(Xe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Qt(t)}}return _e(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Qt(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=ae.current,Xl(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=Je,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[Ve]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Yd(e.nodeValue,a)),e||Ba(t)}else e=Hi(e).createTextNode(l),e[Ve]=t,t.stateNode=e}return _e(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Xl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(o(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[Ve]=t}else Ql(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;_e(t),n=!1}else n=wc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Lt(t),t):(Lt(t),null)}if(Lt(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool);var s=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==n&&(l.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),ji(t,t.updateQueue),_e(t),null;case 4:return It(),e===null&&Zr(t.stateNode.containerInfo),_e(t),null;case 10:return Yt(t.type),_e(t),null;case 19:if(W(Oe),n=t.memoizedState,n===null)return _e(t),null;if(l=(t.flags&128)!==0,s=n.rendering,s===null)if(l)on(n,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=mi(e),s!==null){for(t.flags|=128,on(n,!1),e=s.updateQueue,t.updateQueue=e,ji(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)jc(a,e),a=a.sibling;return k(Oe,Oe.current&1|2),t.child}e=e.sibling}n.tail!==null&&At()>Ci&&(t.flags|=128,l=!0,on(n,!1),t.lanes=4194304)}else{if(!l)if(e=mi(s),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,ji(t,e),on(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!fe)return _e(t),null}else 2*At()-n.renderingStartTime>Ci&&a!==536870912&&(t.flags|=128,l=!0,on(n,!1),t.lanes=4194304);n.isBackwards?(s.sibling=t.child,t.child=s):(e=n.last,e!==null?e.sibling=s:t.child=s,n.last=s)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=At(),t.sibling=null,e=Oe.current,k(Oe,l?e&1|2:e&1),t):(_e(t),null);case 22:case 23:return Lt(t),Js(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),a=t.updateQueue,a!==null&&ji(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&W(Ua),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Yt(Me),_e(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function ap(e,t){switch(Hs(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yt(Me),It(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return On(t),null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Ql()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(Oe),null;case 4:return It(),null;case 10:return Yt(t.type),null;case 22:case 23:return Lt(t),Js(),e!==null&&W(Ua),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Yt(Me),null;case 25:return null;default:return null}}function Ju(e,t){switch(Hs(t),t.tag){case 3:Yt(Me),It();break;case 26:case 27:case 5:On(t);break;case 4:It();break;case 13:Lt(t);break;case 19:W(Oe);break;case 10:Yt(t.type);break;case 22:case 23:Lt(t),Js(),e!==null&&W(Ua);break;case 24:Yt(Me)}}function cn(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var s=a.create,d=a.inst;l=s(),d.destroy=l}a=a.next}while(a!==n)}}catch(p){ve(t,t.return,p)}}function ca(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var s=n.next;l=s;do{if((l.tag&e)===e){var d=l.inst,p=d.destroy;if(p!==void 0){d.destroy=void 0,n=t;var v=a,D=p;try{D()}catch(M){ve(n,v,M)}}}l=l.next}while(l!==s)}}catch(M){ve(t,t.return,M)}}function Pu(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Uc(t,a)}catch(l){ve(e,e.return,l)}}}function $u(e,t,a){a.props=ka(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ve(e,t,l)}}function un(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){ve(e,t,n)}}function zt(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){ve(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){ve(e,t,n)}else a.current=null}function Iu(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){ve(e,e.return,n)}}function Tr(e,t,a){try{var l=e.stateNode;Tp(l,e.type,a,t),l[$e]=t}catch(n){ve(e,e.return,n)}}function Fu(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ma(e.type)||e.tag===4}function _r(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ma(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cr(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Bi));else if(l!==4&&(l===27&&ma(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Cr(e,t,a),e=e.sibling;e!==null;)Cr(e,t,a),e=e.sibling}function Ti(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&ma(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ti(e,t,a),e=e.sibling;e!==null;)Ti(e,t,a),e=e.sibling}function ed(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Xe(t,l,a),t[Ve]=e,t[$e]=a}catch(s){ve(e,e.return,s)}}var Vt=!1,Re=!1,wr=!1,td=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function lp(e,t){if(e=e.containerInfo,Pr=Yi,e=fc(e),_s(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{a.nodeType,s.nodeType}catch{a=null;break e}var d=0,p=-1,v=-1,D=0,M=0,H=e,A=null;t:for(;;){for(var R;H!==a||n!==0&&H.nodeType!==3||(p=d+n),H!==s||l!==0&&H.nodeType!==3||(v=d+l),H.nodeType===3&&(d+=H.nodeValue.length),(R=H.firstChild)!==null;)A=H,H=R;for(;;){if(H===e)break t;if(A===a&&++D===n&&(p=d),A===s&&++M===l&&(v=d),(R=H.nextSibling)!==null)break;H=A,A=H.parentNode}H=R}a=p===-1||v===-1?null:{start:p,end:v}}else a=null}a=a||{start:0,end:0}}else a=null;for($r={focusedElem:e,selectionRange:a},Yi=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){switch(t=Ue,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,a=t,n=s.memoizedProps,s=s.memoizedState,l=a.stateNode;try{var F=ka(a.type,n,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(F,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(J){ve(a,a.return,J)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)eo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":eo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}}function ad(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ua(e,a),l&4&&cn(5,a);break;case 1:if(ua(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(d){ve(a,a.return,d)}else{var n=ka(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){ve(a,a.return,d)}}l&64&&Pu(a),l&512&&un(a,a.return);break;case 3:if(ua(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Uc(e,t)}catch(d){ve(a,a.return,d)}}break;case 27:t===null&&l&4&&ed(a);case 26:case 5:ua(e,a),t===null&&l&4&&Iu(a),l&512&&un(a,a.return);break;case 12:ua(e,a);break;case 13:ua(e,a),l&4&&id(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=fp.bind(null,a),Ep(e,a))));break;case 22:if(l=a.memoizedState!==null||Vt,!l){t=t!==null&&t.memoizedState!==null||Re,n=Vt;var s=Re;Vt=l,(Re=t)&&!s?da(e,a,(a.subtreeFlags&8772)!==0):ua(e,a),Vt=n,Re=s}break;case 30:break;default:ua(e,a)}}function ld(e){var t=e.alternate;t!==null&&(e.alternate=null,ld(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&is(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Te=null,et=!1;function Zt(e,t,a){for(a=a.child;a!==null;)nd(e,t,a),a=a.sibling}function nd(e,t,a){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(El,a)}catch{}switch(a.tag){case 26:Re||zt(a,t),Zt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||zt(a,t);var l=Te,n=et;ma(a.type)&&(Te=a.stateNode,et=!1),Zt(e,t,a),vn(a.stateNode),Te=l,et=n;break;case 5:Re||zt(a,t);case 6:if(l=Te,n=et,Te=null,Zt(e,t,a),Te=l,et=n,Te!==null)if(et)try{(Te.nodeType===9?Te.body:Te.nodeName==="HTML"?Te.ownerDocument.body:Te).removeChild(a.stateNode)}catch(s){ve(a,t,s)}else try{Te.removeChild(a.stateNode)}catch(s){ve(a,t,s)}break;case 18:Te!==null&&(et?(e=Te,Vd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Dn(e)):Vd(Te,a.stateNode));break;case 4:l=Te,n=et,Te=a.stateNode.containerInfo,et=!0,Zt(e,t,a),Te=l,et=n;break;case 0:case 11:case 14:case 15:Re||ca(2,a,t),Re||ca(4,a,t),Zt(e,t,a);break;case 1:Re||(zt(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$u(a,t,l)),Zt(e,t,a);break;case 21:Zt(e,t,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,Zt(e,t,a),Re=l;break;default:Zt(e,t,a)}}function id(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dn(e)}catch(a){ve(t,t.return,a)}}function np(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new td),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new td),t;default:throw Error(o(435,e.tag))}}function Dr(e,t){var a=np(e);t.forEach(function(l){var n=hp.bind(null,e,l);a.has(l)||(a.add(l),l.then(n,n))})}function rt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],s=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 27:if(ma(p.type)){Te=p.stateNode,et=!1;break e}break;case 5:Te=p.stateNode,et=!1;break e;case 3:case 4:Te=p.stateNode.containerInfo,et=!0;break e}p=p.return}if(Te===null)throw Error(o(160));nd(s,d,n),Te=null,et=!1,s=n.alternate,s!==null&&(s.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)sd(t,e),t=t.sibling}var Ct=null;function sd(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rt(t,e),ot(e),l&4&&(ca(3,e,e.return),cn(3,e),ca(5,e,e.return));break;case 1:rt(t,e),ot(e),l&512&&(Re||a===null||zt(a,a.return)),l&64&&Vt&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=Ct;if(rt(t,e),ot(e),l&512&&(Re||a===null||zt(a,a.return)),l&4){var s=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":s=n.getElementsByTagName("title")[0],(!s||s[Ol]||s[Ve]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=n.createElement(l),n.head.insertBefore(s,n.querySelector("head > title"))),Xe(s,l,a),s[Ve]=e,He(s),l=s;break e;case"link":var d=ef("link","href",n).get(l+(a.href||""));if(d){for(var p=0;p<d.length;p++)if(s=d[p],s.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&s.getAttribute("rel")===(a.rel==null?null:a.rel)&&s.getAttribute("title")===(a.title==null?null:a.title)&&s.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){d.splice(p,1);break t}}s=n.createElement(l),Xe(s,l,a),n.head.appendChild(s);break;case"meta":if(d=ef("meta","content",n).get(l+(a.content||""))){for(p=0;p<d.length;p++)if(s=d[p],s.getAttribute("content")===(a.content==null?null:""+a.content)&&s.getAttribute("name")===(a.name==null?null:a.name)&&s.getAttribute("property")===(a.property==null?null:a.property)&&s.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&s.getAttribute("charset")===(a.charSet==null?null:a.charSet)){d.splice(p,1);break t}}s=n.createElement(l),Xe(s,l,a),n.head.appendChild(s);break;default:throw Error(o(468,l))}s[Ve]=e,He(s),l=s}e.stateNode=l}else tf(n,e.type,e.stateNode);else e.stateNode=Fd(n,l,e.memoizedProps);else s!==l?(s===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):s.count--,l===null?tf(n,e.type,e.stateNode):Fd(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Tr(e,e.memoizedProps,a.memoizedProps)}break;case 27:rt(t,e),ot(e),l&512&&(Re||a===null||zt(a,a.return)),a!==null&&l&4&&Tr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(rt(t,e),ot(e),l&512&&(Re||a===null||zt(a,a.return)),e.flags&32){n=e.stateNode;try{$a(n,"")}catch(R){ve(e,e.return,R)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,Tr(e,n,a!==null?a.memoizedProps:n)),l&1024&&(wr=!0);break;case 6:if(rt(t,e),ot(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(R){ve(e,e.return,R)}}break;case 3:if(qi=null,n=Ct,Ct=Ni(t.containerInfo),rt(t,e),Ct=n,ot(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Dn(t.containerInfo)}catch(R){ve(e,e.return,R)}wr&&(wr=!1,rd(e));break;case 4:l=Ct,Ct=Ni(e.stateNode.containerInfo),rt(t,e),ot(e),Ct=l;break;case 12:rt(t,e),ot(e);break;case 13:rt(t,e),ot(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Or=At()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Dr(e,l)));break;case 22:n=e.memoizedState!==null;var v=a!==null&&a.memoizedState!==null,D=Vt,M=Re;if(Vt=D||n,Re=M||v,rt(t,e),Re=M,Vt=D,ot(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||v||Vt||Re||Ga(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){v=a=t;try{if(s=v.stateNode,n)d=s.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{p=v.stateNode;var H=v.memoizedProps.style,A=H!=null&&H.hasOwnProperty("display")?H.display:null;p.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(R){ve(v,v.return,R)}}}else if(t.tag===6){if(a===null){v=t;try{v.stateNode.nodeValue=n?"":v.memoizedProps}catch(R){ve(v,v.return,R)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Dr(e,a))));break;case 19:rt(t,e),ot(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Dr(e,l)));break;case 30:break;case 21:break;default:rt(t,e),ot(e)}}function ot(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Fu(l)){a=l;break}l=l.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var n=a.stateNode,s=_r(e);Ti(e,s,n);break;case 5:var d=a.stateNode;a.flags&32&&($a(d,""),a.flags&=-33);var p=_r(e);Ti(e,p,d);break;case 3:case 4:var v=a.stateNode.containerInfo,D=_r(e);Cr(e,D,v);break;default:throw Error(o(161))}}catch(M){ve(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;rd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ua(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ad(e,t.alternate,t),t=t.sibling}function Ga(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ca(4,t,t.return),Ga(t);break;case 1:zt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&$u(t,t.return,a),Ga(t);break;case 27:vn(t.stateNode);case 26:case 5:zt(t,t.return),Ga(t);break;case 22:t.memoizedState===null&&Ga(t);break;case 30:Ga(t);break;default:Ga(t)}e=e.sibling}}function da(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,s=t,d=s.flags;switch(s.tag){case 0:case 11:case 15:da(n,s,a),cn(4,s);break;case 1:if(da(n,s,a),l=s,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(D){ve(l,l.return,D)}if(l=s,n=l.updateQueue,n!==null){var p=l.stateNode;try{var v=n.shared.hiddenCallbacks;if(v!==null)for(n.shared.hiddenCallbacks=null,n=0;n<v.length;n++)Nc(v[n],p)}catch(D){ve(l,l.return,D)}}a&&d&64&&Pu(s),un(s,s.return);break;case 27:ed(s);case 26:case 5:da(n,s,a),a&&l===null&&d&4&&Iu(s),un(s,s.return);break;case 12:da(n,s,a);break;case 13:da(n,s,a),a&&d&4&&id(n,s);break;case 22:s.memoizedState===null&&da(n,s,a),un(s,s.return);break;case 30:break;default:da(n,s,a)}t=t.sibling}}function Ar(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Kl(a))}function Rr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Kl(e))}function Mt(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)od(e,t,a,l),t=t.sibling}function od(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Mt(e,t,a,l),n&2048&&cn(9,t);break;case 1:Mt(e,t,a,l);break;case 3:Mt(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Kl(e)));break;case 12:if(n&2048){Mt(e,t,a,l),e=t.stateNode;try{var s=t.memoizedProps,d=s.id,p=s.onPostCommit;typeof p=="function"&&p(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){ve(t,t.return,v)}}else Mt(e,t,a,l);break;case 13:Mt(e,t,a,l);break;case 23:break;case 22:s=t.stateNode,d=t.alternate,t.memoizedState!==null?s._visibility&2?Mt(e,t,a,l):dn(e,t):s._visibility&2?Mt(e,t,a,l):(s._visibility|=2,yl(e,t,a,l,(t.subtreeFlags&10256)!==0)),n&2048&&Ar(d,t);break;case 24:Mt(e,t,a,l),n&2048&&Rr(t.alternate,t);break;default:Mt(e,t,a,l)}}function yl(e,t,a,l,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,d=t,p=a,v=l,D=d.flags;switch(d.tag){case 0:case 11:case 15:yl(s,d,p,v,n),cn(8,d);break;case 23:break;case 22:var M=d.stateNode;d.memoizedState!==null?M._visibility&2?yl(s,d,p,v,n):dn(s,d):(M._visibility|=2,yl(s,d,p,v,n)),n&&D&2048&&Ar(d.alternate,d);break;case 24:yl(s,d,p,v,n),n&&D&2048&&Rr(d.alternate,d);break;default:yl(s,d,p,v,n)}t=t.sibling}}function dn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:dn(a,l),n&2048&&Ar(l.alternate,l);break;case 24:dn(a,l),n&2048&&Rr(l.alternate,l);break;default:dn(a,l)}t=t.sibling}}var fn=8192;function ml(e){if(e.subtreeFlags&fn)for(e=e.child;e!==null;)cd(e),e=e.sibling}function cd(e){switch(e.tag){case 26:ml(e),e.flags&fn&&e.memoizedState!==null&&Lp(Ct,e.memoizedState,e.memoizedProps);break;case 5:ml(e);break;case 3:case 4:var t=Ct;Ct=Ni(e.stateNode.containerInfo),ml(e),Ct=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=fn,fn=16777216,ml(e),fn=t):ml(e));break;default:ml(e)}}function ud(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function hn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Ue=l,fd(l,e)}ud(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dd(e),e=e.sibling}function dd(e){switch(e.tag){case 0:case 11:case 15:hn(e),e.flags&2048&&ca(9,e,e.return);break;case 3:hn(e);break;case 12:hn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,_i(e)):hn(e);break;default:hn(e)}}function _i(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Ue=l,fd(l,e)}ud(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ca(8,t,t.return),_i(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,_i(t));break;default:_i(t)}e=e.sibling}}function fd(e,t){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:ca(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Kl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else e:for(a=e;Ue!==null;){l=Ue;var n=l.sibling,s=l.return;if(ld(l),l===a){Ue=null;break e}if(n!==null){n.return=s,Ue=n;break e}Ue=s}}}var ip={getCacheForType:function(e){var t=Ze(Me),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},sp=typeof WeakMap=="function"?WeakMap:Map,he=0,be=null,se=null,ce=0,pe=0,ct=null,fa=!1,xl=!1,Er=!1,Kt=0,De=0,ha=0,Ya=0,zr=0,bt=0,vl=0,pn=null,tt=null,Mr=!1,Or=0,Ci=1/0,wi=null,pa=null,Le=0,ga=null,bl=null,Sl=0,Br=0,Hr=null,hd=null,gn=0,Nr=null;function ut(){if((he&2)!==0&&ce!==0)return ce&-ce;if(z.T!==null){var e=ol;return e!==0?e:Lr()}return Ro()}function pd(){bt===0&&(bt=(ce&536870912)===0||fe?Co():536870912);var e=vt.current;return e!==null&&(e.flags|=32),bt}function dt(e,t,a){(e===be&&(pe===2||pe===9)||e.cancelPendingCommit!==null)&&(jl(e,0),ya(e,ce,bt,!1)),Ml(e,a),((he&2)===0||e!==be)&&(e===be&&((he&2)===0&&(Ya|=a),De===4&&ya(e,ce,bt,!1)),Ot(e))}function gd(e,t,a){if((he&6)!==0)throw Error(o(327));var l=!a&&(t&124)===0&&(t&e.expiredLanes)===0||zl(e,t),n=l?cp(e,t):kr(e,t,!0),s=l;do{if(n===0){xl&&!l&&ya(e,t,0,!1);break}else{if(a=e.current.alternate,s&&!rp(a)){n=kr(e,t,!1),s=!1;continue}if(n===2){if(s=t,e.errorRecoveryDisabledLanes&s)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var p=e;n=pn;var v=p.current.memoizedState.isDehydrated;if(v&&(jl(p,d).flags|=256),d=kr(p,d,!1),d!==2){if(Er&&!v){p.errorRecoveryDisabledLanes|=s,Ya|=s,n=4;break e}s=tt,tt=n,s!==null&&(tt===null?tt=s:tt.push.apply(tt,s))}n=d}if(s=!1,n!==2)continue}}if(n===1){jl(e,0),ya(e,t,0,!0);break}e:{switch(l=e,s=n,s){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:ya(l,t,bt,!fa);break e;case 2:tt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(n=Or+300-At(),10<n)){if(ya(l,t,bt,!fa),Un(l,0,!0)!==0)break e;l.timeoutHandle=Xd(yd.bind(null,l,a,tt,wi,Mr,t,bt,Ya,vl,fa,s,2,-0,0),n);break e}yd(l,a,tt,wi,Mr,t,bt,Ya,vl,fa,s,0,-0,0)}}break}while(!0);Ot(e)}function yd(e,t,a,l,n,s,d,p,v,D,M,H,A,R){if(e.timeoutHandle=-1,H=t.subtreeFlags,(H&8192||(H&16785408)===16785408)&&(jn={stylesheets:null,count:0,unsuspend:Wp},cd(t),H=Xp(),H!==null)){e.cancelPendingCommit=H(Td.bind(null,e,t,s,a,l,n,d,p,v,M,1,A,R)),ya(e,s,d,!D);return}Td(e,t,s,a,l,n,d,p,v)}function rp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],s=n.getSnapshot;n=n.value;try{if(!it(s(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ya(e,t,a,l){t&=~zr,t&=~Ya,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var s=31-nt(n),d=1<<s;l[s]=-1,n&=~d}a!==0&&Do(e,a,t)}function Di(){return(he&6)===0?(yn(0),!1):!0}function Ur(){if(se!==null){if(pe===0)var e=se.return;else e=se,Gt=Ha=null,er(e),pl=null,sn=0,e=se;for(;e!==null;)Ju(e.alternate,e),e=e.return;se=null}}function jl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Cp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ur(),be=e,se=a=Ut(e.current,null),ce=t,pe=0,ct=null,fa=!1,xl=zl(e,t),Er=!1,vl=bt=zr=Ya=ha=De=0,tt=pn=null,Mr=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-nt(l),s=1<<n;t|=e[n],l&=~s}return Kt=t,Jn(),a}function md(e,t){ne=null,z.H=pi,t===Pl||t===ni?(t=Bc(),pe=3):t===zc?(t=Bc(),pe=4):pe=t===Hu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ct=t,se===null&&(De=1,vi(e,gt(t,e.current)))}function xd(){var e=z.H;return z.H=pi,e===null?pi:e}function vd(){var e=z.A;return z.A=ip,e}function qr(){De=4,fa||(ce&4194048)!==ce&&vt.current!==null||(xl=!0),(ha&134217727)===0&&(Ya&134217727)===0||be===null||ya(be,ce,bt,!1)}function kr(e,t,a){var l=he;he|=2;var n=xd(),s=vd();(be!==e||ce!==t)&&(wi=null,jl(e,t)),t=!1;var d=De;e:do try{if(pe!==0&&se!==null){var p=se,v=ct;switch(pe){case 8:Ur(),d=6;break e;case 3:case 2:case 9:case 6:vt.current===null&&(t=!0);var D=pe;if(pe=0,ct=null,Tl(e,p,v,D),a&&xl){d=0;break e}break;default:D=pe,pe=0,ct=null,Tl(e,p,v,D)}}op(),d=De;break}catch(M){md(e,M)}while(!0);return t&&e.shellSuspendCounter++,Gt=Ha=null,he=l,z.H=n,z.A=s,se===null&&(be=null,ce=0,Jn()),d}function op(){for(;se!==null;)bd(se)}function cp(e,t){var a=he;he|=2;var l=xd(),n=vd();be!==e||ce!==t?(wi=null,Ci=At()+500,jl(e,t)):xl=zl(e,t);e:do try{if(pe!==0&&se!==null){t=se;var s=ct;t:switch(pe){case 1:pe=0,ct=null,Tl(e,t,s,1);break;case 2:case 9:if(Mc(s)){pe=0,ct=null,Sd(t);break}t=function(){pe!==2&&pe!==9||be!==e||(pe=7),Ot(e)},s.then(t,t);break e;case 3:pe=7;break e;case 4:pe=5;break e;case 7:Mc(s)?(pe=0,ct=null,Sd(t)):(pe=0,ct=null,Tl(e,t,s,7));break;case 5:var d=null;switch(se.tag){case 26:d=se.memoizedState;case 5:case 27:var p=se;if(!d||af(d)){pe=0,ct=null;var v=p.sibling;if(v!==null)se=v;else{var D=p.return;D!==null?(se=D,Ai(D)):se=null}break t}}pe=0,ct=null,Tl(e,t,s,5);break;case 6:pe=0,ct=null,Tl(e,t,s,6);break;case 8:Ur(),De=6;break e;default:throw Error(o(462))}}up();break}catch(M){md(e,M)}while(!0);return Gt=Ha=null,z.H=l,z.A=n,he=a,se!==null?0:(be=null,ce=0,Jn(),De)}function up(){for(;se!==null&&!Mf();)bd(se)}function bd(e){var t=Zu(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?Ai(e):se=t}function Sd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Yu(a,t,t.pendingProps,t.type,void 0,ce);break;case 11:t=Yu(a,t,t.pendingProps,t.type.render,t.ref,ce);break;case 5:er(t);default:Ju(a,t),t=se=jc(t,Kt),t=Zu(a,t,Kt)}e.memoizedProps=e.pendingProps,t===null?Ai(e):se=t}function Tl(e,t,a,l){Gt=Ha=null,er(t),pl=null,sn=0;var n=t.return;try{if(Fh(e,n,t,a,ce)){De=1,vi(e,gt(a,e.current)),se=null;return}}catch(s){if(n!==null)throw se=n,s;De=1,vi(e,gt(a,e.current)),se=null;return}t.flags&32768?(fe||l===1?e=!0:xl||(ce&536870912)!==0?e=!1:(fa=e=!0,(l===2||l===9||l===3||l===6)&&(l=vt.current,l!==null&&l.tag===13&&(l.flags|=16384))),jd(t,e)):Ai(t)}function Ai(e){var t=e;do{if((t.flags&32768)!==0){jd(t,fa);return}e=t.return;var a=tp(t.alternate,t,Kt);if(a!==null){se=a;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);De===0&&(De=5)}function jd(e,t){do{var a=ap(e.alternate,e);if(a!==null){a.flags&=32767,se=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){se=e;return}se=e=a}while(e!==null);De=6,se=null}function Td(e,t,a,l,n,s,d,p,v){e.cancelPendingCommit=null;do Ri();while(Le!==0);if((he&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,s|=Rs,Wf(e,a,s,d,p,v),e===be&&(se=be=null,ce=0),bl=t,ga=e,Sl=a,Br=s,Hr=n,hd=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pp(Bn,function(){return Ad(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,n=G.p,G.p=2,d=he,he|=4;try{lp(e,t,a)}finally{he=d,G.p=n,z.T=l}}Le=1,_d(),Cd(),wd()}}function _d(){if(Le===1){Le=0;var e=ga,t=bl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var l=G.p;G.p=2;var n=he;he|=4;try{sd(t,e);var s=$r,d=fc(e.containerInfo),p=s.focusedElem,v=s.selectionRange;if(d!==p&&p&&p.ownerDocument&&dc(p.ownerDocument.documentElement,p)){if(v!==null&&_s(p)){var D=v.start,M=v.end;if(M===void 0&&(M=D),"selectionStart"in p)p.selectionStart=D,p.selectionEnd=Math.min(M,p.value.length);else{var H=p.ownerDocument||document,A=H&&H.defaultView||window;if(A.getSelection){var R=A.getSelection(),F=p.textContent.length,J=Math.min(v.start,F),me=v.end===void 0?J:Math.min(v.end,F);!R.extend&&J>me&&(d=me,me=J,J=d);var _=uc(p,J),j=uc(p,me);if(_&&j&&(R.rangeCount!==1||R.anchorNode!==_.node||R.anchorOffset!==_.offset||R.focusNode!==j.node||R.focusOffset!==j.offset)){var w=H.createRange();w.setStart(_.node,_.offset),R.removeAllRanges(),J>me?(R.addRange(w),R.extend(j.node,j.offset)):(w.setEnd(j.node,j.offset),R.addRange(w))}}}}for(H=[],R=p;R=R.parentNode;)R.nodeType===1&&H.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<H.length;p++){var B=H[p];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Yi=!!Pr,$r=Pr=null}finally{he=n,G.p=l,z.T=a}}e.current=t,Le=2}}function Cd(){if(Le===2){Le=0;var e=ga,t=bl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var l=G.p;G.p=2;var n=he;he|=4;try{ad(e,t.alternate,t)}finally{he=n,G.p=l,z.T=a}}Le=3}}function wd(){if(Le===4||Le===3){Le=0,Of();var e=ga,t=bl,a=Sl,l=hd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Le=5:(Le=0,bl=ga=null,Dd(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(pa=null),ls(a),t=t.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(El,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,n=G.p,G.p=2,z.T=null;try{for(var s=e.onRecoverableError,d=0;d<l.length;d++){var p=l[d];s(p.value,{componentStack:p.stack})}}finally{z.T=t,G.p=n}}(Sl&3)!==0&&Ri(),Ot(e),n=e.pendingLanes,(a&4194090)!==0&&(n&42)!==0?e===Nr?gn++:(gn=0,Nr=e):gn=0,yn(0)}}function Dd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Kl(t)))}function Ri(e){return _d(),Cd(),wd(),Ad()}function Ad(){if(Le!==5)return!1;var e=ga,t=Br;Br=0;var a=ls(Sl),l=z.T,n=G.p;try{G.p=32>a?32:a,z.T=null,a=Hr,Hr=null;var s=ga,d=Sl;if(Le=0,bl=ga=null,Sl=0,(he&6)!==0)throw Error(o(331));var p=he;if(he|=4,dd(s.current),od(s,s.current,d,a),he=p,yn(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(El,s)}catch{}return!0}finally{G.p=n,z.T=l,Dd(e,t)}}function Rd(e,t,a){t=gt(a,t),t=pr(e.stateNode,t,2),e=ia(e,t,2),e!==null&&(Ml(e,2),Ot(e))}function ve(e,t,a){if(e.tag===3)Rd(e,e,a);else for(;t!==null;){if(t.tag===3){Rd(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pa===null||!pa.has(l))){e=gt(a,e),a=Ou(2),l=ia(t,a,2),l!==null&&(Bu(a,l,t,e),Ml(l,2),Ot(l));break}}t=t.return}}function Gr(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new sp;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(Er=!0,n.add(a),e=dp.bind(null,e,t,a),t.then(e,e))}function dp(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,be===e&&(ce&a)===a&&(De===4||De===3&&(ce&62914560)===ce&&300>At()-Or?(he&2)===0&&jl(e,0):zr|=a,vl===ce&&(vl=0)),Ot(e)}function Ed(e,t){t===0&&(t=wo()),e=nl(e,t),e!==null&&(Ml(e,t),Ot(e))}function fp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Ed(e,a)}function hp(e,t){var a=0;switch(e.tag){case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),Ed(e,a)}function pp(e,t){return Fi(e,t)}var Ei=null,_l=null,Yr=!1,zi=!1,Wr=!1,Wa=0;function Ot(e){e!==_l&&e.next===null&&(_l===null?Ei=_l=e:_l=_l.next=e),zi=!0,Yr||(Yr=!0,yp())}function yn(e,t){if(!Wr&&zi){Wr=!0;do for(var a=!1,l=Ei;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var s=0;else{var d=l.suspendedLanes,p=l.pingedLanes;s=(1<<31-nt(42|e)+1)-1,s&=n&~(d&~p),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(a=!0,Bd(l,s))}else s=ce,s=Un(l,l===be?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||zl(l,s)||(a=!0,Bd(l,s));l=l.next}while(a);Wr=!1}}function gp(){zd()}function zd(){zi=Yr=!1;var e=0;Wa!==0&&(_p()&&(e=Wa),Wa=0);for(var t=At(),a=null,l=Ei;l!==null;){var n=l.next,s=Md(l,t);s===0?(l.next=null,a===null?Ei=n:a.next=n,n===null&&(_l=a)):(a=l,(e!==0||(s&3)!==0)&&(zi=!0)),l=n}yn(e)}function Md(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var d=31-nt(s),p=1<<d,v=n[d];v===-1?((p&a)===0||(p&l)!==0)&&(n[d]=Yf(p,t)):v<=t&&(e.expiredLanes|=p),s&=~p}if(t=be,a=ce,a=Un(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(pe===2||pe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&es(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&es(l),ls(a)){case 2:case 8:a=To;break;case 32:a=Bn;break;case 268435456:a=_o;break;default:a=Bn}return l=Od.bind(null,e),a=Fi(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&es(l),e.callbackPriority=2,e.callbackNode=null,2}function Od(e,t){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ri()&&e.callbackNode!==a)return null;var l=ce;return l=Un(e,e===be?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(gd(e,l,t),Md(e,At()),e.callbackNode!=null&&e.callbackNode===a?Od.bind(null,e):null)}function Bd(e,t){if(Ri())return null;gd(e,t,!0)}function yp(){wp(function(){(he&6)!==0?Fi(jo,gp):zd()})}function Lr(){return Wa===0&&(Wa=Co()),Wa}function Hd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wn(""+e)}function Nd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function mp(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var s=Hd((n[$e]||null).action),d=l.submitter;d&&(t=(t=d[$e]||null)?Hd(t.formAction):d.getAttribute("formAction"),t!==null&&(s=t,d=null));var p=new Vn("action","action",null,l,n);e.push({event:p,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Wa!==0){var v=d?Nd(n,d):new FormData(n);cr(a,{pending:!0,data:v,method:n.method,action:s},null,v)}}else typeof s=="function"&&(p.preventDefault(),v=d?Nd(n,d):new FormData(n),cr(a,{pending:!0,data:v,method:n.method,action:s},s,v))},currentTarget:n}]})}}for(var Xr=0;Xr<As.length;Xr++){var Qr=As[Xr],xp=Qr.toLowerCase(),vp=Qr[0].toUpperCase()+Qr.slice(1);_t(xp,"on"+vp)}_t(gc,"onAnimationEnd"),_t(yc,"onAnimationIteration"),_t(mc,"onAnimationStart"),_t("dblclick","onDoubleClick"),_t("focusin","onFocus"),_t("focusout","onBlur"),_t(Nh,"onTransitionRun"),_t(Uh,"onTransitionStart"),_t(qh,"onTransitionCancel"),_t(xc,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mn));function Ud(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var d=l.length-1;0<=d;d--){var p=l[d],v=p.instance,D=p.currentTarget;if(p=p.listener,v!==s&&n.isPropagationStopped())break e;s=p,n.currentTarget=D;try{s(n)}catch(M){xi(M)}n.currentTarget=null,s=v}else for(d=0;d<l.length;d++){if(p=l[d],v=p.instance,D=p.currentTarget,p=p.listener,v!==s&&n.isPropagationStopped())break e;s=p,n.currentTarget=D;try{s(n)}catch(M){xi(M)}n.currentTarget=null,s=v}}}}function re(e,t){var a=t[ns];a===void 0&&(a=t[ns]=new Set);var l=e+"__bubble";a.has(l)||(qd(t,e,2,!1),a.add(l))}function Vr(e,t,a){var l=0;t&&(l|=4),qd(a,e,l,t)}var Mi="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[Mi]){e[Mi]=!0,zo.forEach(function(a){a!=="selectionchange"&&(bp.has(a)||Vr(a,!1,e),Vr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mi]||(t[Mi]=!0,Vr("selectionchange",!1,t))}}function qd(e,t,a,l){switch(cf(t)){case 2:var n=Zp;break;case 8:n=Kp;break;default:n=ro}a=n.bind(null,t,a,e),n=void 0,!gs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Kr(e,t,a,l,n){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var d=l.tag;if(d===3||d===4){var p=l.stateNode.containerInfo;if(p===n)break;if(d===4)for(d=l.return;d!==null;){var v=d.tag;if((v===3||v===4)&&d.stateNode.containerInfo===n)return;d=d.return}for(;p!==null;){if(d=Qa(p),d===null)return;if(v=d.tag,v===5||v===6||v===26||v===27){l=s=d;continue e}p=p.parentNode}}l=l.return}Qo(function(){var D=s,M=hs(a),H=[];e:{var A=vc.get(e);if(A!==void 0){var R=Vn,F=e;switch(e){case"keypress":if(Xn(a)===0)break e;case"keydown":case"keyup":R=ph;break;case"focusin":F="focus",R=vs;break;case"focusout":F="blur",R=vs;break;case"beforeblur":case"afterblur":R=vs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=mh;break;case gc:case yc:case mc:R=ih;break;case xc:R=vh;break;case"scroll":case"scrollend":R=eh;break;case"wheel":R=Sh;break;case"copy":case"cut":case"paste":R=rh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Po;break;case"toggle":case"beforetoggle":R=Th}var J=(t&4)!==0,me=!J&&(e==="scroll"||e==="scrollend"),_=J?A!==null?A+"Capture":null:A;J=[];for(var j=D,w;j!==null;){var B=j;if(w=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||w===null||_===null||(B=Hl(j,_),B!=null&&J.push(xn(j,B,w))),me)break;j=j.return}0<J.length&&(A=new R(A,F,null,a,M),H.push({event:A,listeners:J}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",A&&a!==fs&&(F=a.relatedTarget||a.fromElement)&&(Qa(F)||F[Xa]))break e;if((R||A)&&(A=M.window===M?M:(A=M.ownerDocument)?A.defaultView||A.parentWindow:window,R?(F=a.relatedTarget||a.toElement,R=D,F=F?Qa(F):null,F!==null&&(me=h(F),J=F.tag,F!==me||J!==5&&J!==27&&J!==6)&&(F=null)):(R=null,F=D),R!==F)){if(J=Ko,B="onMouseLeave",_="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(J=Po,B="onPointerLeave",_="onPointerEnter",j="pointer"),me=R==null?A:Bl(R),w=F==null?A:Bl(F),A=new J(B,j+"leave",R,a,M),A.target=me,A.relatedTarget=w,B=null,Qa(M)===D&&(J=new J(_,j+"enter",F,a,M),J.target=w,J.relatedTarget=me,B=J),me=B,R&&F)t:{for(J=R,_=F,j=0,w=J;w;w=Cl(w))j++;for(w=0,B=_;B;B=Cl(B))w++;for(;0<j-w;)J=Cl(J),j--;for(;0<w-j;)_=Cl(_),w--;for(;j--;){if(J===_||_!==null&&J===_.alternate)break t;J=Cl(J),_=Cl(_)}J=null}else J=null;R!==null&&kd(H,A,R,J,!1),F!==null&&me!==null&&kd(H,me,F,J,!0)}}e:{if(A=D?Bl(D):window,R=A.nodeName&&A.nodeName.toLowerCase(),R==="select"||R==="input"&&A.type==="file")var L=nc;else if(ac(A))if(ic)L=Oh;else{L=zh;var ie=Eh}else R=A.nodeName,!R||R.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?D&&ds(D.elementType)&&(L=nc):L=Mh;if(L&&(L=L(e,D))){lc(H,L,a,M);break e}ie&&ie(e,A,D),e==="focusout"&&D&&A.type==="number"&&D.memoizedProps.value!=null&&us(A,"number",A.value)}switch(ie=D?Bl(D):window,e){case"focusin":(ac(ie)||ie.contentEditable==="true")&&(tl=ie,Cs=D,Ll=null);break;case"focusout":Ll=Cs=tl=null;break;case"mousedown":ws=!0;break;case"contextmenu":case"mouseup":case"dragend":ws=!1,hc(H,a,M);break;case"selectionchange":if(Hh)break;case"keydown":case"keyup":hc(H,a,M)}var V;if(Ss)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else el?ec(e,a)&&(P="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(P="onCompositionStart");P&&($o&&a.locale!=="ko"&&(el||P!=="onCompositionStart"?P==="onCompositionEnd"&&el&&(V=Vo()):(ta=M,ys="value"in ta?ta.value:ta.textContent,el=!0)),ie=Oi(D,P),0<ie.length&&(P=new Jo(P,e,null,a,M),H.push({event:P,listeners:ie}),V?P.data=V:(V=tc(a),V!==null&&(P.data=V)))),(V=Ch?wh(e,a):Dh(e,a))&&(P=Oi(D,"onBeforeInput"),0<P.length&&(ie=new Jo("onBeforeInput","beforeinput",null,a,M),H.push({event:ie,listeners:P}),ie.data=V)),mp(H,e,D,a,M)}Ud(H,t)})}function xn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Oi(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,s=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||s===null||(n=Hl(e,a),n!=null&&l.unshift(xn(e,n,s)),n=Hl(e,t),n!=null&&l.push(xn(e,n,s))),e.tag===3)return l;e=e.return}return[]}function Cl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kd(e,t,a,l,n){for(var s=t._reactName,d=[];a!==null&&a!==l;){var p=a,v=p.alternate,D=p.stateNode;if(p=p.tag,v!==null&&v===l)break;p!==5&&p!==26&&p!==27||D===null||(v=D,n?(D=Hl(a,s),D!=null&&d.unshift(xn(a,D,v))):n||(D=Hl(a,s),D!=null&&d.push(xn(a,D,v)))),a=a.return}d.length!==0&&e.push({event:t,listeners:d})}var Sp=/\r\n?/g,jp=/\u0000|\uFFFD/g;function Gd(e){return(typeof e=="string"?e:""+e).replace(Sp,`
`).replace(jp,"")}function Yd(e,t){return t=Gd(t),Gd(e)===t}function Bi(){}function ye(e,t,a,l,n,s){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||$a(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&$a(e,""+l);break;case"className":kn(e,"class",l);break;case"tabIndex":kn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(e,a,l);break;case"style":Lo(e,l,s);break;case"data":if(t!=="object"){kn(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Wn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(a==="formAction"?(t!=="input"&&ye(e,t,"name",n.name,n,null),ye(e,t,"formEncType",n.formEncType,n,null),ye(e,t,"formMethod",n.formMethod,n,null),ye(e,t,"formTarget",n.formTarget,n,null)):(ye(e,t,"encType",n.encType,n,null),ye(e,t,"method",n.method,n,null),ye(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Wn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Bi);break;case"onScroll":l!=null&&re("scroll",e);break;case"onScrollEnd":l!=null&&re("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Wn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":re("beforetoggle",e),re("toggle",e),qn(e,"popover",l);break;case"xlinkActuate":Ht(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qn(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=If.get(a)||a,qn(e,a,l))}}function Jr(e,t,a,l,n,s){switch(a){case"style":Lo(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof l=="string"?$a(e,l):(typeof l=="number"||typeof l=="bigint")&&$a(e,""+l);break;case"onScroll":l!=null&&re("scroll",e);break;case"onScrollEnd":l!=null&&re("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),s=e[$e]||null,s=s!=null?s[a]:null,typeof s=="function"&&e.removeEventListener(t,s,n),typeof l=="function")){typeof s!="function"&&s!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):qn(e,a,l)}}}function Xe(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",e),re("load",e);var l=!1,n=!1,s;for(s in a)if(a.hasOwnProperty(s)){var d=a[s];if(d!=null)switch(s){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ye(e,t,s,d,a,null)}}n&&ye(e,t,"srcSet",a.srcSet,a,null),l&&ye(e,t,"src",a.src,a,null);return;case"input":re("invalid",e);var p=s=d=n=null,v=null,D=null;for(l in a)if(a.hasOwnProperty(l)){var M=a[l];if(M!=null)switch(l){case"name":n=M;break;case"type":d=M;break;case"checked":v=M;break;case"defaultChecked":D=M;break;case"value":s=M;break;case"defaultValue":p=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(o(137,t));break;default:ye(e,t,l,M,a,null)}}ko(e,s,p,v,D,d,n,!1),Gn(e);return;case"select":re("invalid",e),l=d=s=null;for(n in a)if(a.hasOwnProperty(n)&&(p=a[n],p!=null))switch(n){case"value":s=p;break;case"defaultValue":d=p;break;case"multiple":l=p;default:ye(e,t,n,p,a,null)}t=s,a=d,e.multiple=!!l,t!=null?Pa(e,!!l,t,!1):a!=null&&Pa(e,!!l,a,!0);return;case"textarea":re("invalid",e),s=n=l=null;for(d in a)if(a.hasOwnProperty(d)&&(p=a[d],p!=null))switch(d){case"value":l=p;break;case"defaultValue":n=p;break;case"children":s=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:ye(e,t,d,p,a,null)}Yo(e,l,n,s),Gn(e);return;case"option":for(v in a)if(a.hasOwnProperty(v)&&(l=a[v],l!=null))switch(v){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ye(e,t,v,l,a,null)}return;case"dialog":re("beforetoggle",e),re("toggle",e),re("cancel",e),re("close",e);break;case"iframe":case"object":re("load",e);break;case"video":case"audio":for(l=0;l<mn.length;l++)re(mn[l],e);break;case"image":re("error",e),re("load",e);break;case"details":re("toggle",e);break;case"embed":case"source":case"link":re("error",e),re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ye(e,t,D,l,a,null)}return;default:if(ds(t)){for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!==void 0&&Jr(e,t,M,l,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(l=a[p],l!=null&&ye(e,t,p,l,a,null))}function Tp(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,s=null,d=null,p=null,v=null,D=null,M=null;for(R in a){var H=a[R];if(a.hasOwnProperty(R)&&H!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":v=H;default:l.hasOwnProperty(R)||ye(e,t,R,null,l,H)}}for(var A in l){var R=l[A];if(H=a[A],l.hasOwnProperty(A)&&(R!=null||H!=null))switch(A){case"type":s=R;break;case"name":n=R;break;case"checked":D=R;break;case"defaultChecked":M=R;break;case"value":d=R;break;case"defaultValue":p=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(o(137,t));break;default:R!==H&&ye(e,t,A,R,l,H)}}cs(e,d,p,v,D,M,s,n);return;case"select":R=d=p=A=null;for(s in a)if(v=a[s],a.hasOwnProperty(s)&&v!=null)switch(s){case"value":break;case"multiple":R=v;default:l.hasOwnProperty(s)||ye(e,t,s,null,l,v)}for(n in l)if(s=l[n],v=a[n],l.hasOwnProperty(n)&&(s!=null||v!=null))switch(n){case"value":A=s;break;case"defaultValue":p=s;break;case"multiple":d=s;default:s!==v&&ye(e,t,n,s,l,v)}t=p,a=d,l=R,A!=null?Pa(e,!!a,A,!1):!!l!=!!a&&(t!=null?Pa(e,!!a,t,!0):Pa(e,!!a,a?[]:"",!1));return;case"textarea":R=A=null;for(p in a)if(n=a[p],a.hasOwnProperty(p)&&n!=null&&!l.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:ye(e,t,p,null,l,n)}for(d in l)if(n=l[d],s=a[d],l.hasOwnProperty(d)&&(n!=null||s!=null))switch(d){case"value":A=n;break;case"defaultValue":R=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==s&&ye(e,t,d,n,l,s)}Go(e,A,R);return;case"option":for(var F in a)if(A=a[F],a.hasOwnProperty(F)&&A!=null&&!l.hasOwnProperty(F))switch(F){case"selected":e.selected=!1;break;default:ye(e,t,F,null,l,A)}for(v in l)if(A=l[v],R=a[v],l.hasOwnProperty(v)&&A!==R&&(A!=null||R!=null))switch(v){case"selected":e.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:ye(e,t,v,A,l,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var J in a)A=a[J],a.hasOwnProperty(J)&&A!=null&&!l.hasOwnProperty(J)&&ye(e,t,J,null,l,A);for(D in l)if(A=l[D],R=a[D],l.hasOwnProperty(D)&&A!==R&&(A!=null||R!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(o(137,t));break;default:ye(e,t,D,A,l,R)}return;default:if(ds(t)){for(var me in a)A=a[me],a.hasOwnProperty(me)&&A!==void 0&&!l.hasOwnProperty(me)&&Jr(e,t,me,void 0,l,A);for(M in l)A=l[M],R=a[M],!l.hasOwnProperty(M)||A===R||A===void 0&&R===void 0||Jr(e,t,M,A,l,R);return}}for(var _ in a)A=a[_],a.hasOwnProperty(_)&&A!=null&&!l.hasOwnProperty(_)&&ye(e,t,_,null,l,A);for(H in l)A=l[H],R=a[H],!l.hasOwnProperty(H)||A===R||A==null&&R==null||ye(e,t,H,A,l,R)}var Pr=null,$r=null;function Hi(e){return e.nodeType===9?e:e.ownerDocument}function Wd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ld(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ir(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fr=null;function _p(){var e=window.event;return e&&e.type==="popstate"?e===Fr?!1:(Fr=e,!0):(Fr=null,!1)}var Xd=typeof setTimeout=="function"?setTimeout:void 0,Cp=typeof clearTimeout=="function"?clearTimeout:void 0,Qd=typeof Promise=="function"?Promise:void 0,wp=typeof queueMicrotask=="function"?queueMicrotask:typeof Qd<"u"?function(e){return Qd.resolve(null).then(e).catch(Dp)}:Xd;function Dp(e){setTimeout(function(){throw e})}function ma(e){return e==="head"}function Vd(e,t){var a=t,l=0,n=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(0<l&&8>l){a=l;var d=e.ownerDocument;if(a&1&&vn(d.documentElement),a&2&&vn(d.body),a&4)for(a=d.head,vn(a),d=a.firstChild;d;){var p=d.nextSibling,v=d.nodeName;d[Ol]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=p}}if(n===0){e.removeChild(s),Dn(t);return}n--}else a==="$"||a==="$?"||a==="$!"?n++:l=a.charCodeAt(0)-48;else l=0;a=s}while(a);Dn(t)}function eo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":eo(a),is(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ap(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ol])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=wt(e.nextSibling),e===null)break}return null}function Rp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=wt(e.nextSibling),e===null))return null;return e}function to(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Ep(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var ao=null;function Zd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Kd(e,t,a){switch(t=Hi(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function vn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);is(e)}var St=new Map,Jd=new Set;function Ni(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Jt=G.d;G.d={f:zp,r:Mp,D:Op,C:Bp,L:Hp,m:Np,X:qp,S:Up,M:kp};function zp(){var e=Jt.f(),t=Di();return e||t}function Mp(e){var t=Va(e);t!==null&&t.tag===5&&t.type==="form"?gu(t):Jt.r(e)}var wl=typeof document>"u"?null:document;function Pd(e,t,a){var l=wl;if(l&&typeof t=="string"&&t){var n=pt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Jd.has(n)||(Jd.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),Xe(t,"link",e),He(t),l.head.appendChild(t)))}}function Op(e){Jt.D(e),Pd("dns-prefetch",e,null)}function Bp(e,t){Jt.C(e,t),Pd("preconnect",e,t)}function Hp(e,t,a){Jt.L(e,t,a);var l=wl;if(l&&e&&t){var n='link[rel="preload"][as="'+pt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+pt(a.imageSizes)+'"]')):n+='[href="'+pt(e)+'"]';var s=n;switch(t){case"style":s=Dl(e);break;case"script":s=Al(e)}St.has(s)||(e=C({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),St.set(s,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(bn(s))||t==="script"&&l.querySelector(Sn(s))||(t=l.createElement("link"),Xe(t,"link",e),He(t),l.head.appendChild(t)))}}function Np(e,t){Jt.m(e,t);var a=wl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(e)+'"]',s=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Al(e)}if(!St.has(s)&&(e=C({rel:"modulepreload",href:e},t),St.set(s,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sn(s)))return}l=a.createElement("link"),Xe(l,"link",e),He(l),a.head.appendChild(l)}}}function Up(e,t,a){Jt.S(e,t,a);var l=wl;if(l&&e){var n=Za(l).hoistableStyles,s=Dl(e);t=t||"default";var d=n.get(s);if(!d){var p={loading:0,preload:null};if(d=l.querySelector(bn(s)))p.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},a),(a=St.get(s))&&lo(e,a);var v=d=l.createElement("link");He(v),Xe(v,"link",e),v._p=new Promise(function(D,M){v.onload=D,v.onerror=M}),v.addEventListener("load",function(){p.loading|=1}),v.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Ui(d,t,l)}d={type:"stylesheet",instance:d,count:1,state:p},n.set(s,d)}}}function qp(e,t){Jt.X(e,t);var a=wl;if(a&&e){var l=Za(a).hoistableScripts,n=Al(e),s=l.get(n);s||(s=a.querySelector(Sn(n)),s||(e=C({src:e,async:!0},t),(t=St.get(n))&&no(e,t),s=a.createElement("script"),He(s),Xe(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(n,s))}}function kp(e,t){Jt.M(e,t);var a=wl;if(a&&e){var l=Za(a).hoistableScripts,n=Al(e),s=l.get(n);s||(s=a.querySelector(Sn(n)),s||(e=C({src:e,async:!0,type:"module"},t),(t=St.get(n))&&no(e,t),s=a.createElement("script"),He(s),Xe(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(n,s))}}function $d(e,t,a,l){var n=(n=ae.current)?Ni(n):null;if(!n)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Dl(a.href),a=Za(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Dl(a.href);var s=Za(n).hoistableStyles,d=s.get(e);if(d||(n=n.ownerDocument||n,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,d),(s=n.querySelector(bn(e)))&&!s._p&&(d.instance=s,d.state.loading=5),St.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},St.set(e,a),s||Gp(n,e,a,d.state))),t&&l===null)throw Error(o(528,""));return d}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Al(a),a=Za(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Dl(e){return'href="'+pt(e)+'"'}function bn(e){return'link[rel="stylesheet"]['+e+"]"}function Id(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function Gp(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Xe(t,"link",a),He(t),e.head.appendChild(t))}function Al(e){return'[src="'+pt(e)+'"]'}function Sn(e){return"script[async]"+e}function Fd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return t.instance=l,He(l),l;var n=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),He(l),Xe(l,"style",n),Ui(l,a.precedence,e),t.instance=l;case"stylesheet":n=Dl(a.href);var s=e.querySelector(bn(n));if(s)return t.state.loading|=4,t.instance=s,He(s),s;l=Id(a),(n=St.get(n))&&lo(l,n),s=(e.ownerDocument||e).createElement("link"),He(s);var d=s;return d._p=new Promise(function(p,v){d.onload=p,d.onerror=v}),Xe(s,"link",l),t.state.loading|=4,Ui(s,a.precedence,e),t.instance=s;case"script":return s=Al(a.src),(n=e.querySelector(Sn(s)))?(t.instance=n,He(n),n):(l=a,(n=St.get(s))&&(l=C({},a),no(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),He(n),Xe(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Ui(l,a.precedence,e));return t.instance}function Ui(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,s=n,d=0;d<l.length;d++){var p=l[d];if(p.dataset.precedence===t)s=p;else if(s!==n)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function lo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function no(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var qi=null;function ef(e,t,a){if(qi===null){var l=new Map,n=qi=new Map;n.set(a,l)}else n=qi,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var s=a[n];if(!(s[Ol]||s[Ve]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var d=s.getAttribute(t)||"";d=e+d;var p=l.get(d);p?p.push(s):l.set(d,[s])}}return l}function tf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Yp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function af(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var jn=null;function Wp(){}function Lp(e,t,a){if(jn===null)throw Error(o(475));var l=jn;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=Dl(a.href),s=e.querySelector(bn(n));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=ki.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=s,He(s);return}s=e.ownerDocument||e,a=Id(a),(n=St.get(n))&&lo(a,n),s=s.createElement("link"),He(s);var d=s;d._p=new Promise(function(p,v){d.onload=p,d.onerror=v}),Xe(s,"link",a),t.instance=s}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=ki.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function Xp(){if(jn===null)throw Error(o(475));var e=jn;return e.stylesheets&&e.count===0&&io(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&io(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ki(){if(this.count--,this.count===0){if(this.stylesheets)io(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gi=null;function io(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gi=new Map,t.forEach(Qp,e),Gi=null,ki.call(e))}function Qp(e,t){if(!(t.state.loading&4)){var a=Gi.get(e);if(a)var l=a.get(null);else{a=new Map,Gi.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<n.length;s++){var d=n[s];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(a.set(d.dataset.precedence,d),l=d)}l&&a.set(null,l)}n=t.instance,d=n.getAttribute("data-precedence"),s=a.get(d)||l,s===l&&a.set(null,n),a.set(d,n),this.count++,l=ki.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),s?s.parentNode.insertBefore(n,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Tn={$$typeof:U,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Vp(e,t,a,l,n,s,d,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ts(0),this.hiddenUpdates=ts(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=s,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function lf(e,t,a,l,n,s,d,p,v,D,M,H){return e=new Vp(e,t,a,d,p,v,D,H),t=1,s===!0&&(t|=24),s=st(3,null,null,t),e.current=s,s.stateNode=e,t=Gs(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:a,cache:t},Xs(s),e}function nf(e){return e?(e=il,e):il}function sf(e,t,a,l,n,s){n=nf(n),l.context===null?l.context=n:l.pendingContext=n,l=na(t),l.payload={element:a},s=s===void 0?null:s,s!==null&&(l.callback=s),a=ia(e,l,t),a!==null&&(dt(a,e,t),Il(a,e,t))}function rf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function so(e,t){rf(e,t),(e=e.alternate)&&rf(e,t)}function of(e){if(e.tag===13){var t=nl(e,67108864);t!==null&&dt(t,e,67108864),so(e,67108864)}}var Yi=!0;function Zp(e,t,a,l){var n=z.T;z.T=null;var s=G.p;try{G.p=2,ro(e,t,a,l)}finally{G.p=s,z.T=n}}function Kp(e,t,a,l){var n=z.T;z.T=null;var s=G.p;try{G.p=8,ro(e,t,a,l)}finally{G.p=s,z.T=n}}function ro(e,t,a,l){if(Yi){var n=oo(l);if(n===null)Kr(e,t,l,Wi,a),uf(e,l);else if(Pp(n,e,t,a,l))l.stopPropagation();else if(uf(e,l),t&4&&-1<Jp.indexOf(e)){for(;n!==null;){var s=Va(n);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var d=Ca(s.pendingLanes);if(d!==0){var p=s;for(p.pendingLanes|=2,p.entangledLanes|=2;d;){var v=1<<31-nt(d);p.entanglements[1]|=v,d&=~v}Ot(s),(he&6)===0&&(Ci=At()+500,yn(0))}}break;case 13:p=nl(s,2),p!==null&&dt(p,s,2),Di(),so(s,2)}if(s=oo(l),s===null&&Kr(e,t,l,Wi,a),s===n)break;n=s}n!==null&&l.stopPropagation()}else Kr(e,t,l,null,a)}}function oo(e){return e=hs(e),co(e)}var Wi=null;function co(e){if(Wi=null,e=Qa(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Wi=e,null}function cf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bf()){case jo:return 2;case To:return 8;case Bn:case Hf:return 32;case _o:return 268435456;default:return 32}default:return 32}}var uo=!1,xa=null,va=null,ba=null,_n=new Map,Cn=new Map,Sa=[],Jp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uf(e,t){switch(e){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":_n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cn.delete(t.pointerId)}}function wn(e,t,a,l,n,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:s,targetContainers:[n]},t!==null&&(t=Va(t),t!==null&&of(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Pp(e,t,a,l,n){switch(t){case"focusin":return xa=wn(xa,e,t,a,l,n),!0;case"dragenter":return va=wn(va,e,t,a,l,n),!0;case"mouseover":return ba=wn(ba,e,t,a,l,n),!0;case"pointerover":var s=n.pointerId;return _n.set(s,wn(_n.get(s)||null,e,t,a,l,n)),!0;case"gotpointercapture":return s=n.pointerId,Cn.set(s,wn(Cn.get(s)||null,e,t,a,l,n)),!0}return!1}function df(e){var t=Qa(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=g(a),t!==null){e.blockedOn=t,Lf(e.priority,function(){if(a.tag===13){var l=ut();l=as(l);var n=nl(a,l);n!==null&&dt(n,a,l),so(a,l)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Li(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=oo(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);fs=l,a.target.dispatchEvent(l),fs=null}else return t=Va(a),t!==null&&of(t),e.blockedOn=a,!1;t.shift()}return!0}function ff(e,t,a){Li(e)&&a.delete(t)}function $p(){uo=!1,xa!==null&&Li(xa)&&(xa=null),va!==null&&Li(va)&&(va=null),ba!==null&&Li(ba)&&(ba=null),_n.forEach(ff),Cn.forEach(ff)}function Xi(e,t){e.blockedOn===t&&(e.blockedOn=null,uo||(uo=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,$p)))}var Qi=null;function hf(e){Qi!==e&&(Qi=e,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){Qi===e&&(Qi=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(co(l||a)===null)continue;break}var s=Va(a);s!==null&&(e.splice(t,3),t-=3,cr(s,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function Dn(e){function t(v){return Xi(v,e)}xa!==null&&Xi(xa,e),va!==null&&Xi(va,e),ba!==null&&Xi(ba,e),_n.forEach(t),Cn.forEach(t);for(var a=0;a<Sa.length;a++){var l=Sa[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Sa.length&&(a=Sa[0],a.blockedOn===null);)df(a),a.blockedOn===null&&Sa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],s=a[l+1],d=n[$e]||null;if(typeof s=="function")d||hf(a);else if(d){var p=null;if(s&&s.hasAttribute("formAction")){if(n=s,d=s[$e]||null)p=d.formAction;else if(co(n)!==null)continue}else p=d.action;typeof p=="function"?a[l+1]=p:(a.splice(l,3),l-=3),hf(a)}}}function fo(e){this._internalRoot=e}Vi.prototype.render=fo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,l=ut();sf(a,l,e,t,null,null)},Vi.prototype.unmount=fo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sf(e.current,2,null,e,null,null),Di(),t[Xa]=null}};function Vi(e){this._internalRoot=e}Vi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ro();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Sa.length&&t!==0&&t<Sa[a].priority;a++);Sa.splice(a,0,e),a===0&&df(e)}};var pf=i.version;if(pf!=="19.1.1")throw Error(o(527,pf,"19.1.1"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=x(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Ip={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zi.isDisabled&&Zi.supportsFiber)try{El=Zi.inject(Ip),lt=Zi}catch{}}return Rn.createRoot=function(e,t){if(!u(e))throw Error(o(299));var a=!1,l="",n=Ru,s=Eu,d=zu,p=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(p=t.unstable_transitionCallbacks)),t=lf(e,1,!1,null,null,a,l,n,s,d,p,null),e[Xa]=t.current,Zr(e),new fo(t)},Rn.hydrateRoot=function(e,t,a){if(!u(e))throw Error(o(299));var l=!1,n="",s=Ru,d=Eu,p=zu,v=null,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(s=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(v=a.unstable_transitionCallbacks),a.formState!==void 0&&(D=a.formState)),t=lf(e,1,!0,t,a??null,l,n,s,d,p,v,D),t.context=nf(null),a=t.current,l=ut(),l=as(l),n=na(l),n.callback=null,ia(a,n,l),a=l,t.current.lanes=a,Ml(t,a),Ot(t),e[Xa]=t.current,Zr(e),new Vi(t)},Rn.version="19.1.1",Rn}var _f;function og(){if(_f)return go.exports;_f=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(i){console.error(i)}}return f(),go.exports=rg(),go.exports}var cg=og();function bo(f,i){return i.split(".").reduce((c,o)=>{if(c!=null)return c[o]},f)}function Cf(f,i,c){const o=i.split("."),u=o.pop();if(!u)return;const h=o.reduce((g,y)=>((g[y]===void 0||g[y]===null)&&(g[y]={}),g[y]),f);h[u]=c}function Pt(f,i,c){return Math.max(i,Math.min(c,f))}function wf(f){f.stats.health=Pt(f.stats.health,0,100),f.stats.strength=Pt(f.stats.strength,0,10),f.stats.speed=Pt(f.stats.speed,0,10),f.stats.intelligence=Pt(f.stats.intelligence,0,10),f.traits.bravery=Pt(f.traits.bravery,0,10),f.traits.sociability=Pt(f.traits.sociability,0,10),f.traits.trainability=Pt(f.traits.trainability,0,10),f.traits.fertility=Pt(f.traits.fertility,0,10),f.age=Math.max(0,f.age),f.bonds&&Object.keys(f.bonds).forEach(i=>{const c=f.bonds[i];typeof c=="number"&&(f.bonds[i]=Pt(c,-100,100))})}class ug{seed;constructor(i){this.seed=i??Math.random()*2147483647}next(){return this.seed=(this.seed*9301+49297)%233280,this.seed/233280}nextInt(i,c){return Math.floor(this.next()*(c-i+1))+i}nextFloat(i,c){return this.next()*(c-i)+i}choice(i){if(i.length===0)throw new Error("Cannot choose from empty array");return i[this.nextInt(0,i.length-1)]}weightedChoice(i,c){if(i.length===0)throw new Error("Cannot choose from empty array");const o=c.reduce((h,g)=>h+g,0);let u=this.next()*o;for(let h=0;h<i.length;h++)if(u-=c[h],u<=0)return i[h];return i[i.length-1]}}let E=new ug;function oe(f){return!f._dead&&!f._dispersed}function dg(f){return f.role==="pup"}function Rl(f){return f.age>=1&&f.age<=7}function vo(f){return f.stats.strength+f.stats.speed+f.traits.bravery}function ft(f){return f.wolves.filter(oe)}function Mn(f,i){return ft(f).filter(c=>c.role===i)}function fg(f,i=40){const c=["spring","summer","autumn","winter"],o=Math.floor((f-1)/i)%4;return c[o]}function Ta(f,i){return f.replace(/\{([^}]+)\}/g,(c,o)=>{const u=bo(i,o);return u!==void 0?String(u):c})}function Bt(f=""){const i=Date.now().toString(36),c=Math.random().toString(36).substring(2,7);return`${f}${i}_${c}`}class hg{eventTemplates=[];moonEvents=[];consequenceTemplates=[];multiOutcomeConsequences=[];loadEvents(i){this.eventTemplates=i}loadMoonEvents(i){this.moonEvents=i}loadConsequenceTemplates(i){this.consequenceTemplates=i}loadMultiOutcomeConsequences(i){this.multiOutcomeConsequences=i}getEventsByTag(i){return this.eventTemplates.filter(c=>c.tags?.includes(i)??!1)}evaluateCondition(i,c,o,u){const g=bo({wolf:c,pack:o,target:u},i.field);switch(i.op){case"==":return g===i.value;case"!=":return g!==i.value;case">":return typeof g=="number"&&g>i.value;case">=":return typeof g=="number"&&g>=i.value;case"<":return typeof g=="number"&&g<i.value;case"<=":return typeof g=="number"&&g<=i.value;case"in":return Array.isArray(i.value)&&i.value.includes(g);case"not_in":return Array.isArray(i.value)&&!i.value.includes(g);default:return!1}}evaluateConditionGroup(i,c,o,u){return i.all?i.all.every(h=>"field"in h?this.evaluateCondition(h,c,o,u):this.evaluateConditionGroup(h,c,o,u)):i.any?i.any.some(h=>"field"in h?this.evaluateCondition(h,c,o,u):this.evaluateConditionGroup(h,c,o,u)):i.not?"field"in i.not?!this.evaluateCondition(i.not,c,o,u):!this.evaluateConditionGroup(i.not,c,o,u):!1}findCandidateWolves(i,c){return c.wolves.filter(oe).filter(u=>this.evaluateConditionGroup(i.condition,u,c))}executeAction(i,c,o,u){switch(i.type){case"modify_stat":{const h=i.target==="target"?u:i.target==="wolf"?c:o;if(!h)return;const g=bo(h,i.stat);typeof g=="number"&&(Cf(h,i.stat,g+i.delta),(i.target==="wolf"||i.target==="target")&&wf(h));break}case"set_stat":{const h=i.target==="target"?u:i.target==="wolf"?c:o;if(!h)return;Cf(h,i.stat,i.value),(i.target==="wolf"||i.target==="target")&&wf(h);break}case"spawn_wolf":{const h=i.count??1;for(let g=0;g<h;g++){const y={id:Bt("wolf_"),name:this.generateWolfName(),sex:E.choice(["male","female"]),age:.1,role:"pup",appearance:{furColor:i.wolfTemplate.appearance?.furColor??"brown",pattern:i.wolfTemplate.appearance?.pattern??"solid",eyeColor:i.wolfTemplate.appearance?.eyeColor??"brown",scars:i.wolfTemplate.appearance?.scars??[]},stats:{health:i.wolfTemplate.stats?.health??70,strength:i.wolfTemplate.stats?.strength??2,speed:i.wolfTemplate.stats?.speed??3,intelligence:i.wolfTemplate.stats?.intelligence??3},traits:{bravery:i.wolfTemplate.traits?.bravery??3,sociability:i.wolfTemplate.traits?.sociability??6,trainability:i.wolfTemplate.traits?.trainability??5,fertility:i.wolfTemplate.traits?.fertility??0},xp:0,level:0,bonds:{},...i.wolfTemplate};o.wolves.push(y)}break}case"remove_wolf":{if(i.targetSelector==="wolf")c._dead=!0;else if(i.targetSelector==="lowest_health"){const h=o.wolves.filter(oe).reduce((g,y)=>y.stats.health<g.stats.health?y:g);h&&(h._dead=!0)}else if(i.targetSelector==="all_pups")o.wolves.filter(h=>oe(h)&&h.role==="pup").forEach(h=>h._dead=!0);else if(i.targetSelector==="beta"){const h=o.wolves.find(g=>oe(g)&&g.role==="beta");h&&(h._dead=!0)}else c._dead=!0;break}case"change_role":{const h=i.target==="target"?u:c;h&&(h.role=i.role);break}case"log":{const h={wolf:c,pack:o,target:u},g=Ta(i.text,h);o.logs.push(`Day ${o.day}: ${g}`);break}case"adjust_bond":{if(i.withWolfIdField&&u){const h=u.id;c.bonds||(c.bonds={}),u.bonds||(u.bonds={}),c.bonds[h]=Math.max(-100,Math.min(100,(c.bonds[h]??0)+i.delta)),u.bonds[c.id]=Math.max(-100,Math.min(100,(u.bonds[c.id]??0)+i.delta))}break}case"trigger_story":{const h=o.storyEvents.find(g=>g.id===i.storyId);h&&(h.unlocked=!0);break}case"schedule_consequence":{o.scheduledConsequences||(o.scheduledConsequences=[]);const h={id:Bt("consequence_"),consequenceId:i.consequenceId,triggerDay:o.day+i.daysDelay,eventContext:{wolfId:c.id,targetWolfId:u?.id||void 0,originalEventId:"current_event"},resolved:!1};o.scheduledConsequences.push(h);break}case"adjust_approval":{o.packApproval||(o.packApproval=50),o.packApproval=Math.max(0,Math.min(100,o.packApproval+i.delta));break}case"kill_wolf":{let h=null;const g=o.wolves.filter(y=>!y._dead&&!y._dispersed);switch(i.targetSelector){case"wolf":h=c;break;case"target":h=u||null;break;case"beta":h=g.find(y=>y.role==="beta")||null;break;case"weakest":g.length>0&&(h=g.reduce((x,m)=>m.stats.health<x.stats.health?m:x)||null);break;case"random":default:{const y=g.filter(x=>x.id!==c.id);h=y.length>0?E.choice(y):null;break}}h&&(h._dead=!0);break}case"injure_wolf":{let h=null;const g=o.wolves.filter(y=>!y._dead&&!y._dispersed);switch(i.targetSelector){case"wolf":h=c;break;case"target":h=u||null;break;case"random":default:h=E.choice(g);break}h&&(h.stats.health=Math.max(1,h.stats.health-15),h.injuries||(h.injuries=[]),h.injuries.push({type:i.injury,healingDay:o.day+i.healingDays,description:i.injury.replace("_"," ")}));break}case"change_alpha":{const h=o.wolves.filter(y=>!y._dead&&!y._dispersed&&y.id!==c.id);let g=null;switch(i.newAlphaSelector){case"beta":g=h.find(y=>y.role==="beta")||null;break;case"strongest":h.length>0&&(g=h.reduce((x,m)=>m.stats.strength>x.stats.strength?m:x)||null);break;case"most_approved":g=h.find(y=>y.role==="beta")||h[0]||null;break;default:g=h.find(y=>y.role==="beta")||h[0]||null;break}g&&(c.role="omega",g.role="alpha");break}case"create_rival_pack":{o.territory||(o.territory={biome:"forest",rivalPacks:[],foodRichness:5,herbAbundance:5,dangerLevel:3}),o.territory.rivalPacks||(o.territory.rivalPacks=[]);const h={id:Bt("rival_"),name:i.packName,strength:i.strength,lastRaidDay:o.day,aggression:5};o.territory.rivalPacks.push(h);break}case"lose_territory":{o.territory||(o.territory={biome:"forest",rivalPacks:[],foodRichness:5,herbAbundance:5,dangerLevel:3}),o.territory.foodRichness=Math.max(1,o.territory.foodRichness-i.amount);break}case"promote_role":{const h=o.wolves.filter(y=>!y._dead&&!y._dispersed);let g=null;switch(i.targetSelector){case"best_hunter":{const y=h.filter(x=>x.role==="hunter");y.length>0&&(g=y.reduce((x,m)=>m.stats.speed+m.stats.strength>x.stats.speed+x.stats.strength?m:x));break}case"eldest_non_alpha":{const y=h.filter(x=>x.role!=="alpha");y.length>0&&(g=y.reduce((x,m)=>m.age>x.age?m:x));break}case"strongest_non_alpha":{const y=h.filter(x=>x.role!=="alpha");y.length>0&&(g=y.reduce((x,m)=>m.stats.strength>x.stats.strength?m:x));break}case"smartest_non_alpha":{const y=h.filter(x=>x.role!=="alpha");y.length>0&&(g=y.reduce((x,m)=>m.stats.intelligence>x.stats.intelligence?m:x));break}}g&&(g.role=i.newRole);break}}}executeEvent(i,c,o,u){const h={wolf:c,pack:o,target:u},g=Ta(i.text,h);i.actions.forEach(x=>{this.executeAction(x,c,o,u)});const y={eventId:i.id,wolfId:c.id,text:g,day:o.day,actions:i.actions};return u&&(y.targetWolfId=u.id),o.eventHistory.push(y),y}selectRandomEvent(i){if(i.length===0)return null;const c=i.map(o=>o.weight??1);return E.weightedChoice(i,c)}runDailyEvents(i,c=3){const o=[];for(let u=0;u<c;u++){const h=this.eventTemplates.filter(Y=>this.findCandidateWolves(Y,i).length>0||Y.allowFallback),g=this.selectRandomEvent(h);if(!g)continue;let y=this.findCandidateWolves(g,i);if(y.length===0&&g.allowFallback&&(y=i.wolves.filter(oe)),y.length===0)continue;const x=E.choice(y);let m;if(g.actions.some(Y=>Y.type==="adjust_bond"||Y.type==="modify_stat"&&Y.target==="target")){const Y=i.wolves.filter(X=>oe(X)&&X.id!==x.id);Y.length>0&&(m=E.choice(Y))}const T=this.executeEvent(g,x,i,m);o.push(T)}return o}checkForMoonEvent(i){if(i.lastMoonEventDay||(i.lastMoonEventDay=0),i.day-i.lastMoonEventDay<30)return null;const o=i.wolves.filter(C=>!C._dead&&!C._dispersed),u={alpha:o.filter(C=>C.role==="alpha").length,beta:o.filter(C=>C.role==="beta").length},h=this.moonEvents.filter(C=>{if(C.id==="betrayal_discovery"&&u.beta===0)return!1;const T={id:C.id,text:C.text,condition:C.condition,actions:[],title:C.title,weight:C.weight,tags:C.tags,allowFallback:C.allowFallback};return this.findCandidateWolves(T,i).length>0});if(h.length===0)return null;const g=i.season,y=h.map(C=>({event:C,weight:(C.weight||1)*(C.seasonalBonus?.[g]||1)})),x=y.reduce((C,{weight:T})=>C+T,0);let m=E.next()*x;for(const{event:C,weight:T}of y)if(m-=T,m<=0)return C;return null}createDecisionEvent(i,c,o,u){o.pendingDecisions||(o.pendingDecisions=[]);const h={...i,id:Bt("decision_"),text:Ta(i.text,{wolf:c,pack:o,target:u}),choices:i.choices.map(g=>({...g,text:Ta(g.text,{wolf:c,pack:o,target:u}),description:g.description?Ta(g.description,{wolf:c,pack:o,target:u}):void 0}))};h.wolfId=c.id,u?.id&&(h.targetWolfId=u.id),o.pendingDecisions.push(h)}createSuccessionEvent(i){const c=this.moonEvents.find(h=>h.id==="beta_succession");if(!c)return null;const o=i.wolves.find(h=>!h._dead&&!h._dispersed&&h.role==="alpha");if(!o)return null;const u={...c,id:Bt("decision_"),text:Ta(c.text,{wolf:o,pack:i,target:void 0}),choices:c.choices.map(h=>({...h,text:Ta(h.text,{wolf:o,pack:i,target:void 0}),description:h.description?Ta(h.description,{wolf:o,pack:i,target:void 0}):void 0}))};return u.wolfId=o.id,u.createdDay=i.day,u}resolveDecision(i,c,o,u=!0){if(!i.pendingDecisions)return null;const h=i.pendingDecisions.findIndex(T=>T.id===c);if(h===-1)return null;const g=i.pendingDecisions[h];if(!g)return null;const y=g.choices.find(T=>T.id===o);if(!y)return null;const x=i.wolves.find(T=>T.id===g.wolfId),m=g.targetWolfId?i.wolves.find(T=>T.id===g.targetWolfId):void 0;if(!x)return null;y.actions.forEach(T=>{this.executeAction(T,x,i,m)});const C={eventId:g.id,wolfId:x.id,targetWolfId:m?.id||void 0,text:y.text,day:i.day,actions:y.actions,choiceId:y.id,choiceText:y.text,isPlayerChoice:u};return i.decisionHistory||(i.decisionHistory=[]),i.decisionHistory.push(C),i.pendingDecisions.splice(h,1),C}processScheduledConsequences(i){if(!i.scheduledConsequences)return[];const c=[],o=i.scheduledConsequences.filter(u=>!u.resolved&&u.triggerDay<=i.day);for(const u of o){const h=this.multiOutcomeConsequences.find(T=>T.id===u.consequenceId);if(h){const T=this.selectConsequenceOutcome(h,i,u);if(T){const Y=i.wolves.find(ee=>ee.id===u.eventContext.wolfId),X=u.eventContext.targetWolfId?i.wolves.find(ee=>ee.id===u.eventContext.targetWolfId):void 0;if(Y){const ee={id:T.id,title:T.title,text:T.text,condition:{all:[]},actions:T.actions,tags:T.tags},Z=this.executeEvent(ee,Y,i,X);c.push(Z)}}u.resolved=!0;continue}const g=this.consequenceTemplates.find(T=>T.id===u.consequenceId);if(!g){u.resolved=!0;continue}const y=i.wolves.find(T=>T.id===u.eventContext.wolfId),x=u.eventContext.targetWolfId?i.wolves.find(T=>T.id===u.eventContext.targetWolfId):void 0;if(!y){u.resolved=!0;continue}if(g.condition&&!this.evaluateConditionGroup(g.condition,y,i,x)){u.resolved=!0;continue}const m={id:g.id,title:g.title,text:g.text,condition:g.condition||{all:[]},actions:g.actions,tags:g.tags},C=this.executeEvent(m,y,i,x);c.push(C),u.resolved=!0}return i.scheduledConsequences=i.scheduledConsequences.filter(u=>!u.resolved||u.triggerDay>i.day-30),c}selectConsequenceOutcome(i,c,o){const u=c.wolves.find(m=>m.id===o.eventContext.wolfId),h=o.eventContext.targetWolfId?c.wolves.find(m=>m.id===o.eventContext.targetWolfId):void 0;if(!u)return null;const g=i.outcomes.map(m=>{let C=m.probability||.5;return m.condition&&(this.evaluateConditionGroup(m.condition,u,c,h)?C=C*1.5:C=0),{outcome:m,weight:C}}).filter(m=>m.weight>0);if(g.length===0)return i.outcomes.find(C=>C.id===i.defaultOutcomeId)||i.outcomes[0]||null;const y=g.reduce((m,C)=>m+C.weight,0);let x=E.next()*y;for(const{outcome:m,weight:C}of g)if(x-=C,x<=0)return m;return g[0]?.outcome||null}autoResolveTimedOutDecisions(i){if(!i.pendingDecisions)return[];const c=[],o=i.pendingDecisions.filter(u=>i.day-(u.createdDay||0)>=(u.timeoutDays||7));for(const u of o){let h=u.defaultChoiceId;if(!h){const y=u.choices.map(m=>m.weight||1);h=E.weightedChoice(u.choices,y).id}const g=this.resolveDecision(i,u.id,h,!1);g&&c.push(g)}return c}generateWolfName(){const i=["Ash","Ember","Stone","Bram","Ivy","Rook","Lark","Moss","Storm","River","Sage","Flint","Dawn","Shadow","Frost","Thorn","Cedar","Willow","Rowan","Hazel","Sage","Jasper","Onyx","Ruby"];return E.choice(i)}}const jt=new hg;class pg{BASE_COLOR_GENETICS={black:{dominant:!0,code:"BB"},dark_brown:{dominant:!0,code:"Bb"},brown:{dominant:!1,code:"bb"},gray:{dominant:!0,code:"GG"},light_gray:{dominant:!1,code:"Gg"},white:{dominant:!1,code:"ww"},red:{dominant:!1,code:"rr"},cream:{dominant:!1,code:"cc"},silver:{dominant:!1,code:"ss"},tawny:{dominant:!1,code:"tt"}};PATTERN_GENETICS={solid:{weight:40,genes:["S","S"]},agouti:{weight:25,genes:["A","a"]},brindle:{weight:15,genes:["B","b"]},merle:{weight:8,genes:["M","m"]},patched:{weight:12,genes:["P","p"]}};EYE_COLOR_GENETICS={amber:{weight:30,common:!0},brown:{weight:25,common:!0},yellow:{weight:20,common:!0},gold:{weight:15,common:!0},green:{weight:5,rare:!0},blue:{weight:3,rare:!0,special:"merle_linked"},hazel:{weight:2,rare:!0}};FUR_CHARACTERISTICS={length:["short","medium","long"],texture:["smooth","coarse","fluffy"],bodySize:["small","medium","large"],earShape:["pointed","rounded","large"],tailType:["thick","bushy","thin","plume"]};COLOR_COMBINATIONS={black:{markings:["white","gray","silver"],noseColors:["black","dark_gray"],pawPadColors:["black","dark_gray"]},brown:{markings:["cream","white","tan"],noseColors:["brown","black"],pawPadColors:["brown","black"]},gray:{markings:["white","cream","black"],noseColors:["black","gray"],pawPadColors:["black","gray"]},white:{markings:["gray","cream","black"],noseColors:["pink","black"],pawPadColors:["pink","black"]},red:{markings:["white","cream","black"],noseColors:["black","brown"],pawPadColors:["black","brown"]}};constructor(){}setConfig(){}generateRandomAppearance(){const i=this.selectWeightedColor(),c=this.selectWeightedPattern(),o=this.selectEyeColor(c),u=this.COLOR_COMBINATIONS[i]||this.COLOR_COMBINATIONS.brown;return{furColor:i,pattern:c,eyeColor:o,scars:this.generateScars(),baseColor:i,markingColor:E.choice(u.markings),markingType:this.getMarkingType(c),noseColor:E.choice(u.noseColors),pawPadColor:E.choice(u.pawPadColors),furLength:E.choice(this.FUR_CHARACTERISTICS.length),furTexture:E.choice(this.FUR_CHARACTERISTICS.texture),bodySize:E.choice(this.FUR_CHARACTERISTICS.bodySize),earShape:E.choice(this.FUR_CHARACTERISTICS.earShape),tailType:E.choice(this.FUR_CHARACTERISTICS.tailType)}}selectWeightedColor(){const i=Object.keys(this.BASE_COLOR_GENETICS),c=[20,18,15,12,10,8,7,5,3,2];return this.weightedRandom(i,c)}selectWeightedPattern(){const i=Object.keys(this.PATTERN_GENETICS),c=Object.values(this.PATTERN_GENETICS).map(o=>o.weight);return this.weightedRandom(i,c)}selectEyeColor(i){const c=Object.keys(this.EYE_COLOR_GENETICS),o=Object.values(this.EYE_COLOR_GENETICS).map(u=>u.weight);if(i==="merle"){const u=c.indexOf("blue");u>=0&&o[u]!==void 0&&(o[u]*=8)}return this.weightedRandom(c,o)}getMarkingType(i){return{solid:"none",agouti:"ticked",brindle:"striped",merle:"mottled",patched:"spotted"}[i]||"none"}generateScars(){const i=[];if(E.next()<.25){const o=["ear notch","facial scar","leg scar","shoulder mark","chest mark","back stripe","tail tip","paw scar","neck scar","flank mark"],u=E.next()<.7?1:E.nextInt(2,4);for(let h=0;h<u;h++){const g=E.choice(o);i.includes(g)||i.push(g)}}return i}weightedRandom(i,c){const o=c.reduce((h,g)=>h+g,0);let u=E.next()*o;for(let h=0;h<i.length;h++)if(u-=c[h],u<=0)return i[h];return i[i.length-1]}inheritAppearance(i,c){const o=c?.appearance||{furColor:"brown",pattern:"solid",eyeColor:"brown",scars:[]};return this.geneticInheritance(i.appearance,o)}geneticInheritance(i,c){const o=this.inheritTrait(i.baseColor||i.furColor,c.baseColor||c.furColor,.6),u=this.inheritTrait(i.pattern,c.pattern,.7),h=this.inheritEyeColor(i,c),g=this.COLOR_COMBINATIONS[o]||this.COLOR_COMBINATIONS.brown,y={furColor:o,pattern:u,eyeColor:h,scars:[],baseColor:o,markingColor:this.inheritTrait(i.markingColor,c.markingColor,.5,g.markings),markingType:this.getMarkingType(u),noseColor:this.inheritTrait(i.noseColor,c.noseColor,.6,g.noseColors),pawPadColor:this.inheritTrait(i.pawPadColor,c.pawPadColor,.6,g.pawPadColors),furLength:this.inheritPhysicalTrait(i.furLength,c.furLength,this.FUR_CHARACTERISTICS.length),furTexture:this.inheritPhysicalTrait(i.furTexture,c.furTexture,this.FUR_CHARACTERISTICS.texture),bodySize:this.inheritPhysicalTrait(i.bodySize,c.bodySize,this.FUR_CHARACTERISTICS.bodySize),earShape:this.inheritPhysicalTrait(i.earShape,c.earShape,this.FUR_CHARACTERISTICS.earShape),tailType:this.inheritPhysicalTrait(i.tailType,c.tailType,this.FUR_CHARACTERISTICS.tailType)};return E.next()<.05&&(y.eyeColor=this.mutateEyeColor(y.eyeColor)),y}inheritTrait(i,c,o,u){const h=i||"",g=c||"";return!h&&!g?u?E.choice(u):"brown":h?g?E.next()<o?E.choice([h,g]):u?E.choice(u):h:h:g}inheritPhysicalTrait(i,c,o){const u=i||E.choice(o),h=c||E.choice(o);return E.next()<.7?E.choice([u,h]):E.choice(o)}inheritEyeColor(i,c){const o=i.eyeColor,u=c.eyeColor;return(o==="blue"||u==="blue")&&E.next()<.3?"blue":(o==="green"||u==="green")&&E.next()<.2?"green":this.inheritTrait(o,u,.65)}mutateEyeColor(i){const o={brown:["amber","hazel"],amber:["brown","yellow","gold"],yellow:["amber","gold"],gold:["yellow","amber"],green:["hazel","amber"],blue:["green","hazel"],hazel:["brown","green"]}[i]||["amber"];return E.choice(o)}generateBiomeAppearance(i){const o={tundra:{favoredColors:["white","light_gray","silver"],weights:[40,30,20]},desert:{favoredColors:["tawny","red","cream"],weights:[35,25,20]},forest:{favoredColors:["brown","dark_brown","black"],weights:[30,25,20]},mountain:{favoredColors:["gray","black","brown"],weights:[30,25,20]}}[i];let u;o&&E.next()<.6?u=this.weightedRandom(o.favoredColors,o.weights):u=this.selectWeightedColor();const h=this.generateRandomAppearance();return h.furColor=u,h.baseColor=u,h}}const Pi=new pg;class Df{config;constructor(i){this.config=i}getRelationship(i,c){return i.relationships||(i.relationships={}),i.relationships[c.id]||(i.relationships[c.id]={stage:"strangers",daysMet:0,daysSinceStageChange:0,bond:0}),i.relationships[c.id]}setRelationship(i,c,o){i.relationships||(i.relationships={}),c.relationships||(c.relationships={}),i.relationships[c.id]=o,c.relationships[i.id]={...o}}canProgressToStage(i,c){const o=this.getStageIndex(i.stage);if(this.getStageIndex(c)!==o+1)return!1;if(c==="strangers")return!0;const h=this.config.relationshipSystem.stageRequirements[c];return h?i.daysSinceStageChange>=h.minDays&&i.bond>=h.minBond:!1}getStageIndex(i){return["strangers","acquainted","friends","attracted","courting","mates"].indexOf(i)}progressRelationship(i,c,o){const u=this.getRelationship(i,c),h=this.getNextStage(u.stage);return!h||!this.canProgressToStage(u,h)?!1:(u.stage=h,u.daysSinceStageChange=0,this.setRelationship(i,c,u),(h==="friends"||h==="attracted"||h==="mates")&&o.logs.push(`Day ${o.day}: ${i.name} and ${c.name} have become ${h}.`),h==="mates"&&this.formPairFromRelationship(i,c,o),!0)}getNextStage(i){const c=["strangers","acquainted","friends","attracted","courting","mates"],o=c.indexOf(i);return o<c.length-1?c[o+1]:null}processRelationships(i){ft(i).forEach(o=>{o.relationships&&Object.keys(o.relationships).forEach(u=>{const h=i.wolves.find(y=>y.id===u);if(!h||!oe(h)){delete o.relationships[u];return}const g=o.relationships[u];g&&(g.daysMet++,g.daysSinceStageChange++,g.stage!=="mates"&&this.progressRelationship(o,h,i))})})}buildDailyBonds(i){const c=ft(i);for(let o=0;o<Math.min(5,c.length)&&!(c.length<2);o++){const u=E.choice(c),h=E.choice(c.filter(C=>C.id!==u.id));if(!u||!h||u.role==="pup"!=(h.role==="pup"))continue;const g=this.getRelationship(u,h),y=this.calculateCompatibility(u,h),m=Math.max(.5,y.total/30)*this.config.matingSystem.relationshipProgressionRate;g.bond=Math.min(100,g.bond+m),this.setRelationship(u,h,g),E.next()<.1&&i.logs.push(`Day ${i.day}: ${u.name} and ${h.name} spent time together.`)}}calculateCompatibility(i,c){const o={ageDifference:this.calculateAgeFactor(i,c),traitCompatibility:this.calculateTraitCompatibility(i,c),existingBond:this.calculateBondFactor(i,c),roleCompatibility:this.calculateRoleCompatibility(i,c),familyRelation:this.calculateFamilyFactor(i,c)};return{total:Object.values(o).reduce((h,g)=>h+g,0),factors:o}}calculateAgeFactor(i,c){const o=Math.abs(i.age-c.age);return o>3?-20:o>1.5?-10:10}calculateTraitCompatibility(i,c){const o=["bravery","sociability","trainability"];let u=0;return o.forEach(h=>{const g=Math.abs(i.traits[h]-c.traits[h]);g<=2?u+=10:g<=4?u+=5:u-=5}),u}calculateBondFactor(i,c){const o=i.bonds?.[c.id]||0;return o>50?20:o>20?10:o<-20?-30:0}calculateRoleCompatibility(i,c){return i.role==="alpha"||c.role==="alpha"?10:i.role===c.role||i.role==="beta"||c.role==="beta"?5:0}calculateFamilyFactor(i,c){return this.config.matingSystem.inbreedingPrevention&&this.areRelated(i,c)?-100:0}areRelated(i,c){if(!i.familyTree||!c.familyTree)return!1;const o=i.familyTree.parentIds,u=c.familyTree.parentIds;return!!(o.some(h=>u.includes(h))||i.familyTree.offspringIds.includes(c.id)||c.familyTree.offspringIds.includes(i.id))}canFormPair(i,c,o){return!oe(i)||!oe(c)||i.sex!=="male"||c.sex!=="female"||!Rl(i)||!Rl(c)||this.isInPair(i,o)||this.isInPair(c,o)||this.calculateCompatibility(i,c).total<0?!1:this.config.matingSystem.alphaApprovalRequired?this.hasAlphaApproval(i,c,o):!0}isInPair(i,c){return c.matingPairs.some(o=>o.maleId===i.id||o.femaleId===i.id)}hasAlphaApproval(i,c,o){if(i.role==="alpha"||c.role==="alpha")return!0;const u=ft(o).filter(g=>g.role==="alpha");return u.length===0?!0:u.reduce((g,y)=>{const x=y.bonds?.[i.id]||0,m=y.bonds?.[c.id]||0;return g+(x+m)/2},0)/u.length>-20}formPairFromRelationship(i,c,o){const u=i.sex==="male"?i:c,h=i.sex==="female"?i:c;if(u.sex===h.sex||!this.canFormPair(u,h,o))return null;const g=this.getRelationship(i,c),y=Math.min(100,g.bond),x={id:Bt("pair_"),maleId:u.id,femaleId:h.id,bondedDay:o.day,bondStrength:y,courtshipEvents:[]};return u.mateId=h.id,h.mateId=u.id,u.bonds||(u.bonds={}),h.bonds||(h.bonds={}),u.bonds[h.id]=g.bond,h.bonds[u.id]=g.bond,o.matingPairs.push(x),x}formPair(i,c,o){const u=this.getRelationship(i,c);return u.stage="mates",u.bond=80,u.daysSinceStageChange=0,this.setRelationship(i,c,u),this.formPairFromRelationship(i,c,o)}processCourtship(i){if(!this.isSpring(i.season)||i.day%7!==0)return;ft(i).forEach(o=>{!o.relationships||this.isInPair(o,i)||Object.keys(o.relationships).forEach(u=>{const h=i.wolves.find(y=>y.id===u);if(!h||!oe(h)||this.isInPair(h,i))return;const g=o.relationships[u];g&&g.stage==="attracted"&&o.sex!==h.sex&&Rl(o)&&Rl(h)&&this.attemptCourtship(o,h,i)})})}attemptCourtship(i,c,o){const u=this.getRelationship(i,c);if(u.stage!=="attracted")return;const h=this.calculateCompatibility(i,c),g=Math.max(.15,Math.min(.4,(h.total+30)/100));E.next()<g?(u.stage="courting",u.daysSinceStageChange=0,u.bond=Math.min(100,u.bond+10),this.setRelationship(i,c,u),o.logs.push(`Day ${o.day}: ${i.name} and ${c.name} begin courting.`)):(u.bond=Math.max(30,u.bond-5),this.setRelationship(i,c,u),E.next()<.3&&o.logs.push(`Day ${o.day}: ${i.name} attempted to court ${c.name}, but was gently declined.`))}processPairBonds(i){i.matingPairs.forEach(c=>{const o=i.wolves.find(y=>y.id===c.maleId),u=i.wolves.find(y=>y.id===c.femaleId);if(!o||!u||!oe(o)||!oe(u)){this.dissolvePair(c,i,"death");return}const h=this.getSeasonalBondDecay(i.season);if(c.bondStrength=Math.max(0,c.bondStrength-h),c.bondStrength<20){this.dissolvePair(c,i,"weakened bond");return}const g=i.day-c.bondedDay;g>40&&g%10===0&&(c.bondStrength=Math.min(100,c.bondStrength+2))}),i.matingPairs=i.matingPairs.filter(c=>i.wolves.some(o=>o.id===c.maleId)&&i.wolves.some(o=>o.id===c.femaleId))}getSeasonalBondDecay(i){const c=this.config.matingSystem.bondDecayRate;let o=1;return i==="spring"?o=.5:i==="summer"?o=this.config.seasonalModifiers[i]?.bondDecay||1:i==="autumn"?o=this.config.seasonalModifiers[i]?.bondDecay||1:i==="winter"&&(o=this.config.seasonalModifiers[i]?.bondDecay||1),c*o}dissolvePair(i,c,o){const u=c.wolves.find(y=>y.id===i.maleId),h=c.wolves.find(y=>y.id===i.femaleId);u&&(u.mateId=null),h&&(h.mateId=null),o!=="death"&&u&&h&&c.logs.push(`Day ${c.day}: ${u.name} and ${h.name} are no longer mates (${o}).`);const g=c.matingPairs.findIndex(y=>y.id===i.id);g>=0&&c.matingPairs.splice(g,1)}isSpring(i){return i==="spring"}getMatingPair(i,c){return c.matingPairs.find(o=>o.maleId===i.id||o.femaleId===i.id)||null}canBreed(i,c){if(!oe(i)||i.sex!=="female"||!Rl(i)||i.pregnant||this.config.matingSystem.breedingSeasonOnly&&!this.isSpring(c.season))return!1;const o=Math.floor(c.day/(this.config.daysPerSeason*4));if(i.breedingHistory?.lastLitterYear===o)return!1;const u=this.getMatingPair(i,c);return!(!u||u.bondStrength<this.config.matingSystem.minBreedingBond)}}class gg{patrolTemplates=[];config;constructor(i){this.config=i,this.loadDefaultPatrols()}updateConfig(i){this.config=i}loadPatrolTemplates(i){this.patrolTemplates=i}loadDefaultPatrols(){const i=this.config.patrolTemplates.huntingPatrol,c=this.config.patrolTemplates.borderPatrol,o=this.config.patrolTemplates.trainingPatrol,u=this.config.patrolTemplates.herbGathering;this.patrolTemplates=[{id:"hunting_patrol",type:"hunting",title:"Hunting Patrol",description:"Search for prey to feed the pack",baseWeight:10,outcomes:[{outcome:"success",weight:i.successWeight,title:"Successful Hunt",description:"The patrol brought back plenty of prey",rewards:[{type:"food",amount:i.rewards.success.food,description:"Fresh prey for the pack"},{type:"experience",amount:i.rewards.success.xp,description:"Hunting experience gained"}]},{outcome:"major_success",weight:i.majorSuccessWeight,title:"Exceptional Hunt",description:"The patrol found a large herd and brought back abundant prey",rewards:[{type:"food",amount:i.rewards.majorSuccess.food,description:"Abundant prey haul"},{type:"experience",amount:i.rewards.majorSuccess.xp,description:"Exceptional hunting experience"},{type:"reputation",amount:i.rewards.majorSuccess.reputation,description:"Pack reputation improved"}]},{outcome:"failure",weight:i.failureWeight,title:"Poor Hunt",description:"The patrol found little prey",rewards:[{type:"food",amount:i.rewards.failure.food,description:"Meager catch"}]},{outcome:"disaster",weight:i.disasterWeight,title:"Dangerous Encounter",description:"The patrol encountered dangerous prey or predators",consequences:[{type:"injury",severity:"moderate",description:"A patrol member was injured during the hunt"}]}]},{id:"border_patrol",type:"border",title:"Border Patrol",description:"Patrol the territory borders and mark boundaries",baseWeight:8,outcomes:[{outcome:"success",weight:c.successWeight,title:"Secure Borders",description:"The patrol maintained territorial boundaries without incident",rewards:[{type:"reputation",amount:c.rewards.success.reputation,description:"Territory secured"},{type:"experience",amount:c.rewards.success.xp,description:"Patrol experience gained"}]},{outcome:"major_success",weight:c.majorSuccessWeight,title:"Rival Pack Encounter",description:"The patrol encountered wolves from a rival pack",rewards:[{type:"reputation",amount:c.rewards.majorSuccess.reputation,description:"Gained reputation from successful confrontation"},{type:"experience",amount:c.rewards.majorSuccess.xp,description:"Valuable intel and experience gathered"}]},{outcome:"failure",weight:c.failureWeight,title:"Border Intrusion",description:"The patrol found evidence of trespassers",consequences:[{type:"territory_loss",severity:"minor",description:"Small territory area lost to rivals"}]},{outcome:"disaster",weight:c.disasterWeight,title:"Border Conflict",description:"The patrol was attacked by rival wolves",consequences:[{type:"injury",severity:"severe",description:"Patrol members injured in territorial fight"}]}]},{id:"training_patrol",type:"training",title:"Training Patrol",description:"Take apprentices on a training expedition",baseWeight:6,requirements:[{type:"wolf_count",value:2,operator:">="},{type:"role_required",value:["pup"]}],outcomes:[{outcome:"success",weight:o.successWeight,title:"Good Training",description:"The apprentices learned valuable skills",rewards:[{type:"experience",amount:o.rewards.success.xp,description:"Training experience for apprentices"}]},{outcome:"major_success",weight:o.majorSuccessWeight,title:"Exceptional Training",description:"The apprentices excelled in their training",rewards:[{type:"experience",amount:o.rewards.majorSuccess.xp,description:"Exceptional training progress"},{type:"reputation",amount:2,description:"Mentor reputation improved"}]},{outcome:"failure",weight:o.failureWeight,title:"Poor Training",description:"The training session did not go well",rewards:[{type:"experience",amount:5,description:"Minimal learning achieved"}]}]},{id:"herb_gathering_patrol",type:"herb_gathering",title:"Herb Gathering",description:"Search for medicinal herbs and healing plants",baseWeight:5,requirements:[{type:"wolf_count",value:1,operator:">="}],outcomes:[{outcome:"success",weight:u.successWeight,title:"Herbs Found",description:"The patrol discovered useful medicinal plants",rewards:[{type:"herbs",amount:u.rewards.success.herbs,description:"Fresh medicinal herbs collected"},{type:"experience",amount:u.rewards.success.xp,description:"Herb gathering knowledge gained"}]},{outcome:"major_success",weight:u.majorSuccessWeight,title:"Rare Herb Discovery",description:"The patrol found a patch of rare and powerful healing herbs",rewards:[{type:"herbs",amount:u.rewards.majorSuccess.herbs,description:"Rare medicinal herbs discovered"},{type:"experience",amount:u.rewards.majorSuccess.xp,description:"Valuable herb lore learned"},{type:"reputation",amount:3,description:"Pack herbalist reputation improved"}]},{outcome:"failure",weight:u.failureWeight,title:"Few Herbs Found",description:"The patrol searched but found only common plants",rewards:[{type:"herbs",amount:1,description:"Basic herbs gathered"}]},{outcome:"disaster",weight:5,title:"Poisonous Plants",description:"A patrol member accidentally consumed toxic plants",consequences:[{type:"illness",severity:"moderate",description:"A wolf became sick from poisonous plants"}],rewards:[{type:"herbs",amount:1,description:"Some safe herbs were still collected"}]}]}]}canWolfPatrol(i,c){if(!oe(i)||i.age<.5||i.stats.health<30||i.isSick)return!1;const o=Math.floor(c.day/30)*30;return(c.patrolHistory||[]).filter(h=>h.day>=o&&h.participants.includes(i.id)).length<this.config.patrolSystem.maxPatrolsPerWolfPerMonth}getAvailableWolves(i,c){return ft(i).filter(u=>{if(!this.canWolfPatrol(u,i))return!1;switch(c){case"hunting":return u.role==="hunter"||u.role==="beta"||u.role==="alpha";case"border":return u.role!=="pup"&&u.role!=="healer";case"training":return u.role==="beta"||u.role==="hunter"||u.age>=2;case"herb_gathering":return u.role==="healer"||u.role==="beta"||u.role!=="pup"&&u.stats.intelligence>=6;default:return!0}})}getMentorPupPairs(i){const c=ft(i),o=c.filter(g=>(g.role==="beta"||g.role==="hunter")&&g.age>=2&&this.canWolfPatrol(g,i)),u=c.filter(g=>g.role==="pup"&&g.age>=.5&&this.canWolfPatrol(g,i)),h=[];return o.forEach(g=>{const y=u.filter(x=>x.trainingMentorId===g.id||!x.trainingMentorId);y.length>0&&h.push({mentor:g,pups:y.slice(0,2)})}),h}getRequiredPatrols(i){const c=Math.floor(i.day/30)*30,o=(i.patrolHistory||[]).filter(g=>g.day>=c),u=o.filter(g=>g.type==="hunting").length,h=o.filter(g=>g.type==="border").length;return{hunting:Math.max(0,this.config.patrolSystem.minHuntingPatrolsPerMonth-u),border:Math.max(0,this.config.patrolSystem.minBorderPatrolsPerMonth-h)}}createPatrolAssignment(i,c,o){return{id:Bt(),type:i,participants:c.map(u=>u.id),scheduledDay:o.day+E.nextInt(1,3),completed:!1}}createMentorPupPatrol(i,c,o){c.forEach(h=>{h.trainingMentorId||(h.trainingMentorId=i.id)});const u=[i,...c];return this.createPatrolAssignment("training",u,o)}executePatrol(i,c){const o=this.patrolTemplates.find(X=>X.type===i.type);if(!o)throw new Error(`No template found for patrol type: ${i.type}`);const u=i.participants.map(X=>c.wolves.find(ee=>ee.id===X)).filter(X=>X!==void 0&&oe(X));if(u.length===0)throw new Error("No valid participants for patrol");const h=this.config.patrolSystem.baseSuccessRate,g=(c.patrolReputation||50)/100,y=this.calculateParticipantModifier(u,i.type),x=this.getSeasonalModifier(c.season,i.type),m=h*g*y*x,C=this.selectOutcome(o,m),T=o.outcomes.find(X=>X.outcome===C);if(!T)throw new Error(`No outcome template found for: ${C}`);this.applyPatrolEffects(T,u,c);const Y={id:Bt(),type:i.type,participants:i.participants,outcome:C,description:this.generateDescription(T,u),day:c.day,...T.rewards&&{rewards:T.rewards},...T.consequences&&{consequences:T.consequences}};return c.patrolHistory||(c.patrolHistory=[]),c.patrolHistory.push(Y),this.updatePatrolReputation(c,C),Y}calculateParticipantModifier(i,c){let o=1;i.forEach(g=>{switch(o*=g.stats.health/100,c){case"hunting":g.role==="hunter"&&(o*=1.3),(g.role==="alpha"||g.role==="beta")&&(o*=1.1);break;case"border":(g.role==="alpha"||g.role==="beta")&&(o*=1.2),g.role==="hunter"&&(o*=1.1);break;case"training":g.role==="beta"&&(o*=1.3),g.role==="pup"&&(o*=.8);break;case"herb_gathering":g.role==="healer"&&(o*=1.4),g.role==="beta"&&(o*=1.1),o*=.8+g.stats.intelligence/10*.4;break}g.level&&g.level>0&&(o*=1+g.level*.05)});const u=c==="training"?3:c==="herb_gathering"?1:2,h=i.length/u;return h<1?o*=.7+h*.3:h>1.5&&(o*=c==="herb_gathering"?.8:.9),Math.max(.1,Math.min(2,o))}getSeasonalModifier(i,c){const u=this.config.seasonalModifiers[i];switch(c){case"hunting":return u&&"huntSuccess"in u?u.huntSuccess:1;case"border":return i==="autumn"?.9:1;case"training":return i==="winter"?.8:1;case"herb_gathering":return i==="spring"?1.3:i==="summer"?1.2:i==="autumn"?.9:.6;default:return 1}}selectOutcome(i,c){const o=i.outcomes.map(g=>{let y=g.weight;return g.outcome==="success"||g.outcome==="major_success"?y*=c:(g.outcome==="failure"||g.outcome==="disaster")&&(y*=2-c),{...g,adjustedWeight:Math.max(1,y)}}),u=o.reduce((g,y)=>g+y.adjustedWeight,0);let h=E.next()*u;for(const g of o)if(h-=g.adjustedWeight,h<=0)return g.outcome;return"failure"}applyPatrolEffects(i,c,o){i.rewards&&i.rewards.forEach(u=>{switch(u.type){case"food":o.food=(o.food||0)+u.amount;break;case"herbs":o.herbs+=u.amount;break;case"experience":c.forEach(h=>{h.xp=(h.xp||0)+Math.floor(u.amount/c.length)});break;case"reputation":o.patrolReputation=Math.min(100,(o.patrolReputation||50)+u.amount);break}}),i.consequences&&i.consequences.forEach(u=>{const h=u.targetWolfId?c.find(g=>g.id===u.targetWolfId):E.choice(c);if(h)switch(u.type){case"injury":{const g=u.severity==="minor"?10:u.severity==="moderate"?20:35;h.stats.health=Math.max(1,h.stats.health-g);break}case"illness":h.isSick=!0;break}})}updatePatrolReputation(i,c){switch(i.patrolReputation||(i.patrolReputation=50),c){case"major_success":i.patrolReputation=Math.min(100,i.patrolReputation+3);break;case"success":i.patrolReputation=Math.min(100,i.patrolReputation+1);break;case"failure":i.patrolReputation=Math.max(0,i.patrolReputation-1);break;case"disaster":i.patrolReputation=Math.max(0,i.patrolReputation-3);break}}generateDescription(i,c){const o=c.map(h=>h.name).join(", ");return(i.description||"The patrol completed their mission.").replace("{participants}",c.length===1?c[0]?.name||"Unknown":o)}processScheduledPatrols(i){i.assignedPatrols||(i.assignedPatrols=[]);const c=[],o=[];return i.assignedPatrols.forEach(u=>{if(!u.completed&&u.scheduledDay<=i.day)try{const h=this.executePatrol(u,i);c.push(h),u.completed=!0,u.result=h,o.push(u.id)}catch(h){console.warn("Failed to execute patrol:",h),u.completed=!0,o.push(u.id)}}),i.assignedPatrols=i.assignedPatrols.filter(u=>!u.completed||u.scheduledDay>i.day-30),c}}class yg{config;constructor(i){this.config=i}updateConfig(i){this.config=i}resolveCombat(i,c,o={}){const{damageMultiplier:u=this.config.combatSystem.damageMultiplier,highRiskThreshold:h=this.config.combatSystem.highRiskThreshold,highRiskDamageBonus:g=this.config.combatSystem.highRiskDamageBonus}=o,y=i.map(O=>{const U=vo(O),te=E.nextFloat(this.config.combatSystem.rngVarianceRange.min,this.config.combatSystem.rngVarianceRange.max);return U+te}),x=c.map(O=>{const U=vo(O),te=E.nextFloat(this.config.combatSystem.rngVarianceRange.min,this.config.combatSystem.rngVarianceRange.max);return U+te}),m=y.reduce((O,U)=>O+U,0),C=x.reduce((O,U)=>O+U,0),T=Math.abs(m-C),Y=m>C?"attacker":"defender",X=Math.round(T*u),ee=Y==="attacker"?c:i,Z=[],q=[],b=[];return this.applyBattleDamage(ee,X,h,g,Z),Y==="attacker"?b.push(...Z):q.push(...Z),{winner:Y,attackerScore:m,defenderScore:C,scoreDifference:T,loserDamage:X,casualties:Z,attackerCasualties:q,defenderCasualties:b}}applyBattleDamage(i,c,o,u,h){if(i.length===0||c<=0)return;const g=Math.floor(c/i.length);let y=c%i.length;i.forEach(x=>{if(!oe(x))return;let m=g;y>0&&(m+=1,y--),x.stats.health<=o&&(m+=u),x.stats.health-=m,x.stats.health<=this.config.combatSystem.mortalityThreshold&&(x._dead=!0,h.push(x.id))})}resolvePackBattle(i,c,o){const u=i.wolves.filter(C=>oe(C)&&(o?o(C):!0)),h=c.wolves.filter(C=>oe(C)&&(o?o(C):!0)),g=this.resolveCombat(u,h),y=i.name||"Unknown Pack",x=c.name||"Unknown Pack",m=`Day ${c.day}: ${y} attacked! Winner: ${g.winner==="attacker"?y:x}. Casualties: ${g.casualties.length}`;return c.logs.push(m),{winner:g.winner,attackerDamage:g.attackerCasualties.length>0?g.scoreDifference*this.config.combatSystem.winnerDamageMultiplier:0,defenderDamage:g.loserDamage,loserDamage:g.loserDamage,casualties:g.casualties}}resolveDuel(i,c){return this.resolveCombat([i],[c])}simulateRaid(i,c,o="territory"){const u=c.wolves.filter(m=>oe(m)&&["alpha","beta","hunter"].includes(m.role)),h=Math.min(u.length,i.length+this.config.combatSystem.maxDefenderMultiplier),g=u.slice(0,h),y=this.resolveCombat(i,g);let x=0;return y.winner==="attacker"&&o==="resources"&&(x=Math.min(c.herbs,E.nextInt(this.config.combatSystem.resourceTheftRange.min,this.config.combatSystem.resourceTheftRange.max)),c.herbs=Math.max(0,c.herbs-x)),{success:y.winner==="attacker",casualties:y.attackerCasualties,resourcesStolen:x,defenderLosses:y.defenderCasualties}}calculatePackStrength(i){return i.wolves.filter(o=>oe(o)&&["alpha","beta","hunter"].includes(o.role)).reduce((o,u)=>o+vo(u),0)}getCombatModifiers(i,c="defend"){let o=1;switch(i.stats.health<this.config.combatSystem.lowHealthPenaltyThreshold?o*=this.config.combatSystem.lowHealthPenaltyMultiplier:i.stats.health<60&&(o*=.85),i.role){case"alpha":o*=c==="defend"?1.2:1.1;break;case"beta":o*=1.1;break;case"hunter":o*=c==="attack"?1.1:1;break;case"pup":o*=.3;break;case"elder":o*=.8;break}return i.age<1.5?o*=.4:i.age>10&&(o*=.7),o}}class mg{config;dailyTends=new Map;constructor(i){this.config=i}updateConfig(i){this.config=i}canHealerTend(i,c){return!oe(i)||i.role!=="healer"||i.stats.health<=this.config.healerSystem.lowHealthRefusalThreshold||(this.dailyTends.get(i.id)??0)>=this.config.healerSystem.maxTendsPerDay?!1:c.herbs>=this.config.healerSystem.herbsPerTend}getWolvesNeedingHealing(i){return i.wolves.filter(c=>oe(c)&&(c.stats.health<80||c.isSick)).sort((c,o)=>c.stats.health-o.stats.health)}healWolf(i,c,o){if(!this.canHealerTend(i,o))throw new Error("Healer cannot tend right now");const u=Math.min(.99,this.config.healerSystem.baseSuccessRate+i.stats.intelligence*this.config.healerSystem.intelligenceBonus),h=E.next()<u;o.herbs-=this.config.healerSystem.herbsPerTend;const g=this.dailyTends.get(i.id)??0;this.dailyTends.set(i.id,g+1);let y=0,x=0,m=0;h?(y=E.nextInt(this.config.healerSystem.healHpRange.min,this.config.healerSystem.healHpRange.max),c.stats.health=Math.min(100,c.stats.health+y),c.isSick&&(c.isSick=!1),o.logs.push(`Day ${o.day}: ${i.name} successfully healed ${c.name} (+${y} HP).`)):(x=this.config.healerSystem.failureHealerDamage,m=this.config.healerSystem.failurePatientDamage,i.stats.health=Math.max(0,i.stats.health-x),c.stats.health=Math.max(0,c.stats.health-m),o.logs.push(`Day ${o.day}: ${i.name}'s healing of ${c.name} failed. Both wolves were injured.`));const C={healerId:i.id,patientId:c.id,success:h,hpHealed:y,herbsUsed:this.config.healerSystem.herbsPerTend};return x>0&&(C.healerDamage=x),m>0&&(C.patientDamage=m),C}autoHeal(i,c,o){const u=[],h=this.getWolvesNeedingHealing(c),g=o??Math.min(this.config.healerSystem.maxTendsPerDay,Math.floor(c.herbs/this.config.healerSystem.herbsPerTend),h.length);for(let y=0;y<g&&this.canHealerTend(i,c);y++){const x=h[y];if(x&&x.id!==i.id)try{const m=this.healWolf(i,x,c);u.push(m)}catch{break}}return u}processPackHealing(i){const c=Mn(i,"healer"),o=[];return c.forEach(u=>{if(this.canHealerTend(u,i)){const h=this.autoHeal(u,i,2);o.push(...h)}}),o}visitCrystalPool(i,c){return!oe(i)||i.role!=="healer"?null:(c.prophecyPower+=this.config.healerSystem.crystalPoolVisitPower,c.prophecyPower>=this.config.healerSystem.prophecyPowerThreshold?this.generateProphecy(i,c):(c.logs.push(`Day ${c.day}: ${i.name} visited the Crystal Pool and felt its power grow.`),null))}generateProphecy(i,c){const o=[{text:"A wolf of great speed will rise to lead the hunt...",objectives:["speed >= 8"],type:"speed_prophecy"},{text:"The wise one shall guide the pack through dark times...",objectives:["intelligence >= 8"],type:"wisdom_prophecy"},{text:"A warrior's strength will protect the young...",objectives:["strength >= 8"],type:"strength_prophecy"},{text:"The bond between two souls will save the pack...",objectives:["bonds[targetId] >= 80"],type:"bond_prophecy"},{text:"A new generation will bring hope to the territory...",objectives:["pack.wolves.length >= 12"],type:"growth_prophecy"}],u=E.choice(o),h=Bt("prophecy_"),g=c.wolves.filter(C=>oe(C)&&C.age>=1&&C.role!=="elder"),y=g.length>0?E.choice(g):void 0,x={id:h,text:u.text,objectives:[],progress:0,unlocked:!0,completed:!1,storyEvents:[]};y&&(x.targetWolfId=y.id),c.prophecies.push(x),c.prophecyPower=Math.max(0,c.prophecyPower-this.config.healerSystem.prophecyPowerThreshold),c.logs.push(`Day ${c.day}: ${i.name} received a prophecy at the Crystal Pool: "${u.text}"`);const m={prophecyId:h,text:u.text,objectives:u.objectives};return y&&(m.targetWolfId=y.id),m}checkProphecyProgress(i){i.prophecies.forEach(c=>{if(c.completed||!c.unlocked)return;let o=!1;const u=c.targetWolfId?i.wolves.find(h=>h.id===c.targetWolfId):null;u&&oe(u)&&(c.text.includes("speed")&&u.stats.speed>=8||c.text.includes("wise")&&u.stats.intelligence>=8||c.text.includes("strength")&&u.stats.strength>=8)&&(o=!0),c.text.includes("new generation")&&i.wolves.filter(oe).length>=12&&(o=!0),o&&!c.completed&&(c.completed=!0,c.progress=1,i.logs.push(`Day ${i.day}: A prophecy has been fulfilled! The Crystal Pool shimmers with approval.`),this.grantProphecyReward(c,i))})}grantProphecyReward(i,c){if(c.herbs+=3,i.targetWolfId){const o=c.wolves.find(u=>u.id===i.targetWolfId);o&&oe(o)&&(o.stats.health=Math.min(100,o.stats.health+20),o.xp=(o.xp??0)+50)}}resetDailyTends(){this.dailyTends.clear()}getHealerStatus(i,c){const o=this.dailyTends.get(i.id)??0,u=Math.max(0,this.config.healerSystem.maxTendsPerDay-o),h=this.getWolvesNeedingHealing(c);return{canHeal:this.canHealerTend(i,c),remainingTends:u,totalPatients:h.length,prophecyPower:c.prophecyPower,canProphecy:c.prophecyPower>=this.config.healerSystem.prophecyPowerThreshold}}gatherHerbs(i,c){if(!oe(i)||i.role!=="healer")return 0;const o=E.nextInt(1,3)+Math.floor(i.stats.intelligence/3);return c.herbs+=o,c.logs.push(`Day ${c.day}: ${i.name} gathered ${o} herbs.`),o}processSicknessRecovery(i){i.wolves.filter(o=>oe(o)&&o.isSick).forEach(o=>{E.next()<.67?(o.isSick=!1,i.logs.push(`Day ${i.day}: ${o.name} recovered from illness.`)):(o.stats.health=Math.max(1,o.stats.health-5),o.stats.health<=10&&i.logs.push(`Day ${i.day}: ${o.name} is seriously ill and needs immediate attention.`))})}}const xg={daysPerSeason:40,eventsPerDay:{min:2,max:4},gestationDays:14,trainingStartAge:40,trainingDuration:40,maxLifespan:{min:12,max:14},xpToLevel:100,healerHerbsPerTend:1,healHpRange:{min:15,max:25},healerBaseSuccessRate:.9,combatSystem:{damageMultiplier:5,highRiskThreshold:20,highRiskDamageBonus:10,rngVarianceRange:{min:-5,max:5},mortalityThreshold:0,winnerDamageMultiplier:.5,maxDefenderMultiplier:2,resourceTheftRange:{min:1,max:3},lowHealthPenaltyThreshold:30,lowHealthPenaltyMultiplier:.7},healerSystem:{herbsPerTend:1,healHpRange:{min:15,max:25},baseSuccessRate:.9,intelligenceBonus:.01,failureHealerDamage:2,failurePatientDamage:5,maxTendsPerDay:5,prophecyPowerThreshold:5,crystalPoolVisitPower:1,lowHealthRefusalThreshold:20},relationshipSystem:{stageRequirements:{acquainted:{minDays:3,minBond:10},friends:{minDays:7,minBond:30},attracted:{minDays:14,minBond:50},courting:{minDays:7,minBond:70},mates:{minDays:14,minBond:80}},bondDecayInterval:10,bondDecayAmount:1,bondDecayMinimum:-100},patrolTemplates:{huntingPatrol:{successWeight:50,majorSuccessWeight:15,failureWeight:25,disasterWeight:10,rewards:{success:{food:3,xp:10},majorSuccess:{food:6,xp:20,reputation:5},failure:{food:1}}},borderPatrol:{successWeight:60,majorSuccessWeight:20,failureWeight:15,disasterWeight:5,rewards:{success:{reputation:3,xp:8},majorSuccess:{reputation:6,xp:15}}},trainingPatrol:{successWeight:70,majorSuccessWeight:20,failureWeight:8,disasterWeight:2,rewards:{success:{xp:15},majorSuccess:{xp:25}}},herbGathering:{successWeight:55,majorSuccessWeight:25,failureWeight:15,disasterWeight:5,rewards:{success:{herbs:2,xp:5},majorSuccess:{herbs:4,xp:10}}}},matingSystem:{courtshipDuration:14,bondDecayRate:.2,minBreedingBond:80,maxLittersPerYear:1,breedingSeasonOnly:!1,inbreedingPrevention:!0,alphaApprovalRequired:!1,relationshipProgressionRate:.5,seasonalBreedingProbabilities:{spring:.6,summer:.5,autumn:.4,winter:.3}},seasonalModifiers:{spring:{birthWindow:!0,huntSuccess:1,courtshipBonus:1.5},summer:{huntSuccess:1.2,bondDecay:1},autumn:{battleFrequency:1.1,bondDecay:1.2},winter:{huntSuccess:.8,bondDecay:1.5}},patrolSystem:{minHuntingPatrolsPerMonth:2,minBorderPatrolsPerMonth:1,maxPatrolsPerWolfPerMonth:3,patrolCooldownDays:3,baseSuccessRate:.7,reputationImpact:.3},decisionSystem:{moonEventFrequencyDays:30,decisionTimeoutDays:7,approvalDecayRate:.1,maxPendingDecisions:3,consequenceDelayRange:{min:7,max:30}}};class vg{config;matingSystem;patrolEngine;combatEngine;healerEngine;constructor(i=xg){this.config=i,this.matingSystem=new Df(i),this.patrolEngine=new gg(i),this.combatEngine=new yg(i),this.healerEngine=new mg(i),Pi.setConfig()}updateConfig(i){this.config={...this.config,...i},this.matingSystem=new Df(this.config),this.patrolEngine.updateConfig(this.config),this.combatEngine.updateConfig(this.config),Pi.setConfig(),this.healerEngine.updateConfig(this.config)}simulateDay(i){i.day+=1,i.season=fg(i.day,this.config.daysPerSeason),this.processAging(i),this.processMatingSystem(i),this.processPregnancies(i),this.processTraining(i),this.decayBonds(i),this.processNaturalHealing(i),this.processPatrols(i),this.processDecisionSystem(i);const c=E.nextInt(this.config.eventsPerDay.min,this.config.eventsPerDay.max),o=jt.runDailyEvents(i,c);return this.cleanupDeadWolves(i),o}processAging(i){ft(i).forEach(o=>{if(o.age+=1/365,o.maxLifespan||(o.maxLifespan=E.nextFloat(this.config.maxLifespan.min,this.config.maxLifespan.max)),o.age>10){const u=Math.min(.1,(o.age-10)*.02);E.next()<u&&(o._dead=!0,i.logs.push(`Day ${i.day}: ${o.name} died of old age.`))}o.age>=1.5&&o.role==="pup"&&(o.role="omega",i.logs.push(`Day ${i.day}: ${o.name} has reached adulthood.`)),o.age>=10&&o.role!=="elder"&&o.role!=="alpha"&&(o.role="elder",i.logs.push(`Day ${i.day}: ${o.name} has become an elder.`))})}processMatingSystem(i){this.matingSystem.processRelationships(i),this.matingSystem.buildDailyBonds(i),this.matingSystem.processPairBonds(i),this.matingSystem.processCourtship(i)}processPregnancies(i){i.wolves.filter(o=>oe(o)&&o.pregnant&&o.pregnancyDay!==void 0).forEach(o=>{i.day-(o.pregnancyDay??0)>=this.config.gestationDays&&(this.giveBirth(o,i),o.pregnant=!1,delete o.pregnancyDay)}),this.processBreeding(i)}giveBirth(i,c){const o=[1,2,3,4],u=[20,50,20,10],h=E.weightedChoice(o,u),g=i.mateId?c.wolves.find(m=>m.id===i.mateId)??null:null,y=[];for(let m=0;m<h;m++){const C=this.createPup(i,g,c);c.wolves.push(C),y.push(C.id)}const x=Math.floor(c.day/(this.config.daysPerSeason*4));i.breedingHistory||(i.breedingHistory={totalLitters:0}),i.breedingHistory.lastLitterYear=x,i.breedingHistory.totalLitters+=1,i.breedingHistory.litterId=(i.breedingHistory.litterId||[]).concat(y),y.forEach(m=>{const C=c.wolves.find(T=>T.id===m);C&&C.familyTree&&(C.familyTree.siblingIds=y.filter(T=>T!==m))}),c.logs.push(`Day ${c.day}: ${i.name} gave birth to ${h} pups!`)}createPup(i,c,o){const u=(m,C)=>{const T=c?(m+C)/2:m,Y=E.nextFloat(-1,1);return Math.max(0,Math.min(10,T+Y))},h=c?.stats??i.stats,g=c?.traits??i.traits,y=`pup_${Date.now()}_${Math.random().toString(36).substring(2,7)}`,x=[i.id];return c&&x.push(c.id),i.familyTree||(i.familyTree={parentIds:[],siblingIds:[],offspringIds:[]}),i.familyTree.offspringIds.push(y),c&&(c.familyTree||(c.familyTree={parentIds:[],siblingIds:[],offspringIds:[]}),c.familyTree.offspringIds.push(y)),{id:y,name:this.generatePupName(),sex:E.choice(["male","female"]),age:0,role:"pup",appearance:Pi.inheritAppearance(i,c||void 0),stats:{health:Math.max(50,Math.min(80,(i.stats.health+h.health)/2)),strength:u(i.stats.strength,h.strength),speed:u(i.stats.speed,h.speed),intelligence:u(i.stats.intelligence,h.intelligence)},traits:{bravery:u(i.traits.bravery,g.bravery),sociability:u(i.traits.sociability,g.sociability),trainability:u(i.traits.trainability,g.trainability),fertility:0},xp:0,level:0,bonds:{},breedingHistory:{totalLitters:0},familyTree:{parentIds:x,siblingIds:[],offspringIds:[]}}}processBreeding(i){i.matingPairs.forEach(c=>{const o=i.wolves.find(m=>m.id===c.femaleId),u=i.wolves.find(m=>m.id===c.maleId);if(!o||!u||!oe(o)||!oe(u)||!this.matingSystem.canBreed(o,i))return;const h=c.bondStrength/100,g=(o.traits.fertility+u.traits.fertility)/20,x=this.config.matingSystem.seasonalBreedingProbabilities[i.season]*h*g;if(E.next()<x){o.pregnant=!0,o.pregnancyDay=i.day;const m=Math.floor(i.day/(this.config.daysPerSeason*4));c.lastBreedingSeason=m,i.logs.push(`Day ${i.day}: ${o.name} has become pregnant.`)}})}processTraining(i){i.wolves.filter(o=>oe(o)&&dg(o)&&o.age>=this.config.trainingStartAge/365).forEach(o=>{if(!o.isTraining&&!o.trainingStartDay){o.isTraining=!0,o.trainingStartDay=i.day;const u=i.wolves.filter(h=>oe(h)&&(h.role==="beta"||h.role==="hunter")&&h.id!==o.id);u.length>0&&(o.trainingMentorId=E.choice(u).id),i.logs.push(`Day ${i.day}: ${o.name} has started training.`)}o.isTraining&&o.trainingStartDay&&(i.day-o.trainingStartDay>=this.config.trainingDuration?this.completeTraining(o,i):this.grantTrainingXP(o,i))})}completeTraining(i,c){i.isTraining=!1;const o=i.trainingMentorId?c.wolves.find(g=>g.id===i.trainingMentorId):null,u=o?Math.floor((o.traits.trainability+o.stats.intelligence)/6):0,h=E.nextInt(20,40)+u;i.xp=(i.xp??0)+h,c.logs.push(`Day ${c.day}: ${i.name} completed training and gained ${h} XP!`),this.checkLevelUp(i)}grantTrainingXP(i,c){if((c.day-(i.trainingStartDay??0))%7===0){const u=i.trainingMentorId?c.wolves.find(y=>y.id===i.trainingMentorId)??null:null,h=u?Math.floor((u.traits.trainability+u.stats.intelligence)/6):0,g=E.nextInt(5,15)+h;i.xp=(i.xp??0)+g,this.checkLevelUp(i)}}checkLevelUp(i){if((i.xp??0)>=this.config.xpToLevel){i.xp=(i.xp??0)-this.config.xpToLevel,i.level=(i.level??0)+1;const c=["strength","speed","intelligence"],o=E.choice(c);i.stats[o]=Math.min(10,i.stats[o]+1)}}decayBonds(i){i.day%this.config.relationshipSystem.bondDecayInterval===0&&i.wolves.forEach(c=>{c.bonds&&Object.keys(c.bonds).forEach(o=>{const u=c.bonds[o];typeof u=="number"&&(c.bonds[o]=Math.max(this.config.relationshipSystem.bondDecayMinimum,u-this.config.relationshipSystem.bondDecayAmount))})})}processNaturalHealing(i){ft(i).forEach(o=>{o.stats.health<100&&!o.isSick&&i.day%5===0&&(o.stats.health=Math.min(100,o.stats.health+1))})}cleanupDeadWolves(i){i.wolves.filter(o=>o._dead).forEach(o=>{o.role==="alpha"?this.handleAlphaDeath(i,o):o.role==="beta"&&this.handleBetaDeath(i,o)}),i.wolves=i.wolves.filter(o=>!o._dead)}handleAlphaDeath(i,c){i.logs.push(`Day ${i.day}: Alpha ${c.name} has died. The pack mourns their leader.`);const o=ft(i).find(u=>u.role==="beta");o?(o.role="alpha",i.logs.push(`Day ${i.day}: Beta ${o.name} has become the new alpha.`),this.triggerBetaSuccessionEvent(i)):i.logs.push(`Day ${i.day}: With no beta to succeed, the pack faces a leadership crisis!`)}handleBetaDeath(i,c){i.logs.push(`Day ${i.day}: Beta ${c.name} has died.`),ft(i).find(u=>u.role==="alpha")&&this.triggerBetaSuccessionEvent(i)}triggerBetaSuccessionEvent(i){if(!i.pendingDecisions?.some(o=>o.id==="beta_succession")&&i.pendingDecisions&&i.pendingDecisions.length<3){const o=jt.createSuccessionEvent(i);o&&(i.pendingDecisions.push(o),i.logs.push(`Day ${i.day}: The alpha must choose a new beta for the pack.`))}}generatePupName(){const i=["Spark","Dash","Pip","Fern","Cliff","Vale","Brook","Wren","Fox","Bear","Jay","Sage","Reed","Dusk","Dawn","Cloud"];return E.choice(i)}getPackStats(i){const c=ft(i),o=Mn(i,"alpha"),u=Mn(i,"healer"),h=Mn(i,"pup");return{totalWolves:c.length,alphas:o.length,healers:u.length,pups:h.length,averageHealth:c.reduce((g,y)=>g+y.stats.health,0)/c.length,season:i.season,day:i.day}}processPatrols(i){i.assignedPatrols||(i.assignedPatrols=[]),i.patrolHistory||(i.patrolHistory=[]),i.patrolReputation===void 0&&(i.patrolReputation=50),i.food===void 0&&(i.food=5),this.patrolEngine.processScheduledPatrols(i).forEach(o=>{i.logs.push(`Day ${i.day}: Patrol returned - ${o.description}`)})}processDecisionSystem(i){i.pendingDecisions||(i.pendingDecisions=[]),i.decisionHistory||(i.decisionHistory=[]),i.scheduledConsequences||(i.scheduledConsequences=[]),i.packApproval===void 0&&(i.packApproval=50),i.lastMoonEventDay||(i.lastMoonEventDay=0),jt.processScheduledConsequences(i).forEach(h=>{i.logs.push(`Day ${i.day}: ${h.text}`)}),jt.autoResolveTimedOutDecisions(i).forEach(h=>{i.logs.push(`Day ${i.day}: Auto-resolved - ${h.text}`)});const u=jt.checkForMoonEvent(i);if(u&&i.pendingDecisions.length<this.config.decisionSystem.maxPendingDecisions){const h={id:u.id,text:u.text,condition:u.condition,actions:[],title:u.title,weight:u.weight,tags:u.tags,allowFallback:u.allowFallback},g=jt.findCandidateWolves(h,i);if(g.length>0){const y=E.choice(g);let x;if(u.choices.some(C=>C.actions.some(T=>T.type==="adjust_bond"||T.type==="modify_stat"&&T.target==="target"))){const C=i.wolves.filter(T=>oe(T)&&T.id!==y.id);C.length>0&&(x=E.choice(C))}jt.createDecisionEvent(u,y,i,x),i.lastMoonEventDay=i.day,i.logs.push(`Day ${i.day}: A moon event has occurred - ${u.title||"A decision awaits"}!`)}}i.packApproval<50&&(i.packApproval=Math.max(0,i.packApproval-this.config.decisionSystem.approvalDecayRate))}getPatrolEngine(){return this.patrolEngine}getCombatEngine(){return this.combatEngine}getHealerEngine(){return this.healerEngine}simulateMultipleDays(i,c){const o=[];for(let u=0;u<c;u++){const h=this.simulateDay(i);o.push(...h)}return o}}const zn=new vg,bg={minPackSize:7,maxPackSize:10,guaranteedRoles:["alpha","beta","healer"],ageDistribution:{min:.5,max:8,pupsPercent:.2,adultsPercent:.7,eldersPercent:.1}};class Sg{config;BIOME_NAME_POOLS={forest:{nature:["Oak","Pine","Cedar","Willow","Birch","Maple","Elm","Fern","Moss","Ivy","Bramble","Sage","Grove","Shade","Thorn","Brook","Stream","Glade","Hollow","Branch","Leaf","Root","Bark","Timber"],weather:["Mist","Dew","Rain","Fog","Drizzle","Storm"],features:["Ridge","Vale","Glen","Trail","Path","Clearing"]},mountain:{nature:["Stone","Rock","Granite","Slate","Cliff","Peak","Summit","Ridge","Boulder","Crag","Ledge","Scree","Alpine","Glacier","Avalanche"],weather:["Wind","Storm","Thunder","Lightning","Blizzard","Frost","Snow"],features:["Canyon","Gorge","Pass","Vista","Echo","Chasm"]},plains:{nature:["Grass","Prairie","Meadow","Field","Wheat","Barley","Rye","Oat","Clover","Heather","Sage","Horizon","Distant","Endless","Open"],weather:["Wind","Breeze","Gust","Calm","Clear","Sunny","Bright"],features:["Hill","Knoll","Mound","Rolling","Wide","Vast"]},tundra:{nature:["Snow","Ice","Frost","Winter","Polar","Arctic","Frozen","Crystal","Lichen","Permafrost","Tundra","North","Boreal","Frigid"],weather:["Blizzard","Gale","Chill","Bitter","Harsh","Cold"],features:["Waste","Expanse","Plateau","Barren","Stark","White"]},desert:{nature:["Sand","Dune","Oasis","Cactus","Sage","Mesa","Butte","Sandstone","Amber","Gold","Copper","Bronze","Rust","Sienna","Ochre"],weather:["Sun","Heat","Scorch","Blaze","Shimmer","Mirage"],features:["Valley","Wash","Arroyo","Canyon","Dry","Arid"]},swamp:{nature:["Marsh","Bog","Mud","Reed","Cattail","Cypress","Moss","Lily","Mangrove","Mire","Fen","Peat","Algae","Vine","Creeper"],weather:["Mist","Fog","Humid","Damp","Murky","Vapor"],features:["Bayou","Slough","Backwater","Pool","Shallow","Deep"]}};COMMON_NAME_POOLS={characteristics:["Swift","Strong","Keen","Bold","Wise","Brave","Wild","Free","Noble","Fierce","Gentle","Sharp","Quick","Steady","Bright","Dark"],colors:["Silver","Gray","Black","White","Brown","Red","Gold","Copper","Russet","Tawny","Sable","Cream","Ash","Smoke","Shadow"]};constructor(i=bg){this.config=i}generateRandomPack(i="forest"){const c=E.nextInt(this.config.minPackSize,this.config.maxPackSize),o=[];this.config.guaranteedRoles.forEach(g=>{const y=this.generateWolfWithRole(g,i);o.push(y)});const u=c-o.length,h=["hunter","omega","hunter","hunter"];for(let g=0;g<u;g++){const y=E.choice(h),x=this.generateWolfWithRole(y,i);o.push(x)}return this.applyAgeDistribution(o),this.createMatingPairs(o),o}generateWolfWithRole(i,c="forest"){return{id:Bt("w"),name:this.generateRandomName(c),sex:E.choice(["male","female"]),age:this.generateAgeForRole(i),role:i,appearance:this.generateBiomeAppearance(c),stats:this.generateRandomStats(i),traits:this.generateRandomTraits(i),xp:E.nextInt(0,50),level:0,bonds:{},breedingHistory:{totalLitters:0},familyTree:{parentIds:[],siblingIds:[],offspringIds:[]}}}generateRandomName(i="forest"){const c=this.BIOME_NAME_POOLS[i]||this.BIOME_NAME_POOLS.forest,o=[...Object.values(c),...Object.values(this.COMMON_NAME_POOLS)],h=E.next()<.7?E.choice(Object.values(c)):E.choice(Object.values(this.COMMON_NAME_POOLS));if(E.next()<.2){const g=E.choice(h),y=E.choice(o),x=E.choice(y);return`${g}${x.toLowerCase()}`}return E.choice(h)}generateBiomeAppearance(i){return Pi.generateBiomeAppearance(i)}generateRandomStats(i){const c={health:E.nextInt(70,95),strength:E.nextInt(4,8),speed:E.nextInt(4,8),intelligence:E.nextInt(4,8)};switch(i){case"alpha":c.strength+=E.nextInt(1,3),c.intelligence+=E.nextInt(1,2),c.health=Math.max(85,c.health);break;case"beta":c.intelligence+=E.nextInt(1,2),c.strength+=E.nextInt(0,2),c.health=Math.max(80,c.health);break;case"healer":c.intelligence+=E.nextInt(2,3),c.health+=E.nextInt(5,10);break;case"hunter":c.speed+=E.nextInt(1,3),c.strength+=E.nextInt(1,2);break;case"pup":c.health=E.nextInt(60,80),c.strength=E.nextInt(2,4),c.speed=E.nextInt(3,5),c.intelligence=E.nextInt(3,5);break;case"elder":c.intelligence+=E.nextInt(2,4),c.strength=Math.max(3,c.strength-E.nextInt(1,2)),c.speed=Math.max(3,c.speed-E.nextInt(1,2));break}return{health:Math.min(100,Math.max(30,c.health)),strength:Math.min(10,Math.max(1,c.strength)),speed:Math.min(10,Math.max(1,c.speed)),intelligence:Math.min(10,Math.max(1,c.intelligence))}}generateRandomTraits(i){const c={bravery:E.nextInt(3,8),sociability:E.nextInt(3,8),trainability:E.nextInt(3,8),fertility:E.nextInt(3,8)};switch(i){case"alpha":c.bravery+=E.nextInt(1,3),c.sociability+=E.nextInt(0,2);break;case"beta":c.sociability+=E.nextInt(1,2),c.trainability+=E.nextInt(1,2);break;case"healer":c.sociability+=E.nextInt(2,3),c.trainability+=E.nextInt(1,2),c.fertility-=E.nextInt(1,2);break;case"hunter":c.bravery+=E.nextInt(1,2),c.trainability+=E.nextInt(1,2);break;case"pup":c.fertility=0,c.trainability+=E.nextInt(1,3);break;case"omega":c.sociability+=E.nextInt(1,2);break;case"elder":c.trainability+=E.nextInt(1,3),c.fertility=Math.max(1,c.fertility-E.nextInt(2,4));break}return{bravery:Math.min(10,Math.max(1,c.bravery)),sociability:Math.min(10,Math.max(1,c.sociability)),trainability:Math.min(10,Math.max(1,c.trainability)),fertility:Math.min(10,Math.max(0,c.fertility))}}generateAgeForRole(i){switch(i){case"pup":return E.nextFloat(.3,1.4);case"alpha":case"beta":return E.nextFloat(2.5,6);case"healer":return E.nextFloat(2,7);case"hunter":return E.nextFloat(1.5,5);case"omega":return E.nextFloat(1.5,4);case"elder":return E.nextFloat(7,10);default:return E.nextFloat(2,5)}}applyAgeDistribution(i){const c=i.filter(h=>h.age<1.5).length,o=Math.floor(i.length*this.config.ageDistribution.pupsPercent),u=i.filter(h=>!this.config.guaranteedRoles.includes(h.role)||h.role==="omega");if(c<o){const h=Math.min(o-c,u.length);for(let g=0;g<h;g++){const y=u[g];y&&y.role!=="alpha"&&y.role!=="beta"&&(y.age=E.nextFloat(.8,1.4),y.role="pup")}}}createMatingPairs(i){const c=i.filter(g=>g.age>=2&&g.age<8&&(g.role==="alpha"||g.role==="beta"||g.role==="hunter")),o=c.filter(g=>g.sex==="male"),u=c.filter(g=>g.sex==="female"),h=Math.min(2,Math.floor(Math.min(o.length,u.length)));for(let g=0;g<h&&E.next()<.6;g++)if(o.length>g&&u.length>g){const y=o[g],x=u[g];y&&x&&(y.mateId=x.id,x.mateId=y.id,y.bonds||(y.bonds={}),x.bonds||(x.bonds={}),y.bonds[x.id]=E.nextInt(60,90),x.bonds[y.id]=E.nextInt(60,90))}}generateRandomBiome(){const i=["forest","mountain","plains","tundra","desert","swamp"];return E.choice(i)}generateSpecificWolf(i,c,o="forest"){const u=this.generateWolfWithRole(i,o);return c&&(u.name=c),u}updateConfig(i){this.config={...this.config,...i}}}const Af=new Sg,jg=[{id:"hunt_success",title:"Hunt Success",text:"{wolf.name} led a successful hunt and brought meat for the pack.",condition:{all:[{field:"role",op:"==",value:"hunter"},{field:"stats.health",op:">",value:30}]},actions:[{type:"log",text:"{wolf.name} brought food."}],weight:8,tags:["hunting"]},{id:"hunt_injury",title:"Hunt Injury",text:"While hunting, {wolf.name} was injured by prey.",condition:{all:[{field:"role",op:"==",value:"hunter"},{field:"traits.bravery",op:">=",value:7},{field:"stats.health",op:">",value:0}]},actions:[{type:"modify_stat",target:"wolf",stat:"stats.health",delta:-18},{type:"log",text:"{wolf.name} got injured hunting."}],weight:4,tags:["hunting","injury"]},{id:"pup_born",title:"Pup Born",text:"{wolf.name} gave birth to healthy pups!",condition:{all:[{field:"sex",op:"==",value:"female"},{field:"pregnant",op:"==",value:!0}]},actions:[{type:"spawn_wolf",wolfTemplate:{role:"pup",appearance:{furColor:"mixed",pattern:"speckled",eyeColor:"blue"},stats:{health:70,strength:2,speed:3,intelligence:3},traits:{bravery:3,sociability:6,trainability:3,fertility:0}},count:1},{type:"log",text:"{wolf.name} welcomed new pups."}],weight:3,tags:["birth"]},{id:"illness",title:"Illness",text:"{wolf.name} came down with an illness.",condition:{all:[{field:"stats.health",op:"<",value:60}]},actions:[{type:"modify_stat",target:"wolf",stat:"stats.health",delta:-12},{type:"set_stat",target:"wolf",stat:"isSick",value:!0},{type:"log",text:"{wolf.name} is ill."}],weight:5,tags:["sickness"]},{id:"rival_raid",title:"Rival Raid",text:"A rival pack raided the territory and {wolf.name} was caught in the skirmish.",condition:{all:[{field:"stats.health",op:">",value:10}]},actions:[{type:"modify_stat",target:"wolf",stat:"stats.health",delta:-20},{type:"log",text:"{wolf.name} survived a raid with injuries."}],weight:2,tags:["conflict"]},{id:"den_flood",title:"Den Flood",text:"A sudden flood hit the den. Pups were in danger.",condition:{any:[{field:"role",op:"==",value:"pup"}]},actions:[{type:"modify_stat",target:"wolf",stat:"stats.health",delta:-15},{type:"log",text:"Den flood injured pups."}],weight:1,tags:["disaster"],allowFallback:!0},{id:"alpha_challenge",title:"Alpha Challenge",text:"{wolf.name} challenged the alpha!",condition:{all:[{field:"role",op:"==",value:"beta"},{field:"traits.bravery",op:">=",value:7}]},actions:[{type:"trigger_story",storyId:"alpha_challenge_resolution"},{type:"log",text:"{wolf.name} has challenged leadership."}],weight:2,tags:["social"]},{id:"dispersal",title:"Dispersal",text:"{wolf.name} decided to disperse and try to find a new territory.",condition:{all:[{field:"age",op:">=",value:1.5},{field:"age",op:"<=",value:3}]},actions:[{type:"log",text:"{wolf.name} dispersed from the pack."},{type:"remove_wolf",targetSelector:"wolf"}],weight:2,tags:["dispersal"]},{id:"scavenge_find",title:"Scavenge Find",text:"{wolf.name} found a carcass and scavenged food.",condition:{all:[{field:"stats.health",op:"<",value:95}]},actions:[{type:"log",text:"{wolf.name} scavenged some food."}],weight:6,tags:["food"]},{id:"bonding",title:"Pack Bonding",text:"The pack shared a calm night; {wolf.name} bonded with another.",condition:{all:[{field:"traits.sociability",op:">",value:6}]},actions:[{type:"adjust_bond",withWolfIdField:"target.id",delta:5},{type:"log",text:"{wolf.name} bonded with the pack."}],weight:6,tags:["social"],allowFallback:!0},{id:"healer_assist",title:"Healer Assistance",text:"{wolf.name} (healer) tended to {target.name} and helped them recover.",condition:{all:[{field:"role",op:"==",value:"healer"},{field:"stats.health",op:">",value:20}]},actions:[{type:"modify_stat",target:"wolf",stat:"stats.health",delta:-2},{type:"log",text:"{wolf.name} tended to {target.name}."}],weight:5,tags:["healing"],allowFallback:!0},{id:"prophecy_speed_rise",title:"Pool Vision: Speed of the Wind",text:"The Crystal Pool whispers: 'A wolf of great speed will rise...'.",condition:{all:[{field:"pack.day",op:">=",value:60}]},actions:[{type:"trigger_story",storyId:"speed_rise_story"},{type:"log",text:"A prophecy echoes at the Pool."}],weight:0,tags:["prophecy","story"],allowFallback:!0}],Tg=JSON.parse(`[{"id":"leadership_challenge","type":"decision","eventType":"moon_event","category":"leadership","title":"Challenge to Leadership","text":"Under the full moon, a pack member approaches Alpha {wolf.name} with serious concerns. Some wolves have been quietly questioning the alpha's recent decisions, and tensions are rising throughout the pack. How should the alpha respond?","condition":{"all":[{"field":"wolf.role","op":"==","value":"alpha"},{"field":"pack.packApproval","op":"<","value":60}]},"choices":[{"id":"assert_dominance","text":"Advise the alpha to assert dominance and show strong leadership","description":"Display authority but risk alienating some pack members","actions":[{"type":"modify_stat","target":"wolf","stat":"stats.strength","delta":1},{"type":"adjust_approval","delta":-5},{"type":"log","text":"{wolf.name} asserted dominance, but some wolves seem unhappy"}],"weight":3},{"id":"listen_concerns","text":"Encourage the alpha to listen and address concerns diplomatically","description":"Build trust and unity but may appear less decisive","actions":[{"type":"adjust_approval","delta":10},{"type":"modify_stat","target":"wolf","stat":"traits.sociability","delta":1},{"type":"log","text":"{wolf.name} listened to the pack's concerns and earned their respect"}],"weight":4},{"id":"prove_worth","text":"Suggest the alpha prove their worth through a dangerous hunting trial","description":"High risk, high reward - could strengthen or doom leadership","actions":[{"type":"schedule_consequence","consequenceId":"hunting_trial","daysDelay":3},{"type":"log","text":"{wolf.name} proposed a hunting trial to prove their leadership"}],"weight":2}],"weight":8,"tags":["leadership","alpha","challenge"],"timeoutDays":5,"defaultChoiceId":"listen_concerns","isPlayerChoice":true,"seasonalBonus":{"autumn":1.5,"winter":1.2}},{"id":"coming_of_age","type":"decision","eventType":"moon_event","category":"ceremony","title":"Coming of Age Ceremony","text":"The full moon shines bright as young {wolf.name} reaches maturity. The pack gathers to witness their transition from pup to adult. The alpha seeks guidance on how this milestone should be celebrated and what path the young wolf should take.","condition":{"all":[{"field":"wolf.role","op":"==","value":"pup"},{"field":"wolf.age","op":">=","value":1}]},"choices":[{"id":"hunter_path","text":"Recommend they follow the path of a hunter","description":"Focus on developing hunting skills and pack provision","actions":[{"type":"change_role","target":"wolf","role":"hunter"},{"type":"modify_stat","target":"wolf","stat":"stats.speed","delta":2},{"type":"modify_stat","target":"wolf","stat":"stats.strength","delta":1},{"type":"adjust_approval","delta":5},{"type":"log","text":"{wolf.name} has become a hunter and gained the pack's approval"}],"weight":3},{"id":"beta_path","text":"Suggest they be groomed as a future pack leader","description":"Develop leadership qualities and political acumen","actions":[{"type":"change_role","target":"wolf","role":"beta"},{"type":"modify_stat","target":"wolf","stat":"traits.sociability","delta":2},{"type":"modify_stat","target":"wolf","stat":"stats.intelligence","delta":1},{"type":"adjust_approval","delta":8},{"type":"log","text":"{wolf.name} has become a beta and shows great promise as a leader"}],"weight":2},{"id":"omega_path","text":"Advise letting them find their own place naturally","description":"Allow natural development without imposing expectations","actions":[{"type":"change_role","target":"wolf","role":"omega"},{"type":"modify_stat","target":"wolf","stat":"traits.sociability","delta":1},{"type":"adjust_approval","delta":3},{"type":"log","text":"{wolf.name} found their place in the pack as an omega"}],"weight":3}],"weight":10,"tags":["ceremony","coming_of_age","pup"],"timeoutDays":7,"defaultChoiceId":"hunter_path","isPlayerChoice":true,"seasonalBonus":{"spring":1.3,"summer":1.1}},{"id":"territory_dispute","type":"decision","eventType":"moon_event","category":"crisis","title":"Territory Boundary Dispute","text":"Rival wolves have been spotted near the pack's territory boundaries. {wolf.name} brings urgent news that they've crossed into the pack's hunting grounds and are threatening the food sources. How should the alpha respond to this incursion?","condition":{"all":[{"field":"wolf.role","op":"in","value":["alpha","beta","hunter"]},{"field":"pack.food","op":"<","value":8}]},"choices":[{"id":"aggressive_response","text":"Counsel the alpha to attack immediately and drive them out","description":"Risk casualties but protect territory decisively","actions":[{"type":"schedule_consequence","consequenceId":"territory_battle","daysDelay":1},{"type":"adjust_approval","delta":5},{"type":"log","text":"The pack prepares for battle to defend their territory"}],"weight":3},{"id":"diplomatic_approach","text":"Advise sending diplomatic envoys to negotiate boundaries","description":"Seek peaceful resolution but risk appearing weak","actions":[{"type":"adjust_approval","delta":-3},{"type":"modify_stat","target":"pack","stat":"food","delta":3},{"type":"schedule_consequence","consequenceId":"diplomatic_outcome","daysDelay":5},{"type":"log","text":"Diplomatic envoys were sent to negotiate with the rival pack"}],"weight":2},{"id":"strategic_retreat","text":"Recommend avoiding the area and finding new hunting grounds","description":"Prevent conflict but sacrifice valuable territory","actions":[{"type":"modify_stat","target":"pack","stat":"food","delta":-2},{"type":"adjust_approval","delta":-8},{"type":"log","text":"The pack retreated to avoid conflict, but lost hunting grounds"}],"weight":2},{"id":"night_ambush","text":"Suggest a dangerous night ambush to surprise the rivals","description":"Extremely risky strategy with potential for great success or disaster","actions":[{"type":"schedule_consequence","consequenceId":"night_ambush_result","daysDelay":2},{"type":"log","text":"The pack plans a daring night ambush against the intruders"}],"weight":2}],"weight":9,"tags":["crisis","territory","conflict"],"timeoutDays":3,"defaultChoiceId":"diplomatic_approach","isPlayerChoice":true,"seasonalBonus":{"autumn":1.4,"winter":1.2}},{"id":"mysterious_stranger","type":"decision","eventType":"moon_event","category":"opportunity","title":"The Mysterious Stranger","text":"A lone wolf appears at the edge of the territory under the moonlight. Pack scouts report to Alpha {wolf.name} that this stranger seems different - older, wiser, with scars that tell many stories. They request an audience with the alpha. How should the pack respond?","condition":{"all":[{"field":"wolf.role","op":"==","value":"alpha"},{"field":"pack.wolves.length","op":"<","value":12}]},"choices":[{"id":"welcome_stranger","text":"Recommend welcoming the stranger into the pack","description":"Gain a valuable pack member but risk disrupting pack dynamics","actions":[{"type":"spawn_wolf","count":1,"wolfTemplate":{"name":"Wanderer","age":4,"role":"omega","stats":{"health":85,"strength":7,"speed":6,"intelligence":8},"traits":{"bravery":8,"sociability":4,"trainability":6,"fertility":3}}},{"type":"adjust_approval","delta":8},{"type":"log","text":"The mysterious stranger joined the pack, bringing wisdom and experience"}],"weight":3},{"id":"seek_knowledge","text":"Suggest asking for their wisdom before they continue on","description":"Learn valuable knowledge without long-term commitment","actions":[{"type":"schedule_consequence","consequenceId":"stranger_wisdom","daysDelay":1},{"type":"adjust_approval","delta":2},{"type":"log","text":"The stranger shared ancient wisdom before departing"}],"weight":4},{"id":"turn_away","text":"Advise politely turning them away from the territory","description":"Maintain pack stability but miss potential benefits","actions":[{"type":"adjust_approval","delta":-2},{"type":"log","text":"The stranger was turned away and disappeared into the night"}],"weight":2},{"id":"test_loyalty","text":"Propose testing their worthiness through pack trials","description":"Determine their true intentions and abilities through challenges","actions":[{"type":"schedule_consequence","consequenceId":"stranger_trial","daysDelay":7},{"type":"log","text":"The stranger accepted the challenge to prove their worth"}],"weight":3}],"weight":6,"tags":["opportunity","recruitment","stranger"],"timeoutDays":5,"defaultChoiceId":"seek_knowledge","isPlayerChoice":true,"seasonalBonus":{"spring":1.1,"autumn":1.3}},{"id":"pack_celebration","type":"decision","eventType":"moon_event","category":"pack_wide","title":"Moonlight Celebration","text":"The pack has been through many hardships recently, and morale is dangerously low. Pack member {wolf.name} approaches the alpha with a suggestion to host a celebration under the full moon to strengthen bonds and lift spirits. What kind of celebration should the alpha organize?","condition":{"all":[{"field":"pack.packApproval","op":"<","value":40},{"field":"pack.wolves.length","op":">=","value":4}]},"choices":[{"id":"great_hunt","text":"Recommend organizing a great hunt followed by a feast","description":"Boost morale and gather food, but demands significant energy","actions":[{"type":"adjust_approval","delta":15},{"type":"modify_stat","target":"pack","stat":"food","delta":5},{"type":"schedule_consequence","consequenceId":"post_hunt_exhaustion","daysDelay":2},{"type":"log","text":"The pack enjoyed a successful hunt and feast under the full moon"}],"weight":3},{"id":"storytelling_night","text":"Suggest gathering for stories and howling beneath the stars","description":"Strengthen bonds without demanding physical exertion","actions":[{"type":"adjust_approval","delta":12},{"type":"log","text":"The pack shared stories and songs under the moonlight, strengthening their bonds"}],"weight":4},{"id":"mating_ceremony","text":"Advise holding bonding ceremonies for courting pairs","description":"Strengthen pair bonds and encourage future reproduction","actions":[{"type":"adjust_approval","delta":8},{"type":"schedule_consequence","consequenceId":"enhanced_bonding","daysDelay":5},{"type":"log","text":"Bonding ceremonies were held, strengthening relationships in the pack"}],"weight":3},{"id":"training_games","text":"Propose organizing training games and competitions","description":"Improve pack skills while boosting morale through friendly competition","actions":[{"type":"adjust_approval","delta":10},{"type":"schedule_consequence","consequenceId":"training_benefits","daysDelay":3},{"type":"log","text":"The pack enjoyed training games that improved both morale and skills"}],"weight":3}],"weight":7,"tags":["pack_wide","celebration","morale"],"timeoutDays":4,"defaultChoiceId":"storytelling_night","isPlayerChoice":true,"seasonalBonus":{"summer":1.2,"autumn":1.4}},{"id":"food_shortage_crisis","type":"decision","eventType":"moon_event","category":"crisis","title":"Starvation Looms","text":"The pack's food stores are dangerously low and winter approaches. {wolf.name} reports that prey is scarce and rival packs control the best hunting grounds. Alpha must make a desperate decision to save the pack from starvation.","condition":{"all":[{"field":"pack.food","op":"<=","value":2},{"field":"pack.season","op":"in","value":["autumn","winter"]}]},"choices":[{"id":"desperate_raid","text":"Raid another pack's food cache in a dangerous operation","description":"High risk of casualties but could secure vital food supplies","actions":[{"type":"schedule_consequence","consequenceId":"food_raid_outcome","daysDelay":2},{"type":"adjust_approval","delta":-5},{"type":"log","text":"The pack prepares for a desperate raid on rival territory"}],"weight":3},{"id":"exile_weak","text":"Exile the weakest members to preserve resources for the strong","description":"Cruel but ensures core pack survival through winter","actions":[{"type":"remove_wolf","targetSelector":"lowest_health"},{"type":"adjust_approval","delta":-20},{"type":"modify_stat","target":"pack","stat":"food","delta":2},{"type":"log","text":"The weakest were cast out to preserve the pack's survival, creating deep resentment"}],"weight":2},{"id":"hunt_dangerous_prey","text":"Risk hunting the large predators in the deep forest","description":"Dangerous but could provide massive food reserves","actions":[{"type":"schedule_consequence","consequenceId":"dangerous_hunt_outcome","daysDelay":1},{"type":"log","text":"The pack ventures into dangerous territory to hunt large predators"}],"weight":3},{"id":"seek_human_territory","text":"Venture near human settlements to scavenge livestock","description":"Risk human retaliation but access to abundant food","actions":[{"type":"schedule_consequence","consequenceId":"human_encounter","daysDelay":3},{"type":"log","text":"Desperation drives the pack toward the dangerous realm of humans"}],"weight":2}],"weight":8,"tags":["crisis","starvation","survival"],"timeoutDays":2,"defaultChoiceId":"hunt_dangerous_prey","isPlayerChoice":true,"seasonalBonus":{"autumn":1.3,"winter":1.8}},{"id":"betrayal_discovery","type":"decision","eventType":"moon_event","category":"crisis","title":"Treachery Revealed","text":"Under the pale moonlight, {wolf.name} discovers that Beta is secretly meeting with rival pack members, sharing information about the pack's weaknesses and territory. This betrayal cuts deep into the heart of pack loyalty. How should Alpha respond to this devastating discovery?","condition":{"all":[{"field":"pack.wolves.length","op":">=","value":5},{"field":"pack.packApproval","op":"<","value":30}]},"choices":[{"id":"public_execution","text":"Execute the traitor publicly to send a message","description":"Restore order through fear but may breed resentment","actions":[{"type":"kill_wolf","targetSelector":"beta"},{"type":"adjust_approval","delta":10},{"type":"schedule_consequence","consequenceId":"execution_aftermath","daysDelay":7},{"type":"log","text":"The traitor was executed before the pack. Order is restored, but at what cost?"}],"weight":2},{"id":"trial_by_combat","text":"Challenge the traitor to ritual combat for their crimes","description":"Honor the old ways but risk alpha defeat","actions":[{"type":"schedule_consequence","consequenceId":"betrayal_combat","daysDelay":1},{"type":"log","text":"Ancient pack law demands trial by combat for such treachery"}],"weight":3},{"id":"exile_traitor","text":"Banish the traitor but spare their life","description":"Show mercy but risk them joining enemies","actions":[{"type":"remove_wolf","targetSelector":"beta"},{"type":"adjust_approval","delta":-5},{"type":"create_rival_pack","packName":"Exile's Revenge","strength":6},{"type":"log","text":"The traitor was banished, but may return with enemies seeking vengeance"}],"weight":4},{"id":"turn_spy","text":"Force them to become a double agent against the rivals","description":"Dangerous gamble that could backfire spectacularly","actions":[{"type":"adjust_approval","delta":-10},{"type":"schedule_consequence","consequenceId":"double_agent_result","daysDelay":14},{"type":"log","text":"The traitor now serves the pack as an unwilling spy among their former allies"}],"weight":2}],"weight":2,"tags":["betrayal","crisis","loyalty"],"timeoutDays":3,"defaultChoiceId":"exile_traitor","isPlayerChoice":true,"seasonalBonus":{"winter":1.4,"autumn":1.2}},{"id":"disease_outbreak","type":"decision","eventType":"moon_event","category":"crisis","title":"The Sickness Spreads","text":"A mysterious illness has struck the pack. Several wolves are showing symptoms of weakness, coughing, and loss of appetite. {wolf.name} fears it may spread to the entire pack if not contained. The alpha must decide how to handle this growing crisis.","condition":{"all":[{"field":"pack.wolves.length","op":">=","value":4},{"field":"pack.herbs","op":"<","value":3}]},"choices":[{"id":"quarantine_sick","text":"Isolate the sick wolves from the healthy pack members","description":"Prevent spread but abandon sick wolves to their fate","actions":[{"type":"schedule_consequence","consequenceId":"quarantine_outcome","daysDelay":5},{"type":"adjust_approval","delta":-10},{"type":"log","text":"The sick were isolated from the pack to prevent the disease from spreading"}],"weight":3},{"id":"seek_rare_herbs","text":"Send dangerous expeditions to find rare healing herbs","description":"Risk lives of healthy wolves to save the sick","actions":[{"type":"schedule_consequence","consequenceId":"herb_expedition","daysDelay":4},{"type":"log","text":"Brave volunteers venture into dangerous territory seeking miracle cures"}],"weight":4},{"id":"shamanic_ritual","text":"Perform ancient healing rituals under the full moon","description":"Trust in old pack traditions and spiritual healing","actions":[{"type":"schedule_consequence","consequenceId":"healing_ritual","daysDelay":1},{"type":"modify_stat","target":"pack","stat":"herbs","delta":-1},{"type":"log","text":"The pack performs ancient healing rituals, calling upon ancestral spirits"}],"weight":3},{"id":"accept_losses","text":"Accept that some wolves will die and focus on pack survival","description":"Harsh pragmatism that prioritizes the strong","actions":[{"type":"kill_wolf","targetSelector":"weakest"},{"type":"adjust_approval","delta":-15},{"type":"log","text":"The pack coldly accepted the loss of the weak, hardening their hearts for survival"}],"weight":2}],"weight":7,"tags":["crisis","disease","survival"],"timeoutDays":3,"defaultChoiceId":"seek_rare_herbs","isPlayerChoice":true,"seasonalBonus":{"winter":1.5,"spring":1.1}},{"id":"beta_succession","type":"decision","eventType":"moon_event","category":"leadership","title":"Choosing a New Beta","text":"With the recent loss of the pack's beta, the alpha must choose a new second-in-command. The pack looks to their leader for guidance in selecting who will help guide them through the challenges ahead. Who should be elevated to the position of beta?","condition":{"all":[{"field":"pack.wolves.length","op":">=","value":3}]},"choices":[{"id":"promote_hunter","text":"Promote the most experienced hunter to beta","description":"Choose leadership based on hunting prowess and experience","actions":[{"type":"promote_role","targetSelector":"best_hunter","newRole":"beta"},{"type":"adjust_approval","delta":8},{"type":"log","text":"The pack's best hunter was promoted to beta, earning respect for their skills"}],"weight":3},{"id":"promote_eldest","text":"Elevate the eldest pack member to beta","description":"Honor age and wisdom in choosing the new beta","actions":[{"type":"promote_role","targetSelector":"eldest_non_alpha","newRole":"beta"},{"type":"adjust_approval","delta":5},{"type":"log","text":"The eldest pack member was chosen as beta, bringing wisdom to leadership"}],"weight":2},{"id":"promote_strongest","text":"Select the strongest wolf as the new beta","description":"Choose based on physical strength and combat ability","actions":[{"type":"promote_role","targetSelector":"strongest_non_alpha","newRole":"beta"},{"type":"adjust_approval","delta":6},{"type":"log","text":"The strongest pack member became beta, inspiring confidence through power"}],"weight":3},{"id":"promote_intelligent","text":"Choose the most intelligent wolf for beta","description":"Value wisdom and strategic thinking in leadership","actions":[{"type":"promote_role","targetSelector":"smartest_non_alpha","newRole":"beta"},{"type":"adjust_approval","delta":7},{"type":"log","text":"The wisest pack member was made beta, bringing intelligence to leadership"}],"weight":3}],"weight":10,"tags":["succession","leadership","beta"],"timeoutDays":3,"defaultChoiceId":"promote_hunter","isPlayerChoice":true,"seasonalBonus":{"winter":1.2,"autumn":1.1}}]`),_g=[{id:"hunting_trial",title:"Leadership Trial Results",text:"The hunting trial has concluded. {wolf.name}'s performance has determined their fate as pack leader.",condition:{all:[{field:"wolf.role",op:"==",value:"alpha"},{field:"wolf.stats.health",op:">",value:30}]},actions:[{type:"modify_stat",target:"pack",stat:"food",delta:8},{type:"adjust_approval",delta:20},{type:"modify_stat",target:"wolf",stat:"stats.strength",delta:2},{type:"log",text:"{wolf.name} succeeded in the hunting trial and proved their leadership!"}],tags:["leadership","trial","success"]},{id:"territory_battle",title:"Territory Battle Outcome",text:"The battle for territory has ended. {wolf.name} and the pack have defended their hunting grounds.",actions:[{type:"modify_stat",target:"wolf",stat:"stats.health",delta:-15},{type:"modify_stat",target:"pack",stat:"food",delta:6},{type:"adjust_approval",delta:12},{type:"log",text:"The pack successfully defended their territory but suffered injuries in the battle"}],tags:["battle","territory","defense"]},{id:"diplomatic_outcome",title:"Diplomatic Resolution",text:"The diplomatic negotiations have concluded. {wolf.name}'s peaceful approach has yielded results.",actions:[{type:"adjust_approval",delta:8},{type:"modify_stat",target:"pack",stat:"food",delta:2},{type:"log",text:"Diplomatic negotiations secured a peaceful resolution to the territory dispute"}],tags:["diplomacy","peace","territory"]},{id:"night_ambush_result",title:"Night Ambush Results",text:"The night ambush has been executed. {wolf.name} led the pack in a daring strike against the intruders.",actions:[{type:"modify_stat",target:"wolf",stat:"stats.health",delta:-8},{type:"modify_stat",target:"pack",stat:"food",delta:10},{type:"adjust_approval",delta:15},{type:"modify_stat",target:"wolf",stat:"traits.bravery",delta:1},{type:"log",text:"The night ambush was successful! The pack gained territory and {wolf.name} showed great courage"}],tags:["ambush","stealth","victory"]},{id:"stranger_wisdom",title:"Ancient Wisdom",text:"The mysterious stranger shared ancient knowledge with {wolf.name} before departing into the wilderness.",actions:[{type:"modify_stat",target:"wolf",stat:"stats.intelligence",delta:2},{type:"modify_stat",target:"wolf",stat:"traits.trainability",delta:1},{type:"adjust_approval",delta:5},{type:"log",text:"{wolf.name} gained valuable wisdom from the mysterious stranger"}],tags:["wisdom","stranger","learning"]},{id:"stranger_trial",title:"Stranger's Trial",text:"The mysterious stranger has completed their trial. {wolf.name} must decide their fate.",condition:{all:[{field:"wolf.role",op:"==",value:"alpha"}]},actions:[{type:"spawn_wolf",count:1,wolfTemplate:{name:"Proven",age:4.5,role:"hunter",stats:{health:90,strength:8,speed:7,intelligence:7},traits:{bravery:9,sociability:6,trainability:7,fertility:4}}},{type:"adjust_approval",delta:12},{type:"log",text:"The stranger proved their worth and earned a place in the pack as a skilled hunter"}],tags:["stranger","trial","recruitment"]},{id:"post_hunt_exhaustion",title:"Post-Celebration Exhaustion",text:"The pack is feeling the effects of their energetic celebration. {wolf.name} notices the wolves are tired but happy.",actions:[{type:"modify_stat",target:"wolf",stat:"stats.health",delta:-5},{type:"log",text:"The pack is tired from their celebration but their spirits remain high"}],tags:["celebration","exhaustion","recovery"]},{id:"enhanced_bonding",title:"Strengthened Bonds",text:"The bonding ceremonies have had a lasting effect on pack relationships. {wolf.name} sees stronger connections forming.",actions:[{type:"adjust_approval",delta:5},{type:"log",text:"The bonding ceremonies have strengthened relationships throughout the pack"}],tags:["bonding","relationships","ceremony"]},{id:"training_benefits",title:"Training Game Benefits",text:"The competitive training games have improved the pack's overall fitness and skills. {wolf.name} notes the improvement.",actions:[{type:"modify_stat",target:"wolf",stat:"stats.speed",delta:1},{type:"modify_stat",target:"wolf",stat:"stats.strength",delta:1},{type:"log",text:"The training games have improved {wolf.name}'s physical capabilities"}],tags:["training","improvement","fitness"]},{id:"prove_leadership",title:"Leadership Proving Period",text:"The month-long proving period has ended. Alpha {wolf.name} must now face the pack's judgment on their conditional leadership.",condition:{all:[{field:"wolf.role",op:"==",value:"alpha"}]},actions:[{type:"schedule_consequence",consequenceId:"leadership_final_judgment",daysDelay:1},{type:"log",text:"The proving period for {wolf.name}'s leadership has ended. The pack prepares to render final judgment."}],tags:["leadership","judgment","proving"]}],Cg=JSON.parse(`[{"id":"territory_battle","title":"Territory Battle Outcome","outcomes":[{"id":"decisive_victory","title":"Decisive Victory","text":"The pack's warriors overwhelmed the rival intruders completely. Alpha {wolf.name} led a masterful assault that drove them far from the territory with minimal casualties.","condition":{"all":[{"field":"wolf.stats.strength","op":">=","value":7},{"field":"pack.wolves.length","op":">=","value":5}]},"probability":0.3,"actions":[{"type":"modify_stat","target":"wolf","stat":"stats.health","delta":-3},{"type":"modify_stat","target":"pack","stat":"food","delta":12},{"type":"adjust_approval","delta":20},{"type":"modify_stat","target":"wolf","stat":"traits.bravery","delta":1},{"type":"log","text":"The pack achieved a crushing victory! {wolf.name}'s leadership in battle has inspired great confidence."}],"tags":["victory","decisive","leadership"]},{"id":"pyrrhic_victory","title":"Pyrrhic Victory","text":"The pack drove off the invaders, but at a terrible cost. Alpha {wolf.name} led the charge bravely, but the battle claimed the life of a valued pack member.","condition":{"all":[{"field":"wolf.stats.health","op":">","value":40},{"field":"pack.wolves.length","op":">=","value":4}]},"probability":0.25,"actions":[{"type":"modify_stat","target":"wolf","stat":"stats.health","delta":-20},{"type":"kill_wolf","targetSelector":"weakest"},{"type":"modify_stat","target":"pack","stat":"food","delta":8},{"type":"adjust_approval","delta":5},{"type":"log","text":"The territory was defended, but the pack mourns the loss of a brave warrior."}],"tags":["victory","pyrrhic","casualty"]},{"id":"costly_defeat","title":"Costly Defeat","text":"The battle was a disaster. Alpha {wolf.name} fought valiantly but the pack was outmatched. Wolves were injured and territory was lost to the superior force.","condition":{"any":[{"field":"wolf.stats.health","op":"<","value":30},{"field":"pack.wolves.length","op":"<","value":4}]},"probability":0.2,"actions":[{"type":"modify_stat","target":"wolf","stat":"stats.health","delta":-25},{"type":"injure_wolf","targetSelector":"random","injury":"battle_wounds","healingDays":14},{"type":"modify_stat","target":"pack","stat":"food","delta":-5},{"type":"lose_territory","amount":3},{"type":"adjust_approval","delta":-15},{"type":"create_rival_pack","packName":"Shadowfang Rivals","strength":8},{"type":"log","text":"The pack suffered a crushing defeat. {wolf.name}'s leadership is now questioned by many."}],"tags":["defeat","costly","territory_loss"]},{"id":"tactical_withdrawal","title":"Strategic Withdrawal","text":"Recognizing they were outmatched, Alpha {wolf.name} ordered a strategic retreat. The pack avoided casualties but lost face and some territory.","probability":0.15,"actions":[{"type":"modify_stat","target":"wolf","stat":"stats.health","delta":-8},{"type":"modify_stat","target":"pack","stat":"food","delta":-2},{"type":"adjust_approval","delta":-8},{"type":"log","text":"The pack retreated to fight another day, but some question {wolf.name}'s courage."}],"tags":["withdrawal","strategic","survival"]},{"id":"alpha_challenged","title":"Leadership Crisis","text":"The battle went poorly and Alpha {wolf.name} was severely wounded. A strong pack member sees this as an opportunity to challenge for leadership.","condition":{"all":[{"field":"wolf.stats.health","op":"<","value":25},{"field":"pack.packApproval","op":"<","value":40}]},"probability":0.1,"actions":[{"type":"modify_stat","target":"wolf","stat":"stats.health","delta":-30},{"type":"adjust_approval","delta":-25},{"type":"schedule_consequence","consequenceId":"leadership_challenge_battle","daysDelay":3},{"type":"log","text":"{wolf.name} was badly wounded in the failed battle. The pack's confidence is shattered and challengers emerge."}],"tags":["defeat","leadership_crisis","challenge"]}],"defaultOutcomeId":"tactical_withdrawal"},{"id":"hunting_trial","title":"Leadership Trial Results","outcomes":[{"id":"trial_triumph","title":"Triumphant Success","text":"Alpha {wolf.name} exceeded all expectations in the hunting trial, bringing down a massive elk alone. The pack is awed by this display of skill and leadership.","condition":{"all":[{"field":"wolf.stats.strength","op":">=","value":8},{"field":"wolf.stats.speed","op":">=","value":7}]},"probability":0.2,"actions":[{"type":"modify_stat","target":"pack","stat":"food","delta":15},{"type":"adjust_approval","delta":30},{"type":"modify_stat","target":"wolf","stat":"stats.strength","delta":2},{"type":"modify_stat","target":"wolf","stat":"traits.bravery","delta":1},{"type":"log","text":"{wolf.name}'s incredible hunting prowess has silenced all doubters! The pack has never been more united."}],"tags":["hunting","triumph","leadership_proven"]},{"id":"trial_success","title":"Successful Hunt","text":"Alpha {wolf.name} completed the hunting trial successfully, proving their continued capability as pack leader.","condition":{"all":[{"field":"wolf.stats.health","op":">","value":30},{"field":"wolf.stats.strength","op":">=","value":5}]},"probability":0.4,"actions":[{"type":"modify_stat","target":"pack","stat":"food","delta":8},{"type":"adjust_approval","delta":20},{"type":"modify_stat","target":"wolf","stat":"stats.strength","delta":1},{"type":"log","text":"{wolf.name} succeeded in the hunting trial and proved their leadership!"}],"tags":["hunting","success","leadership_maintained"]},{"id":"trial_injury","title":"Injured in Trial","text":"Alpha {wolf.name} attempted the hunting trial but was injured by their prey. Though they survived, their leadership appears diminished.","condition":{"any":[{"field":"wolf.stats.health","op":"<","value":40},{"field":"wolf.stats.strength","op":"<","value":6}]},"probability":0.25,"actions":[{"type":"modify_stat","target":"wolf","stat":"stats.health","delta":-20},{"type":"injure_wolf","targetSelector":"wolf","injury":"hunting_wound","healingDays":10},{"type":"modify_stat","target":"pack","stat":"food","delta":2},{"type":"adjust_approval","delta":-10},{"type":"log","text":"{wolf.name} was injured during the hunting trial. Some pack members whisper about their declining abilities."}],"tags":["hunting","injury","leadership_questioned"]},{"id":"trial_failure","title":"Trial Failure","text":"Alpha {wolf.name} failed the hunting trial completely, returning empty-pawed and exhausted. The pack's faith in their leadership is severely shaken.","probability":0.15,"actions":[{"type":"modify_stat","target":"wolf","stat":"stats.health","delta":-15},{"type":"adjust_approval","delta":-20},{"type":"modify_stat","target":"wolf","stat":"traits.bravery","delta":-1},{"type":"schedule_consequence","consequenceId":"leadership_challenge_trial","daysDelay":5},{"type":"log","text":"{wolf.name} failed the hunting trial miserably. The pack's confidence is shattered and challengers emerge."}],"tags":["hunting","failure","leadership_crisis"]}],"defaultOutcomeId":"trial_success"},{"id":"night_ambush_result","title":"Night Ambush Outcome","outcomes":[{"id":"perfect_ambush","title":"Perfect Ambush","text":"The night ambush was executed flawlessly. Alpha {wolf.name} led the pack in a silent strike that completely surprised the rival wolves, scattering them without a single casualty.","condition":{"all":[{"field":"wolf.stats.intelligence","op":">=","value":7},{"field":"wolf.traits.bravery","op":">=","value":8}]},"probability":0.15,"actions":[{"type":"modify_stat","target":"pack","stat":"food","delta":15},{"type":"adjust_approval","delta":25},{"type":"modify_stat","target":"wolf","stat":"traits.bravery","delta":2},{"type":"modify_stat","target":"wolf","stat":"stats.intelligence","delta":1},{"type":"log","text":"The perfect ambush has become pack legend! {wolf.name}'s tactical brilliance is unquestioned."}],"tags":["ambush","perfect","tactical_genius"]},{"id":"successful_ambush","title":"Successful Ambush","text":"The night ambush succeeded! Alpha {wolf.name} led the pack in a daring strike against the intruders, driving them off with minimal injuries.","probability":0.35,"actions":[{"type":"modify_stat","target":"wolf","stat":"stats.health","delta":-8},{"type":"modify_stat","target":"pack","stat":"food","delta":10},{"type":"adjust_approval","delta":15},{"type":"modify_stat","target":"wolf","stat":"traits.bravery","delta":1},{"type":"log","text":"The night ambush was successful! The pack gained territory and {wolf.name} showed great courage."}],"tags":["ambush","success","courage"]},{"id":"discovered_ambush","title":"Ambush Discovered","text":"The rival wolves detected the ambush! Alpha {wolf.name} was forced to lead a chaotic battle in the darkness, resulting in injuries and confusion.","probability":0.3,"actions":[{"type":"modify_stat","target":"wolf","stat":"stats.health","delta":-20},{"type":"injure_wolf","targetSelector":"random","injury":"night_battle_wounds","healingDays":8},{"type":"modify_stat","target":"pack","stat":"food","delta":3},{"type":"adjust_approval","delta":-5},{"type":"log","text":"The ambush was discovered! {wolf.name} led a chaotic night battle with mixed results."}],"tags":["ambush","discovered","chaos"]},{"id":"ambush_disaster","title":"Ambush Disaster","text":"The ambush turned into a complete disaster. Alpha {wolf.name} led the pack into a trap - the rivals were expecting them and counterattacked with devastating effect.","condition":{"any":[{"field":"wolf.stats.intelligence","op":"<","value":5},{"field":"pack.packApproval","op":"<","value":30}]},"probability":0.2,"actions":[{"type":"modify_stat","target":"wolf","stat":"stats.health","delta":-30},{"type":"kill_wolf","targetSelector":"random"},{"type":"modify_stat","target":"pack","stat":"food","delta":-3},{"type":"adjust_approval","delta":-20},{"type":"create_rival_pack","packName":"Nightstalker Rivals","strength":9},{"type":"log","text":"The ambush was a trap! {wolf.name} led the pack to disaster - a pack member was killed and many question their judgment."}],"tags":["ambush","disaster","trap","death"]}],"defaultOutcomeId":"successful_ambush"},{"id":"leadership_challenge_battle","title":"Leadership Challenge - Trial by Combat","outcomes":[{"id":"alpha_victory_battle","title":"Alpha Defends Leadership","text":"Alpha {wolf.name} met the challenger in ritual combat and emerged victorious despite their weakened state. The pack witnessed true courage and their leadership is stronger than ever.","condition":{"all":[{"field":"wolf.stats.strength","op":">=","value":6},{"field":"wolf.traits.bravery","op":">=","value":7}]},"probability":0.4,"actions":[{"type":"modify_stat","target":"wolf","stat":"stats.health","delta":-15},{"type":"adjust_approval","delta":25},{"type":"modify_stat","target":"wolf","stat":"traits.bravery","delta":2},{"type":"log","text":"{wolf.name} proved their worth in combat! The pack's faith in their leadership is restored."}],"tags":["leadership","victory","combat"]},{"id":"challenger_victory_battle","title":"New Alpha Emerges","text":"The challenger defeated the weakened Alpha {wolf.name} in combat. Leadership of the pack has changed hands in the ancient way, through strength and courage.","condition":{"any":[{"field":"wolf.stats.health","op":"<","value":20},{"field":"wolf.stats.strength","op":"<","value":5}]},"probability":0.35,"actions":[{"type":"change_alpha","newAlphaSelector":"strongest"},{"type":"modify_stat","target":"wolf","stat":"stats.health","delta":-20},{"type":"adjust_approval","delta":-10},{"type":"log","text":"{wolf.name} was defeated in combat and stepped down as alpha. A new leader has emerged."}],"tags":["leadership","defeat","succession"]},{"id":"mutual_injury_battle","title":"Bloody Stalemate","text":"The leadership challenge ended with both Alpha {wolf.name} and their challenger badly wounded. The pack intervened to stop the deadly combat, but tensions remain high.","probability":0.2,"actions":[{"type":"modify_stat","target":"wolf","stat":"stats.health","delta":-25},{"type":"injure_wolf","targetSelector":"random","injury":"combat_wounds","healingDays":12},{"type":"adjust_approval","delta":-15},{"type":"schedule_consequence","consequenceId":"leadership_challenge_trial","daysDelay":7},{"type":"log","text":"The brutal combat was stopped before either wolf died, but {wolf.name}'s leadership crisis continues."}],"tags":["leadership","stalemate","ongoing_crisis"]},{"id":"pack_splits_battle","title":"Pack Division","text":"The leadership challenge has torn the pack apart. Some wolves follow the challenger, others remain loyal to Alpha {wolf.name}. The pack may never recover from this division.","condition":{"all":[{"field":"pack.packApproval","op":"<","value":25},{"field":"pack.wolves.length","op":">=","value":6}]},"probability":0.05,"actions":[{"type":"remove_wolf","targetSelector":"lowest_health"},{"type":"remove_wolf","targetSelector":"lowest_health"},{"type":"modify_stat","target":"wolf","stat":"stats.health","delta":-20},{"type":"adjust_approval","delta":-30},{"type":"create_rival_pack","packName":"Broken Bond Exiles","strength":7},{"type":"log","text":"The leadership crisis split the pack! Several wolves left with the challenger, creating a rival pack."}],"tags":["leadership","division","exile","catastrophe"]}],"defaultOutcomeId":"mutual_injury_battle"},{"id":"leadership_challenge_trial","title":"Leadership Challenge - Pack Trial","outcomes":[{"id":"trial_vindication","title":"Alpha Vindicated","text":"The pack's elders conducted a formal trial of Alpha {wolf.name}'s leadership. After hearing testimony from all pack members, they declared the alpha's leadership sound and just.","condition":{"all":[{"field":"pack.packApproval","op":">=","value":40},{"field":"wolf.traits.sociability","op":">=","value":6}]},"probability":0.35,"actions":[{"type":"adjust_approval","delta":20},{"type":"modify_stat","target":"wolf","stat":"traits.sociability","delta":1},{"type":"log","text":"The pack trial vindicated {wolf.name}! Their leadership is stronger than ever after surviving this challenge."}],"tags":["leadership","vindication","pack_support"]},{"id":"conditional_leadership","title":"Conditional Leadership","text":"The pack trial resulted in a compromise. Alpha {wolf.name} retains leadership but must prove themselves worthy through future actions. The pack watches closely.","probability":0.3,"actions":[{"type":"adjust_approval","delta":5},{"type":"modify_stat","target":"wolf","stat":"traits.sociability","delta":1},{"type":"schedule_consequence","consequenceId":"prove_leadership","daysDelay":30},{"type":"log","text":"{wolf.name} retains leadership conditionally. They must prove their worth in the coming days."}],"tags":["leadership","conditional","probation"]},{"id":"peaceful_abdication","title":"Peaceful Abdication","text":"After the pack trial, Alpha {wolf.name} realized their time as leader had passed. They stepped down gracefully, allowing a new wolf to take leadership for the good of the pack.","condition":{"any":[{"field":"pack.packApproval","op":"<","value":35},{"field":"wolf.age","op":">","value":8}]},"probability":0.25,"actions":[{"type":"change_alpha","newAlphaSelector":"beta"},{"type":"adjust_approval","delta":10},{"type":"modify_stat","target":"wolf","stat":"traits.sociability","delta":2},{"type":"log","text":"{wolf.name} stepped down as alpha gracefully. The pack respects their wisdom and sacrifice."}],"tags":["leadership","abdication","wisdom","peaceful_transition"]},{"id":"forced_exile","title":"Exile Decision","text":"The pack trial found Alpha {wolf.name} unfit to lead. By ancient pack law, they were exiled from the territory to prevent further conflict and ensure pack survival.","condition":{"all":[{"field":"pack.packApproval","op":"<","value":20},{"field":"wolf.stats.health","op":"<","value":30}]},"probability":0.1,"actions":[{"type":"remove_wolf","targetSelector":"wolf"},{"type":"change_alpha","newAlphaSelector":"beta"},{"type":"adjust_approval","delta":15},{"type":"log","text":"{wolf.name} was exiled by pack trial. Though painful, the pack moves forward under new leadership."}],"tags":["leadership","exile","banishment","new_beginning"]}],"defaultOutcomeId":"conditional_leadership"},{"id":"leadership_final_judgment","title":"Final Leadership Judgment","outcomes":[{"id":"leadership_confirmed","title":"Leadership Confirmed","text":"Alpha {wolf.name} has proven themselves during the trial period. The pack unanimously confirms their leadership, stronger and more united than ever before.","condition":{"all":[{"field":"pack.packApproval","op":">=","value":60},{"field":"wolf.stats.health","op":">","value":50}]},"probability":0.4,"actions":[{"type":"adjust_approval","delta":25},{"type":"modify_stat","target":"wolf","stat":"traits.sociability","delta":2},{"type":"modify_stat","target":"wolf","stat":"traits.bravery","delta":1},{"type":"log","text":"{wolf.name}'s leadership has been confirmed! The pack's faith is stronger than ever."}],"tags":["leadership","confirmed","triumph"]},{"id":"leadership_maintained","title":"Leadership Maintained","text":"Alpha {wolf.name} has done enough to maintain their position. While not everyone is completely satisfied, the pack accepts their continued leadership for now.","condition":{"all":[{"field":"pack.packApproval","op":">=","value":40},{"field":"pack.packApproval","op":"<","value":60}]},"probability":0.35,"actions":[{"type":"adjust_approval","delta":10},{"type":"modify_stat","target":"wolf","stat":"traits.sociability","delta":1},{"type":"log","text":"{wolf.name} maintains leadership, though some pack members remain skeptical."}],"tags":["leadership","maintained","cautious"]},{"id":"leadership_challenged_again","title":"Renewed Challenge","text":"Alpha {wolf.name} failed to prove themselves adequately during the trial period. A new challenger steps forward, forcing another leadership crisis.","condition":{"all":[{"field":"pack.packApproval","op":"<","value":40},{"field":"pack.wolves.length","op":">=","value":4}]},"probability":0.2,"actions":[{"type":"adjust_approval","delta":-15},{"type":"schedule_consequence","consequenceId":"leadership_challenge_battle","daysDelay":2},{"type":"log","text":"{wolf.name} failed the proving period. A new challenger has emerged to contest their leadership!"}],"tags":["leadership","challenge","crisis_renewed"]},{"id":"graceful_resignation","title":"Graceful Resignation","text":"Recognizing their failure during the proving period, Alpha {wolf.name} chose to step down voluntarily rather than face another challenge. The pack respects their wisdom.","condition":{"any":[{"field":"pack.packApproval","op":"<","value":30},{"field":"wolf.stats.health","op":"<","value":40}]},"probability":0.05,"actions":[{"type":"change_alpha","newAlphaSelector":"beta"},{"type":"adjust_approval","delta":15},{"type":"modify_stat","target":"wolf","stat":"traits.sociability","delta":1},{"type":"log","text":"{wolf.name} stepped down gracefully after failing the proving period. The pack respects their self-awareness."}],"tags":["leadership","resignation","wisdom","respect"]}],"defaultOutcomeId":"leadership_maintained"}]`);function wg({wolf:f,size:i="medium",showDetails:c=!0}){const o={small:"w-16 h-16",medium:"w-24 h-24",large:"w-32 h-32"},u=Y=>{const X={black:"#1a1a1a",dark_brown:"#3d2914",brown:"#8b4513",gray:"#808080",light_gray:"#d3d3d3",white:"#f5f5f5",red:"#b22222",cream:"#f5deb3",silver:"#c0c0c0",tawny:"#cd853f",golden:"#ffd700",russet:"#80461b",sable:"#654321",olive:"#808000"};return X[Y]||X[f.appearance.furColor]||"#8b4513"},h=Y=>({amber:"#ffbf00",brown:"#8b4513",yellow:"#ffff00",gold:"#ffd700",green:"#00ff00",blue:"#0000ff",hazel:"#8e7618",copper:"#b87333"})[Y]||"#ffbf00",g=u(f.appearance.baseColor||f.appearance.furColor),y=f.appearance.markingColor?u(f.appearance.markingColor):void 0,x=h(f.appearance.eyeColor),m={backgroundColor:g,borderColor:y||g},C=()=>r.jsx("div",{className:`${o[i]} bg-gray-700 rounded-full border-2 flex items-center justify-center relative overflow-hidden`,style:m,title:`${f.name} - ${f.appearance.furColor} ${f.appearance.pattern}`,children:r.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[r.jsx("div",{className:"absolute top-1/3 left-1/4 w-2 h-2 rounded-full border border-black",style:{backgroundColor:x}}),r.jsx("div",{className:"absolute top-1/3 right-1/4 w-2 h-2 rounded-full border border-black",style:{backgroundColor:x}}),r.jsx("div",{className:"absolute bottom-1/3 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-black rounded-full"}),f.appearance.pattern!=="solid"&&y&&r.jsx("div",{className:"absolute inset-0 opacity-30",style:{background:f.appearance.pattern==="striped"?`repeating-linear-gradient(45deg, transparent, transparent 2px, ${y} 2px, ${y} 4px)`:f.appearance.pattern==="spotted"||f.appearance.markingType==="spotted"?`radial-gradient(circle at 30% 30%, ${y} 2px, transparent 2px), radial-gradient(circle at 70% 60%, ${y} 1px, transparent 1px)`:`linear-gradient(135deg, ${y} 0%, transparent 50%)`}}),f.appearance.scars.length>0&&r.jsx("div",{className:"absolute top-1/4 right-1/6 w-1 h-3 bg-red-600 opacity-60 transform rotate-45"})]})}),T=()=>r.jsxs("div",{className:"text-xs space-y-1 mt-2",children:[r.jsx("div",{className:"font-semibold text-white",children:f.name}),r.jsxs("div",{className:"text-gray-300",children:[f.appearance.baseColor||f.appearance.furColor," ",f.appearance.pattern]}),r.jsxs("div",{className:"text-gray-400",children:[f.appearance.eyeColor," eyes"]}),f.appearance.scars.length>0&&r.jsxs("div",{className:"text-red-400 text-xs",children:[f.appearance.scars.length," scar",f.appearance.scars.length>1?"s":""]}),f.appearance.bodySize&&r.jsxs("div",{className:"text-gray-400",children:[f.appearance.bodySize," build"]})]});return r.jsxs("div",{className:"flex flex-col items-center",children:[C(),c&&T()]})}function Dg({wolf:f}){const i=f.appearance;return r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Appearance"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Coat:"}),r.jsxs("span",{className:"text-white ml-2",children:[i.baseColor||i.furColor," ",i.pattern]})]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Eyes:"}),r.jsx("span",{className:"text-white ml-2",children:i.eyeColor})]}),i.markingColor&&r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Markings:"}),r.jsxs("span",{className:"text-white ml-2",children:[i.markingColor," ",i.markingType]})]}),i.noseColor&&r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Nose:"}),r.jsx("span",{className:"text-white ml-2",children:i.noseColor})]})]}),r.jsxs("div",{className:"space-y-2",children:[i.furLength&&r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Fur:"}),r.jsxs("span",{className:"text-white ml-2",children:[i.furLength," ",i.furTexture&&`& ${i.furTexture}`]})]}),i.bodySize&&r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Build:"}),r.jsx("span",{className:"text-white ml-2",children:i.bodySize})]}),i.earShape&&r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Ears:"}),r.jsx("span",{className:"text-white ml-2",children:i.earShape})]}),i.tailType&&r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Tail:"}),r.jsx("span",{className:"text-white ml-2",children:i.tailType})]})]})]}),i.scars.length>0&&r.jsx("div",{className:"pt-2 border-t border-gray-700",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Scars:"}),r.jsx("span",{className:"text-red-400 ml-2",children:i.scars.join(", ")})]})})]})}const En={alpha:"#ff6b6b",beta:"#4ecdc4",healer:"#45b7d1",hunter:"#96ceb4",omega:"#ffeaa7",pup:"#fd79a8",elder:"#a29bfe"};function Ag({wolf:f,onClick:i,className:c=""}){const o=()=>i?.(f);return r.jsxs("div",{className:c,onClick:o,style:{backgroundColor:"#2a2a2a",border:`2px solid ${En[f.role]||"#404040"}`,borderRadius:"12px",padding:"18px",color:"#e0e0e0",position:"relative",transition:"transform 0.2s ease, box-shadow 0.2s ease",cursor:i?"pointer":"default"},onMouseOver:u=>{u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow=`0 8px 25px rgba(${En[f.role]?En[f.role].slice(1).match(/.{2}/g)?.map(h=>parseInt(h,16)).join(","):"64,64,64"}, 0.3)`},onMouseOut:u=>{u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="none"},children:[r.jsx("div",{style:{position:"absolute",top:"12px",right:"12px",backgroundColor:En[f.role]||"#666",color:"#1a1a1a",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"bold",textTransform:"uppercase"},children:f.role.replace("_"," ")}),r.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1.3rem",color:En[f.role]||"#e0e0e0"},children:f.name}),r.jsxs("div",{style:{fontSize:"13px",opacity:.8,marginBottom:"12px"},children:[f.sex,"  ",f.age.toFixed(1)," years old"]}),r.jsxs("div",{style:{display:"grid",gap:"6px",fontSize:"14px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Health:"}),r.jsxs("span",{style:{color:f.stats.health>70?"#4caf50":f.stats.health>40?"#ff9800":"#f44336"},children:[f.stats.health,"/100"]})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"8px",margin:"8px 0"},children:[r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"11px",opacity:.7},children:"STR"}),r.jsx("div",{style:{fontWeight:"bold"},children:f.stats.strength.toFixed(2)})]}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"11px",opacity:.7},children:"SPD"}),r.jsx("div",{style:{fontWeight:"bold"},children:f.stats.speed.toFixed(2)})]}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"11px",opacity:.7},children:"INT"}),r.jsx("div",{style:{fontWeight:"bold"},children:f.stats.intelligence.toFixed(2)})]})]}),r.jsxs("div",{style:{marginTop:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("div",{style:{fontSize:"12px",opacity:.8},children:[r.jsxs("div",{children:[f.appearance.furColor," ",f.appearance.pattern]}),r.jsxs("div",{children:[f.appearance.eyeColor," eyes"]})]}),r.jsx(wg,{wolf:f,size:"small",showDetails:!1})]}),r.jsxs("div",{style:{marginTop:"10px",display:"flex",flexWrap:"wrap",gap:"6px"},children:[f.pregnant&&r.jsx("span",{style:{backgroundColor:"#4caf50",color:"#1a1a1a",padding:"2px 6px",borderRadius:"10px",fontSize:"11px",fontWeight:"bold"},children:" Pregnant"}),f.isTraining&&r.jsx("span",{style:{backgroundColor:"#2196f3",color:"#1a1a1a",padding:"2px 6px",borderRadius:"10px",fontSize:"11px",fontWeight:"bold"},children:" Training"}),f.isSick&&r.jsx("span",{style:{backgroundColor:"#f44336",color:"#1a1a1a",padding:"2px 6px",borderRadius:"10px",fontSize:"11px",fontWeight:"bold"},children:" Sick"}),f.xp!==void 0&&f.xp>0&&r.jsxs("span",{style:{backgroundColor:"#ff9800",color:"#1a1a1a",padding:"2px 6px",borderRadius:"10px",fontSize:"11px",fontWeight:"bold"},children:[" Lv.",f.level," (",f.xp,"XP)"]})]})]})]})}function Rg({wolves:f,onWolfSelect:i}){const[c,o]=Se.useState("role"),[u,h]=Se.useState("all"),g=f.filter(x=>!x._dead&&!x._dispersed).filter(x=>u==="all"||x.role===u).sort((x,m)=>{switch(c){case"name":return x.name.localeCompare(m.name);case"role":{const C=["alpha","beta","healer","hunter","omega","elder","pup"];return C.indexOf(x.role)-C.indexOf(m.role)}case"age":return m.age-x.age;case"health":return m.stats.health-x.stats.health;default:return 0}}),y=f.reduce((x,m)=>(!m._dead&&!m._dispersed&&(x[m.role]=(x[m.role]||0)+1),x),{});return r.jsxs("div",{style:{color:"#e0e0e0"},children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsxs("h2",{style:{margin:"0 0 20px 0",color:"#4fc3f7",fontSize:"1.6rem"},children:[" Wolf Roster (",g.length," wolves)"]}),r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"15px",marginBottom:"20px",border:"1px solid #404040"},children:[r.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"1rem",opacity:.9},children:"Pack Composition"}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"10px",fontSize:"13px"},children:Object.entries(y).map(([x,m])=>r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontWeight:"bold",color:"#4fc3f7"},children:m}),r.jsx("div",{style:{opacity:.8,textTransform:"capitalize"},children:x.replace("_"," ")})]},x))})]}),r.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",alignItems:"center",marginBottom:"20px"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",opacity:.8},children:"Sort by:"}),r.jsxs("select",{value:c,onChange:x=>o(x.target.value),style:{backgroundColor:"#2a2a2a",color:"#e0e0e0",border:"1px solid #404040",borderRadius:"6px",padding:"6px 10px",fontSize:"14px"},children:[r.jsx("option",{value:"role",children:"Role"}),r.jsx("option",{value:"name",children:"Name"}),r.jsx("option",{value:"age",children:"Age"}),r.jsx("option",{value:"health",children:"Health"})]})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",opacity:.8},children:"Filter by role:"}),r.jsxs("select",{value:u,onChange:x=>h(x.target.value),style:{backgroundColor:"#2a2a2a",color:"#e0e0e0",border:"1px solid #404040",borderRadius:"6px",padding:"6px 10px",fontSize:"14px"},children:[r.jsx("option",{value:"all",children:"All Roles"}),r.jsx("option",{value:"alpha",children:"Alpha"}),r.jsx("option",{value:"beta",children:"Beta"}),r.jsx("option",{value:"hunter",children:"Hunter"}),r.jsx("option",{value:"healer",children:"Healer"}),r.jsx("option",{value:"omega",children:"Omega"}),r.jsx("option",{value:"elder",children:"Elder"}),r.jsx("option",{value:"pup",children:"Pup"})]})]})]})]}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:g.map(x=>r.jsx(Ag,{wolf:x,...i&&{onClick:i}},x.id))}),g.length===0&&r.jsx("div",{style:{textAlign:"center",padding:"40px",opacity:.6,fontStyle:"italic"},children:"No wolves match the current filter."})]})}const La={alpha:"#ff6b6b",beta:"#4ecdc4",healer:"#45b7d1",hunter:"#96ceb4",omega:"#ffeaa7",pup:"#fd79a8",elder:"#a29bfe"};function Eg({wolf:f,pack:i,onClose:c}){const o=i.wolves.filter(m=>m.id!==f.id&&!m._dead&&!m._dispersed&&f.bonds?.[m.id]).map(m=>{const C=f.bonds[m.id];return{wolf:m,bond:C??0}}).filter(m=>m.bond!==0).sort((m,C)=>Math.abs(C.bond)-Math.abs(m.bond)),u=f.mateId?i.wolves.find(m=>m.id===f.mateId):null,h=f.trainingMentorId?i.wolves.find(m=>m.id===f.trainingMentorId):null,g=i.wolves.filter(m=>m.trainingMentorId===f.id),y=Math.floor(f.age*365),x=f.age<1?`${y} days old`:`${f.age.toFixed(1)} years old (${y} days)`;return r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:c,children:r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"16px",padding:"24px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",color:"#e0e0e0",border:`3px solid ${La[f.role]||"#404040"}`},onClick:m=>m.stopPropagation(),children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"20px"},children:[r.jsxs("div",{children:[r.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"2rem",color:La[f.role]||"#e0e0e0"},children:f.name}),r.jsx("div",{style:{display:"inline-block",backgroundColor:La[f.role]||"#666",color:"#1a1a1a",padding:"6px 12px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",textTransform:"uppercase",marginBottom:"8px"},children:f.role.replace("_"," ")}),r.jsxs("div",{style:{fontSize:"14px",opacity:.8},children:[f.sex,"  ",x]})]}),r.jsx("button",{onClick:c,style:{backgroundColor:"transparent",border:"none",color:"#e0e0e0",fontSize:"24px",cursor:"pointer",padding:"4px",borderRadius:"4px"},children:""})]}),r.jsxs("div",{style:{marginBottom:"24px",display:"flex",flexWrap:"wrap",gap:"8px"},children:[f.pregnant&&r.jsxs("span",{style:{backgroundColor:"#4caf50",color:"#1a1a1a",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold"},children:[" Pregnant (Day"," ",f.pregnancyDay?i.day-f.pregnancyDay:0,"/",14,")"]}),f.isTraining&&r.jsxs("span",{style:{backgroundColor:"#2196f3",color:"#1a1a1a",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold"},children:[" Training (",f.trainingStartDay?i.day-f.trainingStartDay:0," ","days)"]}),f.isSick&&r.jsx("span",{style:{backgroundColor:"#f44336",color:"#1a1a1a",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold"},children:" Sick"})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[r.jsxs("div",{children:[r.jsxs("section",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:"Stats"}),r.jsx("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"8px",padding:"12px"},children:r.jsxs("div",{style:{display:"grid",gap:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Health:"}),r.jsxs("span",{style:{color:f.stats.health>70?"#4caf50":f.stats.health>40?"#ff9800":"#f44336",fontWeight:"bold"},children:[f.stats.health,"/100"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Strength:"}),r.jsxs("span",{style:{fontWeight:"bold"},children:[f.stats.strength.toFixed(2),"/10"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Speed:"}),r.jsxs("span",{style:{fontWeight:"bold"},children:[f.stats.speed.toFixed(2),"/10"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Intelligence:"}),r.jsxs("span",{style:{fontWeight:"bold"},children:[f.stats.intelligence.toFixed(2),"/10"]})]})]})})]}),r.jsxs("section",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:"Traits"}),r.jsx("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"8px",padding:"12px"},children:r.jsxs("div",{style:{display:"grid",gap:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Bravery:"}),r.jsxs("span",{style:{fontWeight:"bold"},children:[f.traits.bravery.toFixed(2),"/10"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Sociability:"}),r.jsxs("span",{style:{fontWeight:"bold"},children:[f.traits.sociability.toFixed(2),"/10"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Trainability:"}),r.jsxs("span",{style:{fontWeight:"bold"},children:[f.traits.trainability.toFixed(2),"/10"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Fertility:"}),r.jsxs("span",{style:{fontWeight:"bold"},children:[f.traits.fertility.toFixed(2),"/10"]})]})]})})]}),r.jsx("div",{style:{marginBottom:"24px"},children:r.jsx(Dg,{wolf:f})})]}),r.jsxs("div",{children:[(f.xp!==void 0||f.level!==void 0)&&r.jsxs("section",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:"Experience"}),r.jsxs("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"8px",padding:"12px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[r.jsx("span",{children:"Level:"}),r.jsx("span",{style:{fontWeight:"bold"},children:f.level||0})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"XP:"}),r.jsxs("span",{style:{fontWeight:"bold"},children:[f.xp||0,"/100"]})]})]})]}),u&&r.jsxs("section",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:"Family"}),r.jsx("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"8px",padding:"12px"},children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Mate:"}),r.jsx("span",{style:{fontWeight:"bold",color:La[u.role]},children:u.name})]})})]}),(h||g.length>0)&&r.jsxs("section",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:"Training"}),r.jsxs("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"8px",padding:"12px"},children:[h&&r.jsx("div",{style:{marginBottom:g.length>0?"8px":"0"},children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Mentor:"}),r.jsx("span",{style:{fontWeight:"bold",color:La[h.role]},children:h.name})]})}),g.length>0&&r.jsxs("div",{children:[r.jsx("div",{style:{marginBottom:"4px",fontWeight:"bold"},children:"Mentees:"}),g.map(m=>r.jsx("div",{style:{fontSize:"13px",color:La[m.role],marginLeft:"8px"},children:m.name},m.id))]})]})]}),o.length>0&&r.jsxs("section",{children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:"Relationships"}),r.jsx("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"8px",padding:"12px"},children:r.jsxs("div",{style:{maxHeight:"200px",overflowY:"auto"},children:[o.slice(0,10).map(({wolf:m,bond:C})=>r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px",fontSize:"13px"},children:[r.jsx("span",{style:{color:La[m.role]},children:m.name}),r.jsxs("span",{style:{color:C>50?"#4caf50":C>0?"#ff9800":"#f44336",fontWeight:"bold"},children:[C>0?"+":"",C]})]},m.id)),o.length>10&&r.jsxs("div",{style:{fontSize:"12px",opacity:.6,textAlign:"center",marginTop:"8px"},children:["+",o.length-10," more relationships"]})]})})]})]})]})]})})}function zg({pack:f}){const[i,c]=Se.useState("all"),[o,u]=Se.useState(!1),h=[...f.logs.map((y,x)=>({id:`log-${x}`,text:y,day:Mg(y),type:zf(y),isEventResult:!1})),...f.eventHistory.map(y=>({id:y.eventId+"-"+y.day,text:y.text,day:y.day,type:Og(y),isEventResult:!0,wolfId:y.wolfId,targetWolfId:y.targetWolfId}))].sort((y,x)=>x.day-y.day).filter(y=>i==="all"||y.type===i),g=o?h:h.filter(y=>!y.isEventResult);return r.jsxs("div",{style:{color:"#e0e0e0"},children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("h2",{style:{margin:"0 0 15px 0",color:"#4fc3f7",fontSize:"1.6rem"},children:" Event Log"}),r.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",alignItems:"center",marginBottom:"15px"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",opacity:.8},children:"Filter by type:"}),r.jsxs("select",{value:i,onChange:y=>c(y.target.value),style:{backgroundColor:"#2a2a2a",color:"#e0e0e0",border:"1px solid #404040",borderRadius:"6px",padding:"6px 10px",fontSize:"14px"},children:[r.jsx("option",{value:"all",children:"All Events"}),r.jsx("option",{value:"hunt",children:"Hunting"}),r.jsx("option",{value:"birth",children:"Births"}),r.jsx("option",{value:"death",children:"Deaths"}),r.jsx("option",{value:"injury",children:"Injuries"}),r.jsx("option",{value:"social",children:"Social"}),r.jsx("option",{value:"training",children:"Training"})]})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("input",{type:"checkbox",id:"show-event-history",checked:o,onChange:y=>u(y.target.checked),style:{marginTop:"20px"}}),r.jsx("label",{htmlFor:"show-event-history",style:{fontSize:"14px",opacity:.8,marginTop:"20px"},children:"Show detailed event history"})]})]}),r.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"12px",marginBottom:"15px",border:"1px solid #404040",fontSize:"13px"},children:r.jsxs("span",{style:{opacity:.8},children:["Showing ",g.length," of ",h.length," total entries",i!=="all"&&`  Filter: ${i}`]})})]}),r.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"12px",border:"1px solid #404040",maxHeight:"600px",overflowY:"auto"},children:g.length===0?r.jsx("div",{style:{padding:"40px",textAlign:"center",opacity:.6,fontStyle:"italic"},children:"No events match the current filter."}):g.map(y=>r.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #404040",display:"flex",alignItems:"flex-start",gap:"12px"},children:[r.jsxs("div",{style:{backgroundColor:"#1a1a1a",color:"#4fc3f7",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"bold",minWidth:"50px",textAlign:"center",flexShrink:0},children:["Day ",y.day]}),r.jsx("div",{style:{backgroundColor:Bg(y.type),color:"#1a1a1a",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"bold",textTransform:"uppercase",flexShrink:0},children:y.type}),r.jsxs("div",{style:{flex:1,fontSize:"14px",lineHeight:"1.4"},children:[y.text.replace(/^Day \d+: /,"")," ",y.isEventResult&&"wolfId"in y&&r.jsxs("div",{style:{fontSize:"12px",opacity:.6,marginTop:"4px"},children:["Event ID: ",y.id.split("-")[0],y.wolfId&&`  Wolf: ${Rf(f,y.wolfId)}`,y.targetWolfId&&`  Target: ${Rf(f,y.targetWolfId)}`]})]})]},y.id))})]})}function Mg(f){const i=f.match(/^Day (\d+):/);return i&&i[1]?parseInt(i[1],10):0}function zf(f){const i=f.toLowerCase();return i.includes("hunt")||i.includes("prey")||i.includes("catch")?"hunt":i.includes("birth")||i.includes("born")||i.includes("pup")?"birth":i.includes("died")||i.includes("death")||i.includes("killed")?"death":i.includes("injured")||i.includes("hurt")||i.includes("wounded")?"injury":i.includes("training")||i.includes("learn")||i.includes("mentor")?"training":i.includes("bond")||i.includes("friend")||i.includes("rival")?"social":"all"}function Og(f){const i=f.text.toLowerCase();return f.eventId.includes("hunt")?"hunt":f.eventId.includes("birth")||f.eventId.includes("pup")?"birth":f.eventId.includes("death")||f.eventId.includes("injury")?"injury":f.eventId.includes("train")?"training":f.eventId.includes("social")||f.eventId.includes("bond")?"social":zf(i)}function Bg(f){switch(f){case"hunt":return"#4caf50";case"birth":return"#e91e63";case"death":return"#f44336";case"injury":return"#ff9800";case"social":return"#9c27b0";case"training":return"#2196f3";default:return"#666"}}function Rf(f,i){return f.wolves.find(o=>o.id===i)?.name||"Unknown"}function Hg({pack:f,onPackUpdate:i,simulationEngine:c}){const[o,u]=Se.useState(null),[h,g]=Se.useState(null),y=Mn(f,"healer").filter(oe),x=o||y[0]||null,m=c.getHealerEngine(),C=()=>{if(!x||!h)return;const q={...f};try{const b=m.healWolf(x,h,q);q.logs.push(`Day ${q.day}: ${x.name} ${b.success?"successfully ":"failed to "}heal ${h.name}.`),i(q),g(null)}catch(b){console.error("Healing failed:",b)}},T=()=>{if(!x)return;const q={...f};m.autoHeal(x,q,3).forEach(O=>{const U=q.wolves.find(te=>te.id===O.patientId);q.logs.push(`Day ${q.day}: ${x.name} ${O.success?"successfully ":"failed to "}heal ${U?.name}.`)}),i(q)},Y=()=>{if(!x)return;const q={...f};m.gatherHerbs(x,q),i(q)},X=()=>{if(!x)return;const q={...f},b=m.visitCrystalPool(x,q);b&&q.logs.push(`Day ${q.day}: ${x.name} received a prophecy: "${b.text}"`),i(q)},ee=m.getWolvesNeedingHealing(f),Z=x?m.getHealerStatus(x,f):null;return r.jsxs("div",{style:{color:"#e0e0e0"},children:[r.jsx("h2",{style:{margin:"0 0 20px 0",color:"#4fc3f7",fontSize:"1.6rem"},children:" Healer Panel"}),y.length===0?r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"12px",padding:"24px",textAlign:"center",border:"1px solid #404040"},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.5},children:""}),r.jsx("h3",{style:{margin:"0 0 8px 0",opacity:.8},children:"No Healers Available"}),r.jsx("p",{style:{margin:0,opacity:.6},children:"Your pack needs a healer to tend to wounded wolves and discover prophecies."})]}):r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[r.jsxs("div",{children:[y.length>1&&r.jsxs("section",{style:{marginBottom:"20px"},children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#45b7d1",fontSize:"1.2rem"},children:"Select Healer"}),r.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:y.map(q=>r.jsx("button",{onClick:()=>u(q),style:{backgroundColor:x?.id===q.id?"#45b7d1":"#2a2a2a",color:x?.id===q.id?"#1a1a1a":"#e0e0e0",border:"1px solid #404040",borderRadius:"8px",padding:"8px 12px",fontSize:"14px",cursor:"pointer",fontWeight:x?.id===q.id?"bold":"normal"},children:q.name},q.id))})]}),x&&Z&&r.jsxs("section",{style:{marginBottom:"20px"},children:[r.jsxs("h3",{style:{margin:"0 0 12px 0",color:"#45b7d1",fontSize:"1.2rem"},children:[x.name," - Healer Status"]}),r.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"16px",border:"1px solid #404040"},children:r.jsxs("div",{style:{display:"grid",gap:"8px",fontSize:"14px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Health:"}),r.jsxs("span",{style:{color:x.stats.health>70?"#4caf50":x.stats.health>40?"#ff9800":"#f44336",fontWeight:"bold"},children:[x.stats.health,"/100"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Intelligence:"}),r.jsxs("span",{style:{fontWeight:"bold"},children:[x.stats.intelligence,"/10"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Remaining Tends:"}),r.jsxs("span",{style:{fontWeight:"bold"},children:[Z.remainingTends,"/5"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Can Heal:"}),r.jsx("span",{style:{color:Z.canHeal?"#4caf50":"#f44336",fontWeight:"bold"},children:Z.canHeal?"Yes":"No"})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Prophecy Power:"}),r.jsxs("span",{style:{fontWeight:"bold"},children:[Z.prophecyPower,"/5"]})]})]})})]}),x&&r.jsxs("section",{style:{marginBottom:"20px"},children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#45b7d1",fontSize:"1.2rem"},children:"Healer Actions"}),r.jsxs("div",{style:{display:"grid",gap:"10px"},children:[r.jsxs("button",{onClick:T,disabled:!Z?.canHeal||ee.length===0,style:{backgroundColor:Z?.canHeal&&ee.length>0?"#4caf50":"#666",color:"#1a1a1a",border:"none",borderRadius:"8px",padding:"12px",fontSize:"14px",fontWeight:"bold",cursor:Z?.canHeal&&ee.length>0?"pointer":"not-allowed",opacity:Z?.canHeal&&ee.length>0?1:.5},children:[" Auto-Heal Most Injured (Uses"," ",Math.min(3,ee.length)," herbs)"]}),r.jsx("button",{onClick:Y,style:{backgroundColor:"#4fc3f7",color:"#1a1a1a",border:"none",borderRadius:"8px",padding:"12px",fontSize:"14px",fontWeight:"bold",cursor:"pointer"},children:" Gather Herbs"}),r.jsxs("button",{onClick:X,style:{backgroundColor:"#9c27b0",color:"#1a1a1a",border:"none",borderRadius:"8px",padding:"12px",fontSize:"14px",fontWeight:"bold",cursor:"pointer"},children:[" Visit Crystal Pool (",f.prophecyPower,"/5 power)"]})]})]}),r.jsxs("section",{children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#45b7d1",fontSize:"1.2rem"},children:"Pack Resources"}),r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"16px",border:"1px solid #404040"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[r.jsx("span",{children:"Herbs:"}),r.jsx("span",{style:{fontWeight:"bold",color:"#4caf50"},children:f.herbs})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Prophecy Power:"}),r.jsxs("span",{style:{fontWeight:"bold",color:"#9c27b0"},children:[f.prophecyPower,"/5"]})]})]})]})]}),r.jsxs("div",{children:[r.jsxs("section",{style:{marginBottom:"20px"},children:[r.jsxs("h3",{style:{margin:"0 0 12px 0",color:"#45b7d1",fontSize:"1.2rem"},children:["Wolves Needing Healing (",ee.length,")"]}),ee.length===0?r.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"16px",textAlign:"center",border:"1px solid #404040",opacity:.6},children:"All wolves are healthy! "}):r.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",border:"1px solid #404040",maxHeight:"200px",overflowY:"auto"},children:ee.map(q=>r.jsxs("div",{onClick:()=>g(q),style:{padding:"12px",borderBottom:"1px solid #404040",cursor:"pointer",backgroundColor:h?.id===q.id?"#404040":"transparent",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("div",{children:[r.jsx("div",{style:{fontWeight:"bold"},children:q.name}),r.jsxs("div",{style:{fontSize:"12px",opacity:.8},children:[q.role,"  ",q.age.toFixed(1),"y",q.isSick&&"   Sick"]})]}),r.jsxs("div",{style:{color:q.stats.health>70?"#4caf50":q.stats.health>40?"#ff9800":"#f44336",fontWeight:"bold"},children:[q.stats.health,"/100"]})]},q.id))}),h&&x&&Z?.canHeal&&r.jsxs("button",{onClick:C,style:{marginTop:"10px",width:"100%",backgroundColor:"#4caf50",color:"#1a1a1a",border:"none",borderRadius:"8px",padding:"10px",fontSize:"14px",fontWeight:"bold",cursor:"pointer"},children:[" Heal ",h.name," (Uses 1 herb)"]})]}),r.jsxs("section",{children:[r.jsxs("h3",{style:{margin:"0 0 12px 0",color:"#45b7d1",fontSize:"1.2rem"},children:["Prophecies (",f.prophecies.length,")"]}),f.prophecies.length===0?r.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"16px",textAlign:"center",border:"1px solid #404040",opacity:.6},children:"No prophecies yet. Visit the Crystal Pool to receive visions of the future."}):r.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",border:"1px solid #404040",maxHeight:"300px",overflowY:"auto"},children:f.prophecies.map(q=>r.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid #404040"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[r.jsx("span",{style:{backgroundColor:q.completed?"#4caf50":"#ff9800",color:"#1a1a1a",padding:"2px 6px",borderRadius:"10px",fontSize:"11px",fontWeight:"bold"},children:q.completed?" FULFILLED":"IN PROGRESS"}),r.jsxs("span",{style:{fontSize:"12px",opacity:.6},children:[Math.round(q.progress*100),"%"]})]}),r.jsxs("div",{style:{fontSize:"13px",fontStyle:"italic",lineHeight:"1.4",color:q.completed?"#4caf50":"#e0e0e0"},children:['"',q.text,'"']}),q.targetWolfId&&r.jsxs("div",{style:{fontSize:"12px",opacity:.6,marginTop:"4px"},children:["Target:"," ",f.wolves.find(b=>b.id===q.targetWolfId)?.name||"Unknown"]})]},q.id))})]})]})]})]})}const Ng={forest:"#4caf50",mountain:"#9e9e9e",plains:"#8bc34a",tundra:"#90caf9",desert:"#ffc107",swamp:"#795548"},Ug={forest:"",mountain:"",plains:"",tundra:"",desert:"",swamp:""};function qg({pack:f,onPackUpdate:i}){const[c,o]=Se.useState(null),u=f.territory||{biome:"forest",rivalPacks:[{id:"rival_1",name:"Shadowfang Pack",strength:6,aggression:4},{id:"rival_2",name:"Iron Claw Pack",strength:8,aggression:7}],foodRichness:7,herbAbundance:6,dangerLevel:4},h=()=>{const T={...f};T.territory||(T.territory=u);const Y=Math.random();if(Y<.3){const X=Math.floor(Math.random()*3)+1;T.herbs+=X,T.logs.push(`Day ${T.day}: The pack explored the territory and found ${X} herbs.`)}else Y<.6?T.logs.push(`Day ${T.day}: The pack explored the territory but found nothing of value.`):T.logs.push(`Day ${T.day}: While exploring, the pack discovered signs of rival activity nearby.`);i(T)},g=()=>{const T={...f};T.territory||(T.territory=u),Math.random()<.7?T.logs.push(`Day ${T.day}: The patrol successfully secured the borders. Rival activity has decreased.`):T.logs.push(`Day ${T.day}: The patrol encountered signs of a rival pack but managed to avoid confrontation.`),i(T)},y=()=>{const T={...f};T.territory||(T.territory=u),T.logs.push(`Day ${T.day}: The pack marked their territory, strengthening their claim to the land.`),i(T)},x=T=>T>=8?"#f44336":T>=6?"#ff9800":T>=4?"#ffeb3b":"#4caf50",m=T=>T>=8?"#d32f2f":T>=6?"#f57c00":T>=4?"#fbc02d":"#388e3c",C=T=>T>=8?"Extremely Dangerous":T>=6?"Very Dangerous":T>=4?"Moderately Dangerous":T>=2?"Slightly Dangerous":"Safe";return r.jsxs("div",{style:{color:"#e0e0e0"},children:[r.jsx("h2",{style:{margin:"0 0 20px 0",color:"#4fc3f7",fontSize:"1.6rem"},children:" Territory Management"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[r.jsxs("div",{children:[r.jsxs("section",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:"Territory Overview"}),r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"12px",padding:"20px",border:"1px solid #404040"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px"},children:[r.jsx("span",{style:{fontSize:"32px",marginRight:"12px"},children:Ug[u.biome]||""}),r.jsxs("div",{children:[r.jsxs("h4",{style:{margin:"0 0 4px 0",color:Ng[u.biome]||"#4fc3f7",textTransform:"capitalize"},children:[u.biome," Territory"]}),r.jsxs("div",{style:{fontSize:"14px",opacity:.8},children:[f.name," Homeland"]})]})]}),r.jsxs("div",{style:{display:"grid",gap:"8px",fontSize:"14px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Food Richness:"}),r.jsxs("span",{style:{fontWeight:"bold"},children:[u.foodRichness,"/10"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Herb Abundance:"}),r.jsxs("span",{style:{fontWeight:"bold"},children:[u.herbAbundance,"/10"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Danger Level:"}),r.jsx("span",{style:{fontWeight:"bold",color:u.dangerLevel>=6?"#f44336":u.dangerLevel>=4?"#ff9800":"#4caf50"},children:C(u.dangerLevel)})]})]})]})]}),r.jsxs("section",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:"Territory Actions"}),r.jsxs("div",{style:{display:"grid",gap:"12px"},children:[r.jsx("button",{onClick:h,style:{backgroundColor:"#4caf50",color:"#1a1a1a",border:"none",borderRadius:"8px",padding:"12px",fontSize:"14px",fontWeight:"bold",cursor:"pointer"},children:" Explore Territory"}),r.jsx("button",{onClick:g,style:{backgroundColor:"#ff9800",color:"#1a1a1a",border:"none",borderRadius:"8px",padding:"12px",fontSize:"14px",fontWeight:"bold",cursor:"pointer"},children:" Patrol Borders"}),r.jsx("button",{onClick:y,style:{backgroundColor:"#9c27b0",color:"#1a1a1a",border:"none",borderRadius:"8px",padding:"12px",fontSize:"14px",fontWeight:"bold",cursor:"pointer"},children:" Mark Territory"})]})]}),r.jsxs("section",{children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:"Territory Statistics"}),r.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"16px",border:"1px solid #404040"},children:r.jsxs("div",{style:{display:"grid",gap:"12px",fontSize:"14px"},children:[r.jsxs("div",{children:[r.jsx("div",{style:{marginBottom:"4px",opacity:.8},children:"Hunt Success Modifier"}),r.jsx("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"4px",height:"8px",overflow:"hidden"},children:r.jsx("div",{style:{backgroundColor:"#4caf50",height:"100%",width:`${u.foodRichness/10*100}%`}})}),r.jsxs("div",{style:{fontSize:"12px",opacity:.6,marginTop:"2px"},children:["+",Math.round((u.foodRichness-5)*10),"% success rate"]})]}),r.jsxs("div",{children:[r.jsx("div",{style:{marginBottom:"4px",opacity:.8},children:"Herb Gathering Bonus"}),r.jsx("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"4px",height:"8px",overflow:"hidden"},children:r.jsx("div",{style:{backgroundColor:"#4fc3f7",height:"100%",width:`${u.herbAbundance/10*100}%`}})}),r.jsxs("div",{style:{fontSize:"12px",opacity:.6,marginTop:"2px"},children:["+",Math.round((u.herbAbundance-5)*20),"% more herbs"]})]}),r.jsxs("div",{children:[r.jsx("div",{style:{marginBottom:"4px",opacity:.8},children:"Injury Risk"}),r.jsx("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"4px",height:"8px",overflow:"hidden"},children:r.jsx("div",{style:{backgroundColor:"#f44336",height:"100%",width:`${u.dangerLevel/10*100}%`}})}),r.jsxs("div",{style:{fontSize:"12px",opacity:.6,marginTop:"2px"},children:["+",Math.round(u.dangerLevel*5),"% injury chance"]})]})]})})]})]}),r.jsx("div",{children:r.jsxs("section",{children:[r.jsxs("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:["Rival Packs (",u.rivalPacks.length,")"]}),u.rivalPacks.length===0?r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"20px",textAlign:"center",border:"1px solid #404040",opacity:.6},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:"12px"},children:""}),r.jsx("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:"Peaceful Territory"}),r.jsx("div",{style:{fontSize:"14px"},children:"No rival packs detected in your territory."})]}):r.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",border:"1px solid #404040",maxHeight:"400px",overflowY:"auto"},children:u.rivalPacks.map(T=>r.jsxs("div",{onClick:()=>o(T),style:{padding:"16px",borderBottom:"1px solid #404040",cursor:"pointer",backgroundColor:c?.id===T.id?"#404040":"transparent"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"12px"},children:[r.jsxs("div",{children:[r.jsx("div",{style:{fontWeight:"bold",fontSize:"16px"},children:T.name}),T.lastRaidDay&&r.jsxs("div",{style:{fontSize:"12px",opacity:.6},children:["Last raid: Day ",T.lastRaidDay]})]}),r.jsx("span",{style:{fontSize:"20px"},children:""})]}),r.jsxs("div",{style:{display:"grid",gap:"8px",fontSize:"13px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Strength:"}),r.jsxs("span",{style:{fontWeight:"bold",color:x(T.strength)},children:[T.strength,"/10"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Aggression:"}),r.jsxs("span",{style:{fontWeight:"bold",color:m(T.aggression)},children:[T.aggression,"/10"]})]})]}),r.jsxs("div",{style:{marginTop:"12px"},children:[r.jsx("div",{style:{fontSize:"12px",opacity:.8,marginBottom:"4px"},children:"Threat Level:"}),r.jsx("div",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"bold",backgroundColor:T.strength+T.aggression>=15?"#f44336":T.strength+T.aggression>=10?"#ff9800":"#4caf50",color:"#1a1a1a",display:"inline-block"},children:T.strength+T.aggression>=15?"EXTREME":T.strength+T.aggression>=10?"HIGH":"MODERATE"})]})]},T.id))}),c&&r.jsxs("div",{style:{marginTop:"16px"},children:[r.jsxs("h4",{style:{margin:"0 0 8px 0",color:"#ff9800",fontSize:"1rem"},children:["Actions vs ",c.name]}),r.jsxs("div",{style:{display:"grid",gap:"8px"},children:[r.jsx("button",{onClick:()=>{const T={...f};T.logs.push(`Day ${T.day}: Scouts were sent to monitor ${c.name}'s territory.`),i(T)},style:{backgroundColor:"#2196f3",color:"#1a1a1a",border:"none",borderRadius:"6px",padding:"8px 12px",fontSize:"13px",fontWeight:"bold",cursor:"pointer"},children:" Send Scouts"}),r.jsx("button",{onClick:()=>{const T={...f};T.logs.push(`Day ${T.day}: A diplomatic envoy was sent to ${c.name}.`),i(T)},style:{backgroundColor:"#4caf50",color:"#1a1a1a",border:"none",borderRadius:"6px",padding:"8px 12px",fontSize:"13px",fontWeight:"bold",cursor:"pointer"},children:" Diplomacy"}),r.jsx("button",{onClick:()=>{const T={...f};T.logs.push(`Day ${T.day}: The pack prepares for potential conflict with ${c.name}.`),i(T)},style:{backgroundColor:"#f44336",color:"#1a1a1a",border:"none",borderRadius:"6px",padding:"8px 12px",fontSize:"13px",fontWeight:"bold",cursor:"pointer"},children:" Prepare for War"})]})]})]})})]})]})}function kg({pack:f,onWolfSelect:i}){const[c,o]=Se.useState(null),[u,h]=Se.useState(null),y=ft(f).filter(Rl),x=y.filter(b=>b.sex==="female"&&!b.pregnant),m=y.filter(b=>b.sex==="male"),C=(b,O)=>{const U=Math.abs(b.stats.strength-O.stats.strength)+Math.abs(b.stats.speed-O.stats.speed)+Math.abs(b.stats.intelligence-O.stats.intelligence),te=Math.abs(b.traits.bravery-O.traits.bravery)+Math.abs(b.traits.sociability-O.traits.sociability)+Math.abs(b.traits.trainability-O.traits.trainability),$=b.bonds?.[O.id],ke=$?Math.abs($)/100:0,Ge=(b.traits.fertility+O.traits.fertility)/20,Ye=Math.min(1,2-Math.abs(b.age-4)/4+2-Math.abs(O.age-4)/4)/2,Pe=U/30*.3+te/30*.3+ke*.2+Ge*.15+Ye*.05;return Math.min(1,Math.max(0,Pe))},T=(b,O)=>{const U=(te,$)=>(te+$)/2;return{strength:U(b.stats.strength,O.stats.strength),speed:U(b.stats.speed,O.stats.speed),intelligence:U(b.stats.intelligence,O.stats.intelligence),bravery:U(b.traits.bravery,O.traits.bravery),sociability:U(b.traits.sociability,O.traits.sociability),trainability:U(b.traits.trainability,O.traits.trainability),fertility:U(b.traits.fertility,O.traits.fertility)}},Y=()=>{const b=[];return x.forEach(O=>{m.forEach(U=>{if(O.id!==U.id){const te=C(O,U),$=T(O,U);b.push({mother:O,father:U,compatibility:te,estimatedTraits:$})}})}),b.sort((O,U)=>U.compatibility-O.compatibility).slice(0,10)},X=b=>b>=.8?"#4caf50":b>=.6?"#8bc34a":b>=.4?"#ff9800":b>=.2?"#f44336":"#9e9e9e",ee=b=>b>=.8?"Excellent":b>=.6?"Good":b>=.4?"Fair":b>=.2?"Poor":"Very Poor",Z=b=>b>=8?"#4caf50":b>=6?"#8bc34a":b>=4?"#ff9800":"#f44336",q=Y();return r.jsxs("div",{style:{color:"#e0e0e0"},children:[r.jsx("h2",{style:{margin:"0 0 20px 0",color:"#4fc3f7",fontSize:"1.6rem"},children:" Genetics & Breeding Analysis"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[r.jsxs("div",{children:[r.jsxs("section",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:"Breeding Calculator"}),r.jsxs("div",{style:{marginBottom:"16px"},children:[r.jsxs("h4",{style:{margin:"0 0 8px 0",color:"#ff9800"},children:["Select Mother (",x.length," available)"]}),r.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",border:"1px solid #404040",maxHeight:"120px",overflowY:"auto"},children:x.length===0?r.jsx("div",{style:{padding:"16px",textAlign:"center",opacity:.6},children:"No breeding-age females available"}):x.map(b=>r.jsxs("div",{onClick:()=>o(b),style:{padding:"8px 12px",borderBottom:"1px solid #404040",cursor:"pointer",backgroundColor:c?.id===b.id?"#404040":"transparent",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{style:{fontWeight:"bold"},children:b.name}),r.jsxs("span",{style:{fontSize:"12px",opacity:.7},children:["Fertility: ",b.traits.fertility.toFixed(1)]})]},b.id))})]}),r.jsxs("div",{style:{marginBottom:"16px"},children:[r.jsxs("h4",{style:{margin:"0 0 8px 0",color:"#2196f3"},children:["Select Father (",m.length," available)"]}),r.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",border:"1px solid #404040",maxHeight:"120px",overflowY:"auto"},children:m.length===0?r.jsx("div",{style:{padding:"16px",textAlign:"center",opacity:.6},children:"No breeding-age males available"}):m.map(b=>r.jsxs("div",{onClick:()=>h(b),style:{padding:"8px 12px",borderBottom:"1px solid #404040",cursor:"pointer",backgroundColor:u?.id===b.id?"#404040":"transparent",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{style:{fontWeight:"bold"},children:b.name}),r.jsxs("span",{style:{fontSize:"12px",opacity:.7},children:["Fertility: ",b.traits.fertility.toFixed(1)]})]},b.id))})]}),c&&u&&r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"16px",border:"1px solid #404040"},children:[r.jsxs("h4",{style:{margin:"0 0 12px 0",color:"#4caf50",textAlign:"center"},children:[c.name,"  ",u.name]}),(()=>{const b=C(c,u),O=T(c,u);return r.jsxs(r.Fragment,{children:[r.jsx("div",{style:{textAlign:"center",marginBottom:"16px"},children:r.jsxs("span",{style:{backgroundColor:X(b),color:"#1a1a1a",padding:"6px 12px",borderRadius:"12px",fontSize:"14px",fontWeight:"bold"},children:[ee(b)," Match (",(b*100).toFixed(0),"%)"]})}),r.jsxs("div",{children:[r.jsx("h5",{style:{margin:"0 0 8px 0",color:"#4fc3f7"},children:"Estimated Offspring Stats:"}),r.jsxs("div",{style:{display:"grid",gap:"4px",fontSize:"13px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Strength:"}),r.jsx("span",{style:{fontWeight:"bold",color:Z(O.strength)},children:O.strength.toFixed(1)})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Speed:"}),r.jsx("span",{style:{fontWeight:"bold",color:Z(O.speed)},children:O.speed.toFixed(1)})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Intelligence:"}),r.jsx("span",{style:{fontWeight:"bold",color:Z(O.intelligence)},children:O.intelligence.toFixed(1)})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Bravery:"}),r.jsx("span",{style:{fontWeight:"bold",color:Z(O.bravery)},children:O.bravery.toFixed(1)})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Sociability:"}),r.jsx("span",{style:{fontWeight:"bold",color:Z(O.sociability)},children:O.sociability.toFixed(1)})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Trainability:"}),r.jsx("span",{style:{fontWeight:"bold",color:Z(O.trainability)},children:O.trainability.toFixed(1)})]})]})]})]})})()]})]}),r.jsxs("section",{children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:"Pack Genetic Diversity"}),r.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"16px",border:"1px solid #404040"},children:(()=>{const b=y.reduce((O,U)=>({strength:O.strength+U.stats.strength,speed:O.speed+U.stats.speed,intelligence:O.intelligence+U.stats.intelligence,bravery:O.bravery+U.traits.bravery,sociability:O.sociability+U.traits.sociability,trainability:O.trainability+U.traits.trainability,fertility:O.fertility+U.traits.fertility}),{strength:0,speed:0,intelligence:0,bravery:0,sociability:0,trainability:0,fertility:0});return y.length>0&&Object.keys(b).forEach(O=>{b[O]/=y.length}),r.jsxs("div",{style:{display:"grid",gap:"8px",fontSize:"14px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Breeding Population:"}),r.jsxs("span",{style:{fontWeight:"bold"},children:[y.length," wolves"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Avg Strength:"}),r.jsx("span",{style:{fontWeight:"bold",color:Z(b.strength)},children:b.strength.toFixed(1)})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Avg Speed:"}),r.jsx("span",{style:{fontWeight:"bold",color:Z(b.speed)},children:b.speed.toFixed(1)})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Avg Intelligence:"}),r.jsx("span",{style:{fontWeight:"bold",color:Z(b.intelligence)},children:b.intelligence.toFixed(1)})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Avg Fertility:"}),r.jsx("span",{style:{fontWeight:"bold",color:Z(b.fertility)},children:b.fertility.toFixed(1)})]})]})})()})]})]}),r.jsx("div",{children:r.jsxs("section",{children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:"Recommended Breeding Pairs"}),q.length===0?r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"20px",textAlign:"center",border:"1px solid #404040",opacity:.6},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:"12px"},children:""}),r.jsx("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:"No Breeding Pairs Available"}),r.jsx("div",{style:{fontSize:"14px"},children:"Need at least one breeding-age male and female."})]}):r.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",border:"1px solid #404040",maxHeight:"600px",overflowY:"auto"},children:q.map((b,O)=>r.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #404040"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[r.jsxs("div",{children:[r.jsxs("span",{style:{fontSize:"18px",marginRight:"8px"},children:["#",O+1]}),r.jsx("span",{style:{fontWeight:"bold",color:"#ff9800",cursor:"pointer"},onClick:()=>i?.(b.mother),children:b.mother.name}),r.jsx("span",{style:{margin:"0 8px",opacity:.6},children:""}),r.jsx("span",{style:{fontWeight:"bold",color:"#2196f3",cursor:"pointer"},onClick:()=>i?.(b.father),children:b.father.name})]}),r.jsxs("span",{style:{backgroundColor:X(b.compatibility),color:"#1a1a1a",padding:"4px 8px",borderRadius:"10px",fontSize:"12px",fontWeight:"bold"},children:[(b.compatibility*100).toFixed(0),"%"]})]}),r.jsxs("div",{style:{fontSize:"13px",opacity:.8},children:[r.jsx("div",{children:"Expected offspring stats:"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"8px",marginTop:"8px"},children:[r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"11px",opacity:.7},children:"STR"}),r.jsx("div",{style:{fontWeight:"bold",color:Z(b.estimatedTraits.strength)},children:b.estimatedTraits.strength.toFixed(1)})]}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"11px",opacity:.7},children:"SPD"}),r.jsx("div",{style:{fontWeight:"bold",color:Z(b.estimatedTraits.speed)},children:b.estimatedTraits.speed.toFixed(1)})]}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"11px",opacity:.7},children:"INT"}),r.jsx("div",{style:{fontWeight:"bold",color:Z(b.estimatedTraits.intelligence)},children:b.estimatedTraits.intelligence.toFixed(1)})]})]})]})]},`${b.mother.id}-${b.father.id}`))})]})})]})]})}const Ki="1.0.0",Ji="packgen_saves",Ef=10;class Dt{static saveGame(i,c){const o=this.getSavedGames(),u=c||`${i.name} - Day ${i.day}`,h={id:Date.now().toString(),name:u,pack:JSON.parse(JSON.stringify(i)),savedAt:Date.now(),version:Ki};return o.unshift(h),o.length>Ef&&o.splice(Ef),this.savesToStorage(o),h}static loadGame(i){const o=this.getSavedGames().find(u=>u.id===i);return o?(o.version!==Ki&&console.warn(`Save version mismatch: ${o.version} vs ${Ki}`),JSON.parse(JSON.stringify(o.pack))):null}static deleteSave(i){const c=this.getSavedGames(),o=c.findIndex(u=>u.id===i);return o===-1?!1:(c.splice(o,1),this.savesToStorage(c),!0)}static getSavedGames(){try{const i=localStorage.getItem(Ji);return i?JSON.parse(i).sort((o,u)=>u.savedAt-o.savedAt):[]}catch(i){return console.error("Failed to load saved games:",i),[]}}static exportGame(i){const c={pack:i,exportedAt:Date.now(),version:Ki};return JSON.stringify(c,null,2)}static importGame(i){try{const c=JSON.parse(i);if(!c.pack)throw new Error("Invalid save format: missing pack data");if(!c.pack.name||!c.pack.wolves||!Array.isArray(c.pack.wolves))throw new Error("Invalid pack data structure");return c.pack}catch(c){return console.error("Failed to import game:",c),null}}static createAutoSave(i){return this.saveGame(i,`[AUTO] ${i.name} - Day ${i.day}`)}static getStorageUsage(){try{const i=localStorage.getItem(Ji);return i?new Blob([i]).size:0}catch{return 0}}static clearAllSaves(){localStorage.removeItem(Ji)}static savesToStorage(i){try{localStorage.setItem(Ji,JSON.stringify(i))}catch(c){throw console.error("Failed to save to localStorage:",c),c}}}function Gg(f){return new Date(f).toLocaleString()}function Yg(f){return f<1024?`${f} B`:f<1024*1024?`${(f/1024).toFixed(1)} KB`:`${(f/(1024*1024)).toFixed(1)} MB`}function Wg(f){const i=f.wolves.filter(c=>!c._dead&&!c._dispersed);return`${f.season}  ${i.length} wolves  ${f.herbs} herbs`}function Lg({pack:f,onPackLoad:i,onSaveComplete:c}){const[o,u]=Se.useState(()=>Dt.getSavedGames()),[h,g]=Se.useState(""),[y,x]=Se.useState(null),[m,C]=Se.useState(!1),[T,Y]=Se.useState(""),[X,ee]=Se.useState(""),[Z,q]=Se.useState(!1),b=Se.useRef(null),O=()=>{u(Dt.getSavedGames())},U=()=>{try{const Q=Dt.saveGame(f,h||void 0);g(""),O(),c?.(Q)}catch(Q){console.error("Failed to save game:",Q),alert("Failed to save game. Check browser storage.")}},te=Q=>{try{const Ce=Dt.loadGame(Q);Ce?i(Ce):alert("Failed to load game.")}catch(Ce){console.error("Failed to load game:",Ce),alert("Failed to load game.")}},$=Q=>{confirm("Are you sure you want to delete this save?")&&(Dt.deleteSave(Q),O(),y?.id===Q&&x(null))},ke=()=>{try{const Q=Dt.exportGame(f);Y(Q),C(!0)}catch(Q){console.error("Failed to export game:",Q),alert("Failed to export game.")}},Ge=()=>{const Q=new Blob([T],{type:"application/json"}),Ce=URL.createObjectURL(Q),Qe=document.createElement("a");Qe.href=Ce,Qe.download=`${f.name.replace(/[^a-z0-9]/gi,"_")}_Day${f.day}.json`,document.body.appendChild(Qe),Qe.click(),document.body.removeChild(Qe),URL.revokeObjectURL(Ce)},Ye=()=>{try{const Q=Dt.importGame(X);Q?(i(Q),ee(""),q(!1)):alert("Invalid save data format.")}catch(Q){console.error("Failed to import game:",Q),alert("Failed to import game. Check the format.")}},Pe=Q=>{const Ce=Q.target.files?.[0];if(Ce){const Qe=new FileReader;Qe.onload=Be=>{const z=Be.target?.result;ee(z),q(!0)},Qe.readAsText(Ce)}},$t=()=>{confirm("Are you sure you want to delete ALL saved games? This cannot be undone.")&&(Dt.clearAllSaves(),O(),x(null))},Tt=Dt.getStorageUsage();return r.jsxs("div",{style:{color:"#e0e0e0"},children:[r.jsx("h2",{style:{margin:"0 0 20px 0",color:"#4fc3f7",fontSize:"1.6rem"},children:" Save & Load"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[r.jsxs("div",{children:[r.jsxs("section",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:"Save Current Game"}),r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"16px",border:"1px solid #404040"},children:[r.jsxs("div",{style:{marginBottom:"12px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px"},children:"Save Name (optional):"}),r.jsx("input",{type:"text",value:h,onChange:Q=>g(Q.target.value),placeholder:`${f.name} - Day ${f.day}`,style:{width:"100%",padding:"8px",backgroundColor:"#1a1a1a",border:"1px solid #404040",borderRadius:"4px",color:"#e0e0e0",fontSize:"14px"}})]}),r.jsx("button",{onClick:U,style:{width:"100%",backgroundColor:"#4caf50",color:"#1a1a1a",border:"none",borderRadius:"6px",padding:"10px",fontSize:"14px",fontWeight:"bold",cursor:"pointer"},children:" Save Game"})]})]}),r.jsxs("section",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:"Import & Export"}),r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"16px",border:"1px solid #404040"},children:[r.jsxs("div",{style:{display:"grid",gap:"8px"},children:[r.jsx("button",{onClick:ke,style:{backgroundColor:"#2196f3",color:"#1a1a1a",border:"none",borderRadius:"6px",padding:"8px",fontSize:"13px",fontWeight:"bold",cursor:"pointer"},children:" Export Current Game"}),r.jsx("button",{onClick:()=>b.current?.click(),style:{backgroundColor:"#ff9800",color:"#1a1a1a",border:"none",borderRadius:"6px",padding:"8px",fontSize:"13px",fontWeight:"bold",cursor:"pointer"},children:" Import from File"}),r.jsx("button",{onClick:()=>q(!0),style:{backgroundColor:"#9c27b0",color:"#1a1a1a",border:"none",borderRadius:"6px",padding:"8px",fontSize:"13px",fontWeight:"bold",cursor:"pointer"},children:" Import from Text"})]}),r.jsx("input",{ref:b,type:"file",accept:".json",onChange:Pe,style:{display:"none"}})]})]}),r.jsxs("section",{children:[r.jsx("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:"Storage Information"}),r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"16px",border:"1px solid #404040"},children:[r.jsxs("div",{style:{display:"grid",gap:"8px",fontSize:"14px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Saved Games:"}),r.jsxs("span",{style:{fontWeight:"bold"},children:[o.length,"/10"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Storage Used:"}),r.jsx("span",{style:{fontWeight:"bold"},children:Yg(Tt)})]})]}),o.length>0&&r.jsx("button",{onClick:$t,style:{marginTop:"12px",width:"100%",backgroundColor:"#f44336",color:"#1a1a1a",border:"none",borderRadius:"6px",padding:"8px",fontSize:"13px",fontWeight:"bold",cursor:"pointer"},children:" Clear All Saves"})]})]})]}),r.jsx("div",{children:r.jsxs("section",{children:[r.jsxs("h3",{style:{margin:"0 0 12px 0",color:"#4fc3f7",fontSize:"1.2rem"},children:["Load Saved Game (",o.length,")"]}),o.length===0?r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"20px",textAlign:"center",border:"1px solid #404040",opacity:.6},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:"12px"},children:""}),r.jsx("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:"No Saved Games"}),r.jsx("div",{style:{fontSize:"14px"},children:"Save your current game to see it here."})]}):r.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",border:"1px solid #404040",maxHeight:"500px",overflowY:"auto"},children:o.map(Q=>r.jsxs("div",{onClick:()=>x(Q),style:{padding:"16px",borderBottom:"1px solid #404040",cursor:"pointer",backgroundColor:y?.id===Q.id?"#404040":"transparent"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"8px"},children:[r.jsxs("div",{style:{flex:1},children:[r.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:Q.name}),r.jsx("div",{style:{fontSize:"12px",opacity:.7},children:Gg(Q.savedAt)}),r.jsx("div",{style:{fontSize:"13px",opacity:.8,marginTop:"4px"},children:Wg(Q.pack)})]}),Q.name.includes("[AUTO]")&&r.jsx("span",{style:{backgroundColor:"#ff9800",color:"#1a1a1a",padding:"2px 6px",borderRadius:"8px",fontSize:"10px",fontWeight:"bold"},children:"AUTO"})]}),y?.id===Q.id&&r.jsxs("div",{style:{marginTop:"12px",display:"grid",gap:"6px"},children:[r.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),te(Q.id)},style:{backgroundColor:"#4caf50",color:"#1a1a1a",border:"none",borderRadius:"4px",padding:"6px 12px",fontSize:"12px",fontWeight:"bold",cursor:"pointer"},children:" Load Game"}),r.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),$(Q.id)},style:{backgroundColor:"#f44336",color:"#1a1a1a",border:"none",borderRadius:"4px",padding:"6px 12px",fontSize:"12px",fontWeight:"bold",cursor:"pointer"},children:" Delete"})]})]},Q.id))})]})})]}),m&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:()=>C(!1),children:r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"12px",padding:"24px",maxWidth:"600px",width:"100%",maxHeight:"80vh",overflowY:"auto",color:"#e0e0e0",border:"1px solid #404040"},onClick:Q=>Q.stopPropagation(),children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#4fc3f7"},children:"Export Game Data"}),r.jsx("div",{style:{marginBottom:"16px"},children:r.jsx("textarea",{value:T,readOnly:!0,style:{width:"100%",height:"200px",backgroundColor:"#1a1a1a",border:"1px solid #404040",borderRadius:"4px",color:"#e0e0e0",padding:"8px",fontSize:"12px",fontFamily:"monospace",resize:"vertical"}})}),r.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.jsx("button",{onClick:Ge,style:{backgroundColor:"#4caf50",color:"#1a1a1a",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"14px",fontWeight:"bold",cursor:"pointer"},children:" Download File"}),r.jsx("button",{onClick:()=>navigator.clipboard.writeText(T),style:{backgroundColor:"#2196f3",color:"#1a1a1a",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"14px",fontWeight:"bold",cursor:"pointer"},children:" Copy to Clipboard"}),r.jsx("button",{onClick:()=>C(!1),style:{backgroundColor:"#666",color:"#e0e0e0",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"14px",fontWeight:"bold",cursor:"pointer"},children:"Close"})]})]})}),Z&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:()=>q(!1),children:r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"12px",padding:"24px",maxWidth:"600px",width:"100%",maxHeight:"80vh",overflowY:"auto",color:"#e0e0e0",border:"1px solid #404040"},onClick:Q=>Q.stopPropagation(),children:[r.jsx("h3",{style:{margin:"0 0 16px 0",color:"#4fc3f7"},children:"Import Game Data"}),r.jsx("div",{style:{marginBottom:"16px"},children:r.jsx("textarea",{value:X,onChange:Q=>ee(Q.target.value),placeholder:"Paste your game save data here...",style:{width:"100%",height:"200px",backgroundColor:"#1a1a1a",border:"1px solid #404040",borderRadius:"4px",color:"#e0e0e0",padding:"8px",fontSize:"12px",fontFamily:"monospace",resize:"vertical"}})}),r.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.jsx("button",{onClick:Ye,disabled:!X.trim(),style:{backgroundColor:X.trim()?"#4caf50":"#666",color:"#1a1a1a",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"14px",fontWeight:"bold",cursor:X.trim()?"pointer":"not-allowed"},children:" Import Game"}),r.jsx("button",{onClick:()=>q(!1),style:{backgroundColor:"#666",color:"#e0e0e0",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"14px",fontWeight:"bold",cursor:"pointer"},children:"Cancel"})]})]})})]})}function Xg({pack:f,onPackUpdate:i}){const[c,o]=Se.useState("hunting"),[u,h]=Se.useState([]),g=zn.getPatrolEngine(),y=g.getAvailableWolves(f,c),x=g.getRequiredPatrols(f),m=g.getMentorPupPairs(f),C=Math.floor(f.day/30)*30,T=(f.patrolHistory||[]).filter(b=>b.day>=C),Y=b=>{h(O=>O.includes(b)?O.filter(U=>U!==b):[...O,b])},X=()=>{if(u.length===0)return;const b=u.map(te=>f.wolves.find($=>$.id===te)).filter(te=>te!==void 0),O=g.createPatrolAssignment(c,b,f),U={...f};U.assignedPatrols||(U.assignedPatrols=[]),U.assignedPatrols.push(O),U.logs.push(`Day ${f.day}: ${c.replace("_"," ")} patrol assigned to ${b.map(te=>te.name).join(", ")}`),h([]),i(U)},ee=(b,O)=>{if(O.length===0)return;const U={...f},te=g.createMentorPupPatrol(b,O,U);U.assignedPatrols||(U.assignedPatrols=[]),U.assignedPatrols.push(te),U.logs.push(`Day ${f.day}: ${b.name} will mentor ${O.map($=>$.name).join(", ")} on a training patrol`),i(U)},Z=b=>{switch(b){case"hunting":return"#4caf50";case"border":return"#ff9800";case"training":return"#2196f3";case"herb_gathering":return"#8bc34a"}},q=b=>{switch(b){case"hunting":return"";case"border":return"";case"training":return"";case"herb_gathering":return""}};return r.jsxs("div",{style:{color:"#e0e0e0"},children:[r.jsx("h2",{style:{margin:"0 0 20px 0",color:"#4fc3f7",fontSize:"1.6rem"},children:" Patrol Management"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"25px"},children:[r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"15px",border:"1px solid #404040"},children:[r.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",color:"#4fc3f7"},children:"Pack Resources"}),r.jsxs("div",{style:{fontSize:"13px"},children:[r.jsxs("div",{style:{marginBottom:"5px"},children:[" Food: ",r.jsx("strong",{children:f.food||0})]}),r.jsxs("div",{style:{marginBottom:"5px"},children:[" Herbs: ",r.jsx("strong",{children:f.herbs})]}),r.jsxs("div",{children:[" Reputation: ",r.jsxs("strong",{children:[f.patrolReputation||50,"/100"]})]})]})]}),r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"15px",border:"1px solid #404040"},children:[r.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",color:"#4fc3f7"},children:"Monthly Requirements"}),r.jsxs("div",{style:{fontSize:"13px"},children:[r.jsxs("div",{style:{marginBottom:"5px"},children:[" Hunting: ",r.jsx("strong",{children:x.hunting})," needed"]}),r.jsxs("div",{children:[" Border: ",r.jsx("strong",{children:x.border})," needed"]})]})]}),r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"15px",border:"1px solid #404040"},children:[r.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",color:"#4fc3f7"},children:"This Month's Patrols"}),r.jsxs("div",{style:{fontSize:"13px"},children:[r.jsxs("div",{style:{marginBottom:"5px"},children:[" Hunting:"," ",r.jsx("strong",{children:T.filter(b=>b.type==="hunting").length})]}),r.jsxs("div",{style:{marginBottom:"5px"},children:[" Border:"," ",r.jsx("strong",{children:T.filter(b=>b.type==="border").length})]}),r.jsxs("div",{style:{marginBottom:"5px"},children:[" Training:"," ",r.jsx("strong",{children:T.filter(b=>b.type==="training").length})]}),r.jsxs("div",{children:[" Herb Gathering:"," ",r.jsx("strong",{children:T.filter(b=>b.type==="herb_gathering").length})]})]})]})]}),r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"12px",padding:"20px",border:"1px solid #404040",marginBottom:"25px"},children:[r.jsx("h3",{style:{margin:"0 0 15px 0",color:"#4fc3f7"},children:"Assign New Patrol"}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"bold"},children:"Patrol Type:"}),r.jsx("div",{style:{display:"flex",gap:"10px"},children:["hunting","border","training","herb_gathering"].map(b=>r.jsxs("button",{onClick:()=>{o(b),h([])},style:{backgroundColor:c===b?Z(b):"#404040",color:c===b?"#1a1a1a":"#e0e0e0",border:"none",borderRadius:"6px",padding:"8px 15px",fontSize:"14px",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",gap:"5px"},children:[q(b)," ",b.charAt(0).toUpperCase()+b.slice(1)]},b))})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsxs("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"bold"},children:["Select Wolves (",u.length," selected):"]}),y.length===0?r.jsxs("div",{style:{padding:"15px",backgroundColor:"#1a1a1a",borderRadius:"6px",border:"1px solid #404040",textAlign:"center",fontStyle:"italic",opacity:.7},children:["No wolves available for ",c," patrols"]}):r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"10px"},children:y.map(b=>r.jsxs("div",{onClick:()=>Y(b.id),style:{backgroundColor:u.includes(b.id)?"#4fc3f7":"#404040",color:u.includes(b.id)?"#1a1a1a":"#e0e0e0",border:"none",borderRadius:"6px",padding:"10px",cursor:"pointer",fontSize:"13px"},children:[r.jsxs("div",{style:{fontWeight:"bold",marginBottom:"3px"},children:[b.name," (",b.role,")"]}),r.jsxs("div",{style:{opacity:.8},children:["Health: ",b.stats.health,"/100  Age: ",b.age.toFixed(1),"y"]})]},b.id))})]}),r.jsxs("button",{onClick:X,disabled:u.length===0,style:{backgroundColor:u.length>0?Z(c):"#666",color:u.length>0?"#1a1a1a":"#999",border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"16px",fontWeight:"bold",cursor:u.length>0?"pointer":"not-allowed",width:"100%"},children:[q(c)," Assign"," ",c.charAt(0).toUpperCase()+c.slice(1).replace("_"," ")," ","Patrol"]})]}),m.length>0&&r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"12px",padding:"20px",border:"1px solid #404040",marginBottom:"25px"},children:[r.jsx("h3",{style:{margin:"0 0 15px 0",color:"#4fc3f7"},children:" Mentor-Pup Training Patrols"}),r.jsx("div",{style:{display:"grid",gap:"15px"},children:m.map(({mentor:b,pups:O})=>r.jsx(Qg,{mentor:b,pups:O,onAssignPatrol:ee},b.id))})]}),f.assignedPatrols&&f.assignedPatrols.length>0&&r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"12px",padding:"20px",border:"1px solid #404040",marginBottom:"25px"},children:[r.jsx("h3",{style:{margin:"0 0 15px 0",color:"#4fc3f7"},children:"Scheduled Patrols"}),r.jsx("div",{style:{display:"grid",gap:"10px"},children:f.assignedPatrols.filter(b=>!b.completed).map(b=>{const O=b.participants.map(te=>f.wolves.find($=>$.id===te)?.name).filter(Boolean).join(", "),U=b.scheduledDay-f.day;return r.jsx("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"6px",border:`1px solid ${Z(b.type)}`,padding:"12px"},children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("div",{children:[r.jsxs("div",{style:{fontWeight:"bold",marginBottom:"3px"},children:[q(b.type)," ",b.type.charAt(0).toUpperCase()+b.type.slice(1)," ","Patrol"]}),r.jsx("div",{style:{fontSize:"13px",opacity:.8},children:O})]}),r.jsx("div",{style:{textAlign:"right",fontSize:"13px"},children:U<=0?r.jsx("span",{style:{color:"#4fc3f7",fontWeight:"bold"},children:"Returning today"}):r.jsxs("span",{style:{opacity:.7},children:["Returns in ",U," day",U!==1?"s":""]})})]})},b.id)})})]}),f.patrolHistory&&f.patrolHistory.length>0&&r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"12px",padding:"20px",border:"1px solid #404040"},children:[r.jsx("h3",{style:{margin:"0 0 15px 0",color:"#4fc3f7"},children:"Recent Patrol Results"}),r.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",display:"grid",gap:"8px"},children:f.patrolHistory.slice(-10).reverse().map(b=>{const O={success:"#4caf50",major_success:"#8bc34a",failure:"#ff9800",disaster:"#f44336",event:"#9c27b0"}[b.outcome];return r.jsxs("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"6px",border:`1px solid ${O}`,padding:"10px",fontSize:"13px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px"},children:[r.jsxs("span",{style:{fontWeight:"bold"},children:[q(b.type)," ",b.type.charAt(0).toUpperCase()+b.type.slice(1)]}),r.jsx("span",{style:{color:O,fontWeight:"bold"},children:b.outcome.replace("_"," ").toUpperCase()})]}),r.jsx("div",{style:{opacity:.8},children:b.description}),r.jsxs("div",{style:{fontSize:"11px",opacity:.6,marginTop:"3px"},children:["Day ",b.day]})]},b.id)})})]})]})}function Qg({mentor:f,pups:i,onAssignPatrol:c}){const[o,u]=Se.useState([]),h=y=>{u(x=>x.includes(y)?x.filter(m=>m!==y):[...x,y])},g=()=>{const y=o.map(x=>i.find(m=>m.id===x)).filter(x=>x!==void 0);c(f,y),u([])};return r.jsxs("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"8px",border:"1px solid #2196f3",padding:"15px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[r.jsxs("div",{children:[r.jsxs("div",{style:{fontWeight:"bold",fontSize:"16px"},children:[" ",f.name," (",f.role,")"]}),r.jsxs("div",{style:{fontSize:"13px",opacity:.8},children:["Health: ",f.stats.health,"/100  Intelligence:"," ",f.stats.intelligence,"/10"]})]}),r.jsxs("button",{onClick:g,disabled:o.length===0,style:{backgroundColor:o.length>0?"#2196f3":"#666",color:o.length>0?"#1a1a1a":"#999",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"14px",fontWeight:"bold",cursor:o.length>0?"pointer":"not-allowed"},children:[" Train (",o.length,")"]})]}),r.jsx("div",{style:{marginBottom:"10px",fontSize:"14px",fontWeight:"bold"},children:"Select Pups to Train:"}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"8px"},children:i.map(y=>r.jsxs("div",{onClick:()=>h(y.id),style:{backgroundColor:o.includes(y.id)?"#2196f3":"#404040",color:o.includes(y.id)?"#1a1a1a":"#e0e0e0",border:"none",borderRadius:"6px",padding:"8px",cursor:"pointer",fontSize:"13px"},children:[r.jsxs("div",{style:{fontWeight:"bold",marginBottom:"2px"},children:[" ",y.name]}),r.jsxs("div",{style:{opacity:.8,fontSize:"11px"},children:["Age: ",y.age.toFixed(1),"y  Health: ",y.stats.health,"/100",y.trainingMentorId===f.id&&r.jsxs("div",{style:{fontSize:"10px",marginTop:"2px",fontStyle:"italic"},children:[" Already mentored by ",f.name]})]})]},y.id))})]})}const _a={leadership:"#ff6b6b",ceremony:"#45b7d1",crisis:"#fd79a8",opportunity:"#96ceb4",pack_wide:"#ffeaa7"},Vg={leadership:"",ceremony:"",crisis:"",opportunity:"",pack_wide:""};function Zg({decision:f,pack:i,onChoice:c,onClose:o}){const u="category"in f,g=(u?f:null)?.category||"leadership",y=f.choices.filter(m=>(m.condition,!0)),x=f.timeoutDays?`${f.timeoutDays} days to decide`:"No time limit";return r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:o,children:r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"16px",padding:"32px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflowY:"auto",color:"#e0e0e0",border:`3px solid ${_a[g]||"#404040"}`,boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},onClick:m=>m.stopPropagation(),children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[r.jsxs("div",{style:{flex:1},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[u&&r.jsxs("div",{style:{fontSize:"32px",display:"flex",alignItems:"center"},children:[" ",Vg[g]]}),r.jsxs("div",{children:[r.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"1.8rem",color:_a[g]||"#e0e0e0",lineHeight:"1.2"},children:f.title||"Pack Decision"}),u&&r.jsxs("div",{style:{display:"inline-block",backgroundColor:_a[g],color:"#1a1a1a",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold",textTransform:"uppercase"},children:[g.replace("_"," "),"  Moon Event"]})]})]}),r.jsxs("div",{style:{fontSize:"12px",opacity:.7,marginBottom:"16px"},children:["Day ",i.day,"  ",i.season,"  ",x]})]}),o&&r.jsx("button",{onClick:o,style:{backgroundColor:"transparent",border:"none",color:"#e0e0e0",fontSize:"24px",cursor:"pointer",padding:"4px",borderRadius:"4px",opacity:.7},children:""})]}),r.jsx("div",{style:{backgroundColor:"#1a1a1a",border:`1px solid ${_a[g]}40`,borderRadius:"12px",padding:"20px",marginBottom:"32px",fontSize:"16px",lineHeight:"1.6"},children:f.text}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"12px",marginBottom:"24px",padding:"16px",backgroundColor:"#1a1a1a",borderRadius:"8px",border:"1px solid #333"},children:[r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#4fc3f7"},children:i.wolves.filter(m=>!m._dead&&!m._dispersed).length}),r.jsx("div",{style:{fontSize:"12px",opacity:.7},children:"Wolves"})]}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#96ceb4"},children:i.food||0}),r.jsx("div",{style:{fontSize:"12px",opacity:.7},children:"Food"})]}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#ffeaa7"},children:[i.packApproval||50,"%"]}),r.jsx("div",{style:{fontSize:"12px",opacity:.7},children:"Approval"})]})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"1.2rem",color:"#4fc3f7"},children:"Choose Your Path"}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:y.map((m,C)=>r.jsx("button",{onClick:()=>c(m.id),style:{backgroundColor:"#333",border:`2px solid ${_a[g]}40`,borderRadius:"12px",padding:"20px",color:"#e0e0e0",fontSize:"15px",fontWeight:"500",cursor:"pointer",textAlign:"left",transition:"all 0.2s ease",position:"relative"},onMouseEnter:T=>{T.currentTarget.style.backgroundColor="#404040",T.currentTarget.style.borderColor=_a[g]||"#404040",T.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:T=>{T.currentTarget.style.backgroundColor="#333",T.currentTarget.style.borderColor=`${_a[g]||"#404040"}40`,T.currentTarget.style.transform="translateY(0)"},children:r.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[r.jsx("div",{style:{backgroundColor:_a[g],color:"#1a1a1a",width:"24px",height:"24px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",flexShrink:0,marginTop:"2px"},children:C+1}),r.jsxs("div",{style:{flex:1},children:[r.jsx("div",{style:{lineHeight:"1.4",marginBottom:"8px"},children:m.text}),m.description&&r.jsx("div",{style:{fontSize:"13px",opacity:.7,lineHeight:"1.3"},children:m.description})]})]})},m.id))})]}),f.timeoutDays&&r.jsxs("div",{style:{backgroundColor:"#332222",border:"1px solid #664444",borderRadius:"8px",padding:"12px",fontSize:"13px",color:"#ffcc99",textAlign:"center"},children:[" This decision will be made automatically if not chosen within"," ",f.timeoutDays," days"]})]})})}function Kg(f){return{...f,wolves:f.wolves.map(Jg),matingPairs:f.matingPairs||[]}}function Jg(f){return{...f,role:f.role==="alpha_mate"?"beta":f.role,breedingHistory:f.breedingHistory||{totalLitters:0},familyTree:f.familyTree||{parentIds:[],siblingIds:[],offspringIds:[]},relationships:f.relationships||{}}}function Pg(){const[f,i]=Se.useState(()=>{const b=Af.generateRandomBiome(),U={name:"Moonhowl Pack",day:1,season:"spring",wolves:Af.generateRandomPack(b),matingPairs:[],herbs:5,logs:["Day 1: The pack begins their journey..."],eventHistory:[],prophecies:[],storyEvents:[],prophecyPower:0,assignedPatrols:[],patrolHistory:[],patrolReputation:50,food:5,pendingDecisions:[],decisionHistory:[],scheduledConsequences:[],packApproval:50,lastMoonEventDay:0,territory:{biome:b,rivalPacks:[],foodRichness:5,herbAbundance:5,dangerLevel:3}};return jt.loadEvents(jg),jt.loadMoonEvents(Tg),jt.loadConsequenceTemplates(_g),jt.loadMultiOutcomeConsequences(Cg),U}),[c,o]=Se.useState("overview"),[u,h]=Se.useState(null),[g,y]=Se.useState(null),x=()=>{const b={...f};if(zn.simulateDay(b).forEach(U=>{b.logs.push(`Day ${b.day}: ${U.text}`)}),b.day%10===0)try{Dt.createAutoSave(b)}catch(U){console.warn("Auto-save failed:",U)}b.pendingDecisions&&b.pendingDecisions.length>0&&!g&&y(b.pendingDecisions[0]||null),i(b)},m=b=>{const O={...f};zn.simulateMultipleDays(O,b).forEach(te=>{O.logs.push(`Day ${te.day}: ${te.text}`)});try{Dt.createAutoSave(O)}catch(te){console.warn("Auto-save failed:",te)}O.pendingDecisions&&O.pendingDecisions.length>0&&!g&&y(O.pendingDecisions[0]||null),i(O)},C=b=>{const O=Kg(b);i(O)},T=b=>{if(!g)return;const O={...f};jt.resolveDecision(O,g.id,b,!0);const U=O.pendingDecisions&&O.pendingDecisions.length>0&&O.pendingDecisions[0]||null;y(U),i(O)},Y=()=>{y(null)},X=f.wolves.filter(b=>!b._dead&&!b._dispersed),ee=zn.getPackStats(f),Z=X.filter(b=>b.age>=1.5&&b.age<=10).length>=2?1:0,q=[{id:"overview",label:" Overview",count:null},{id:"roster",label:" Roster",count:X.length},{id:"patrols",label:" Patrols",count:f.assignedPatrols?.filter(b=>!b.completed).length||0},{id:"healer",label:" Healer",count:f.herbs},{id:"territory",label:" Territory",count:f.territory?.rivalPacks.length||0},{id:"genetics",label:" Genetics",count:Z},{id:"decisions",label:" Decisions",count:f.pendingDecisions?.length||0},{id:"saves",label:" Saves",count:null},{id:"events",label:" Events",count:f.logs.length}];return r.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#1a1a1a",color:"#e0e0e0",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif'},children:[r.jsxs("header",{style:{textAlign:"center",padding:"20px 20px 0 20px",borderBottom:"1px solid #404040",marginBottom:"0"},children:[r.jsx("h1",{style:{fontSize:"2.5rem",margin:"0 0 10px 0",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:" PackGen - Wolf Pack Simulator"}),r.jsxs("p",{style:{fontSize:"1.1rem",opacity:.8,margin:"0 0 20px 0"},children:[f.name,"  Day ",f.day," (",f.season,")  ",X.length," ","wolves"]}),r.jsx("nav",{style:{display:"flex",justifyContent:"center",gap:"0"},children:q.map(b=>r.jsxs("button",{onClick:()=>o(b.id),style:{backgroundColor:c===b.id?"#4fc3f7":"#2a2a2a",color:c===b.id?"#1a1a1a":"#e0e0e0",border:"1px solid #404040",borderBottom:c===b.id?"2px solid #4fc3f7":"1px solid #404040",padding:"12px 20px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",position:"relative",borderRadius:"8px 8px 0 0",marginBottom:"-1px"},children:[b.label,b.count!==null&&r.jsx("span",{style:{marginLeft:"8px",backgroundColor:c===b.id?"#1a1a1a":"#4fc3f7",color:c===b.id?"#4fc3f7":"#1a1a1a",padding:"2px 6px",borderRadius:"10px",fontSize:"11px"},children:b.count})]},b.id))})]}),r.jsxs("main",{style:{padding:"20px"},children:[c==="overview"&&r.jsxs("div",{children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"25px",marginBottom:"30px"},children:[r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"12px",padding:"20px",border:"1px solid #404040"},children:[r.jsx("h2",{style:{margin:"0 0 20px 0",color:"#4fc3f7",fontSize:"1.4rem"},children:"Pack Status"}),r.jsxs("div",{style:{display:"grid",gap:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{style:{opacity:.8},children:"Pack:"}),r.jsx("span",{style:{fontWeight:"bold"},children:f.name})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{style:{opacity:.8},children:"Day:"}),r.jsxs("span",{style:{fontWeight:"bold"},children:[f.day," (",f.season,")"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{style:{opacity:.8},children:"Wolves:"}),r.jsx("span",{style:{fontWeight:"bold"},children:X.length})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{style:{opacity:.8},children:"Food:"}),r.jsx("span",{style:{fontWeight:"bold"},children:f.food||0})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{style:{opacity:.8},children:"Herbs:"}),r.jsx("span",{style:{fontWeight:"bold"},children:f.herbs})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{style:{opacity:.8},children:"Avg Health:"}),r.jsx("span",{style:{fontWeight:"bold"},children:ee.averageHealth.toFixed(1)})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{style:{opacity:.8},children:"Prophecies:"}),r.jsx("span",{style:{fontWeight:"bold"},children:f.prophecies.length})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{style:{opacity:.8},children:"Pack Approval:"}),r.jsxs("span",{style:{fontWeight:"bold",color:(f.packApproval||50)>=70?"#96ceb4":(f.packApproval||50)>=30?"#ffeaa7":"#fd79a8"},children:[f.packApproval||50,"%"]})]}),f.pendingDecisions&&f.pendingDecisions.length>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{style:{opacity:.8},children:"Pending Decisions:"}),r.jsx("span",{style:{fontWeight:"bold",color:"#4fc3f7"},children:f.pendingDecisions.length})]})]}),r.jsxs("div",{style:{display:"grid",gap:"10px",marginTop:"20px"},children:[r.jsx("button",{onClick:x,style:{width:"100%",padding:"12px 20px",fontSize:"16px",backgroundColor:"#4fc3f7",color:"#1a1a1a",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:" Simulate 1 Day"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[r.jsx("button",{onClick:()=>m(7),style:{padding:"10px 16px",fontSize:"14px",backgroundColor:"#2a2a2a",color:"#e0e0e0",border:"1px solid #404040",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:" 7 Days"}),r.jsx("button",{onClick:()=>m(30),style:{padding:"10px 16px",fontSize:"14px",backgroundColor:"#2a2a2a",color:"#e0e0e0",border:"1px solid #404040",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:" 30 Days"})]})]})]}),r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"12px",padding:"20px",border:"1px solid #404040"},children:[r.jsx("h2",{style:{margin:"0 0 15px 0",color:"#4fc3f7",fontSize:"1.4rem"},children:"Recent Activity"}),r.jsxs("div",{style:{height:"280px",overflowY:"auto",backgroundColor:"#1a1a1a",border:"1px solid #404040",borderRadius:"6px",padding:"12px"},children:[f.logs.slice(-15).map((b,O)=>r.jsx("div",{style:{marginBottom:"8px",fontSize:"13px",lineHeight:"1.4",padding:"4px 0",borderBottom:O<f.logs.slice(-15).length-1?"1px solid #333":"none"},children:b},O)),f.logs.length===1&&r.jsx("div",{style:{opacity:.6,fontStyle:"italic"},children:'Click "Simulate 1 Day" to see events unfold...'})]})]})]}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px"},children:["alpha","beta","hunter","healer","pup","elder"].map(b=>{const O=X.filter(te=>te.role===b),U=O.length>0?O.reduce((te,$)=>te+$.stats.health,0)/O.length:0;return r.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"16px",border:"1px solid #404040",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:O.length}),r.jsx("div",{style:{fontWeight:"bold",textTransform:"capitalize",marginBottom:"4px"},children:b==="alpha"?"Alphas":b+"s"}),r.jsxs("div",{style:{fontSize:"12px",opacity:.7},children:["Avg Health: ",U.toFixed(0)]})]},b)})})]}),c==="roster"&&r.jsx(Rg,{wolves:f.wolves,onWolfSelect:h}),c==="patrols"&&r.jsx(Xg,{pack:f,onPackUpdate:i}),c==="healer"&&r.jsx(Hg,{pack:f,onPackUpdate:i,simulationEngine:zn}),c==="territory"&&r.jsx(qg,{pack:f,onPackUpdate:i}),c==="genetics"&&r.jsx(kg,{pack:f,onWolfSelect:h}),c==="decisions"&&r.jsxs("div",{children:[r.jsx("h2",{style:{margin:"0 0 20px 0",color:"#4fc3f7",fontSize:"1.4rem"},children:" Pack Decisions"}),f.pendingDecisions&&f.pendingDecisions.length>0?r.jsxs("div",{style:{marginBottom:"30px"},children:[r.jsxs("h3",{style:{margin:"0 0 15px 0",color:"#ffeaa7"},children:["Pending Decisions (",f.pendingDecisions.length,")"]}),f.pendingDecisions.map(b=>r.jsx("div",{style:{backgroundColor:"#2a2a2a",border:"2px solid #4fc3f7",borderRadius:"12px",padding:"20px",marginBottom:"15px",cursor:"pointer"},onClick:()=>y(b),children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[r.jsxs("div",{children:[r.jsx("h4",{style:{margin:"0 0 8px 0",color:"#4fc3f7"},children:b.title||"Pack Decision"}),r.jsx("p",{style:{margin:"0 0 10px 0",opacity:.8,lineHeight:1.4},children:b.text}),r.jsxs("div",{style:{fontSize:"12px",opacity:.6},children:[b.choices.length," choices available",b.timeoutDays&&`  ${b.timeoutDays} days to decide`]})]}),r.jsx("button",{style:{backgroundColor:"#4fc3f7",color:"#1a1a1a",border:"none",borderRadius:"6px",padding:"8px 12px",fontSize:"12px",fontWeight:"bold",cursor:"pointer"},children:"DECIDE"})]})},b.id))]}):r.jsxs("div",{style:{backgroundColor:"#2a2a2a",border:"1px solid #404040",borderRadius:"12px",padding:"30px",textAlign:"center",marginBottom:"30px"},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:"15px"},children:""}),r.jsx("h3",{style:{margin:"0 0 10px 0",color:"#4fc3f7"},children:"No Pending Decisions"}),r.jsx("p",{style:{margin:"0",opacity:.7},children:"The pack is at peace. Moon events will occur every 30 days."})]}),f.decisionHistory&&f.decisionHistory.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{style:{margin:"0 0 15px 0",color:"#96ceb4"},children:["Recent Decisions (",f.decisionHistory.slice(-5).length,")"]}),f.decisionHistory.slice(-5).reverse().map(b=>r.jsx("div",{style:{backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"8px",padding:"15px",marginBottom:"10px"},children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[r.jsxs("div",{children:[r.jsxs("div",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"5px"},children:["Day ",b.day,": ",b.choiceText]}),r.jsx("div",{style:{fontSize:"12px",opacity:.7},children:b.isPlayerChoice?"Player Choice":"Auto-Resolved"})]}),r.jsx("div",{style:{backgroundColor:b.isPlayerChoice?"#4fc3f7":"#666",color:"#1a1a1a",padding:"2px 8px",borderRadius:"10px",fontSize:"10px",fontWeight:"bold"},children:b.isPlayerChoice?"CHOSEN":"AUTO"})]})},b.eventId+b.day))]})]}),c==="saves"&&r.jsx(Lg,{pack:f,onPackLoad:C,onSaveComplete:()=>{}}),c==="events"&&r.jsx(zg,{pack:f})]}),u&&r.jsx(Eg,{wolf:u,pack:f,onClose:()=>h(null)}),g&&r.jsx(Zg,{decision:g,pack:f,onChoice:T,onClose:Y})]})}cg.createRoot(document.getElementById("root")).render(r.jsx(Se.StrictMode,{children:r.jsx(Pg,{})}));
